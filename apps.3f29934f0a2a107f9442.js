(window.webpackJsonp=window.webpackJsonp||[]).push([["apps"],{"0hva":function(e,t,n){"use strict";n.r(t),n.d(t,"initAlbumPage",(function(){return h}));var a=n("vOib"),o=n("1VZq"),i=n("z1UI"),r=n("O5lf"),s=(n("tlMv"),n("z9sQ"));var l,c,u,d,p=function(e){void 0===e&&(e={});var t=window.lang,n=e.title||"",l=e.description||"",c=e.pretag,u=e.buttons||{},d=(e.photos||[]).map((function(e){return Object(o.default)({photo:e})})),p=null;if(e.is_loading)p=Wd.wrap(Object(r.default)({mix:"al_loading",type:"pageLoader"}));else{if(!d.length)return Object(i.default)({separator:!0,more_text:e.add_url?t.mobile_photos_placeholder_album_action:null,more_type:"primary",more_url:e.add_url,text:t.mobile_photos_placeholder_album_text});p={inner:[d],class:"AlbumPage__photos photos_page",tag:"div"}}var _=s.default.class("AlbumPage",{withoutDescription:!l},"--");return{inner:[Object(a.default)({inner:[{inner:[{inner:[n],class:"AlbumPage__title",tag:"h2"},l&&{inner:[l],class:"AlbumPage__description",tag:"span"}],class:"AlbumPage__info",tag:"div"},u.prev,p,u.more,c]})],class:_,tag:"div"}},_=n("OcsD");function h(){var e=$("#mhead");Object(_.getH)(e);$(".AlbumPage")&&(l=!1,c=!1,u=!1,d=!1,Object(_.onBodyScroll)(f),Object(_.onBodyScroll)(!0))}function f(){if(l||(l=$(".AlbumPage__title"),c=Object(_.getH)(l)),u||(u=$(".header__title",$("#mhead"))),!u)return Object(_.onBodyScroll)("__clear",f);d||(d=$(".header__text",u));var e=Math.min(40,Math.max(0,getY(l)-c-scrollTop()));_.setStyle.transform(d,1,[0,e]),u.classList.toggle("header__title--initial-position",0===e)}var b=n("Cbap");b.default.getRouter().addRoute(/\/(?:album|tag)(-?\d+(?:_\d+)?)/,h),b.default.getRouter().addRoute(/\/(?:attachments\?act=choose_photo).*(?:album|tag)=(-?\d+(?:_\d+)?)/,h);t.default=p},1:function(e,t,n){e.exports=n("akQD")},"1VZq":function(e,t,n){"use strict";n.r(t);var a=n("Y6JH");var o=function(e){var t,n=e.photo,o=n.restriction;if(o&&"block"===o.type)t={inner:[{inner:[Object(a.default)({sprite:"wall",name:"do_not_disturb_outline_56"})],class:"PhotosPhotoItem__restriction",tag:"div"}],class:"_image PhotosPhotoItem__photo",tag:"div"};else{var i=["_image",Bem.class("PhotosPhotoItem__photo",{blur:o&&"blur"===o.type},"--")];t={inner:[o&&o.type?{inner:[Object(a.default)({sprite:"wall",name:"hide_outline_56"})],class:"PhotosPhotoItem__restriction",tag:"div"}:null],style:"background-image: url("+n.src+")",attrs:n.attrs,class:i,tag:"div"}}return{inner:[t],href:n.href,class:"PhotosPhotoItem "+n.class,onclick:n.onclick,tag:"a"}};t.default=o},"29dZ":function(e,t,n){"use strict";n.r(t);var a=n("UvyM"),o=n("myok");Object.assign(a.default,o.default),window.Btn=a.default,t.default=a.default},"2IoG":function(e,t,n){"use strict";n.r(t);var a=n("MUpH"),o=n("bZ/P");function i(){var e=Object(a.default)(["\n    <",' class="','" '," ",">\n      ","\n    </",">\n  "]);return i=function(){return e},e}t.default=function(e){void 0===e&&(e={});var t,n,a=o.default.list(e.inner);e.url?(t="a",n=o.default.attr("href",e.url)):(t=e.tag||"div",n="");return o.default.html(i(),t,e.mix,n,e.attrs,a,t)}},"4zn2":function(e,t,n){"use strict";n.r(t),n.d(t,"API_VERSION",(function(){return a})),n.d(t,"VKPAY_TRANSACTION_EVENT",(function(){return o})),n.d(t,"PLATFORM",(function(){return i})),n.d(t,"CLIENT_SCHEME",(function(){return r})),n.d(t,"ERROR_CODES",(function(){return s})),n.d(t,"ERROR_REASONS",(function(){return l})),n.d(t,"ERROR_TYPES",(function(){return c})),n.d(t,"CLOSE_STATUS",(function(){return u})),n.d(t,"GROUP_STATUS",(function(){return d})),n.d(t,"VKPAY_APPS",(function(){return p})),n.d(t,"TEXTLIVE_APPS",(function(){return _})),n.d(t,"VK_CONNECT_EVENTS",(function(){return h}));var a="5.95",o="VKWebAppActionDone",i={WEB:"web",MOBILE_WEB:"mobile-web"},r={BRIGHT_LIGHT:"bright_light",SPACE_GRAY:"space_gray"},s={UNKNOWN:1,MISSING_PARAM:2,OLD_MISSING_PARAM:100,CONNECTION_LOST:3,USER_DENIED:4,INVALID_PARAMS:5,CUSTOM:6,REQUESTS_LIMIT_REACHED:10,ACCESS_DENIED:11},l={UNSUPPORTED_PLATFORM:"Unsupported platform",NATIVE_APP_IS_NOT_INSTALLED:"VK client is not installed on device",USER_NOT_A_PRIVATE_GROUP_MEMBER:"User is not a member of the given private group",UNKNOWN_ERROR:"Unknown error",NETWORK_ERROR:"Network error"},c={CLIENT:"client_error",API:"api_error",AUTH:"auth_error"},u=["success","failed"],d={OPEN:0,CLOSED:1,PRIVATE:2},p=[6217559,7131443],_=[7512376],h={VKWebAppAddToCommunity:"add_to_community",VKWebAppAddToCommunityPreload:"get_groups_list",VKWebAppAddToFavorites:"add_to_favorites",VKWebAppAddToFavoritesPreload:"already_added_to_favorites",VKWebAppAddToMenu:"add_to_menu",VKWebAppGetCommunityAuthToken:"get_community_token",VKWebAppGetCommunityAuthTokenPreload:"get_community_scope",VKWebAppGetCommunityToken:"get_community_token",VKWebAppGetCommunityTokenPreload:"get_community_scope",VKWebAppGetAuthToken:"get_auth_token",VKWebAppGetAuthTokenPreload:"get_auth_token_info",VKWebAppGetPhoneNumber:"get_phone_number",VKWebAppGetPhoneNumberPreload:"already_get_phone_number",VKWebAppGetEmail:"get_email",VKWebAppGetEmailPreload:"already_get_email",VKWebAppGetFriends:"get_friends",VKWebAppAllowNotificationsPreload:"are_notifications_allowed",VKWebAppAllowNotifications:"allow_notifications",VKWebAppDenyNotifications:"deny_notifications",VKWebAppAllowMessagesFromGroup:"allow_messages_from_group",VKWebAppAllowMessagesFromGroupPreload:"can_send_messages_from_group",VKWebAppJoinGroup:"join_group",VKWebAppJoinGroupPreload:"is_group_member",VKWebAppLeaveGroup:"leave_group",VKWebAppLeaveGroupPreload:"is_group_member",VKWebAppOpenApp:"open_app",VKWebAppGetUserInfo:"get_user_info",VKWebAppSendPayload:"send_payload",VKWebAppShowOrderBox:"order",VKWebAppShowLeaderBoardBox:"show_leader_board",VKWebAppShowInviteBox:"invite_friends",VKWebAppShowStoryBox:"story_box",VKWebAppShowRequestBox:"send_request",VKWebAppShowRequestBoxPreload:"request_box_preload",VKWebAppStorageGetKeys:"storage_get_keys",VKWebAppStorageSet:"storage_set",VKWebAppStorageGet:"storage_get",VKWebAppOpenArticleEditor:"open_article_edit",VKWebAppSubscribeStoryApp:"subscribe_story_app",VKWebAppClose:"close",VKWebAppGetGroupInfo:"get_group_info",VKWebAppGetGroupInfoPreload:"is_group_info_allowed"}},"8ZMO":function(e,t,n){"use strict";n.r(t);var a=function(e){return{class:["Anchor",e.mix],id:e.id,tag:"div"}};t.default=a},"9y81":function(e,t,n){"use strict";n.r(t),n.d(t,"IconWd",(function(){return r}));var a=n("bZ/P"),o=n("Mc5h"),i=function(e){var t,n=e.icon,i=e.class||e.mix;return Object(o.default)({mix:a.default.class(i,"Icon",(t={},t[n]=!0,t.active=e.active,t.blue=e.blue,t.bluer=e.bluer,t.dark=e.dark,t.selected=e.selected,t.small=e.small,t.white=e.white,t)),url:e.url,attrs:e.attrs})};function r(e){var t,n=e.icon;return{class:[e.class,Bem.class("Icon",(t={},t[n]=!0,t.active=e.active,t.blue=e.blue,t.bluer=e.bluer,t.dark=e.dark,t.selected=e.selected,t.small=e.small,t.white=e.white,t))],href:e.url,attrs:e.attrs}}Object.assign(i,{toggleActive:function(e){e.classList.toggle(s)}});var s="Icon_active";t.default=i;window.Icon=i},B9v3:function(e,t,n){"use strict";n.r(t),n.d(t,"setBookmarkState",(function(){return $})),n.d(t,"ActionsPanel",(function(){return d})),n.d(t,"init",(function(){return q}));var a=n("Y6JH"),o=n("fdw3");var i=function(e){return void 0===e&&(e={}),Object(o.extend)({tag:"textarea",class:["Textarea",e.mix],name:e.name,placeholder:e.placeholder,rows:e.rows?e.rows:3,inner:e.text,maxlength:e.maxlength},e.attrs)},r=n("OcsD");var s=i,l=n("p5n7"),c=n("29dZ");function u(e){return void 0===e&&(e={}),{class:"SharePanel SharePanel-header SharePanel--active ShareHeaderConversationsPanel","aria-hidden":"false","data-name":"ShareHeaderConversationsPanel",inner:[{"aria-label":Object(o.getLang)("mobile_close"),onclick:"cur.share.destroy()",role:"button",class:"SharePanel-header__close",inner:Object(a.default)("common","cancel_24")},{class:"SharePanel-headerText",inner:[{class:"SharePanel-headerText__label",inner:Object(o.getLang)("mobile_like_publish_head_title")},{class:"SharePanel-headerText__receivers"}]},{class:"SharePanel-headerRight",inner:[{"aria-label":Object(o.getLang)("mobile_search"),class:"SharePanel-headerRight__search",role:"button",inner:Object(a.default)("wall","search_24"),onclick:"cur.share.toggleConversationsSearch(true)"},e.supportsExternalShare?{"aria-label":Object(o.getLang)("mobile_share_external"),class:"SharePanel-headerRight__externalShare",role:"button",inner:"iOS"===e.platform?Object(a.default)("wall","share_external_ios_24"):Object(a.default)("wall","share_external_android_24"),onclick:"cur.share.externalShare()"}:null]}]}}function d(e){var t=e.buttons,n=e.options,a="boolean"!=typeof e.active||e.active;return{class:"ActionsPanel SharePanel "+(a?"SharePanel--active":""),"data-name":"ActionsPanel","aria-hidden":!a,style:!(n.can_to_own||n.can_to_club||n.can_bookmark)?"display: none;":"",inner:t.map((function(e){if(e)return function(e){var t=e.href?"a":"div",n=e.onclick,a={tag:t,role:"button",tabindex:-1,href:e.href,onclick:n,class:"ActionsPanel-button ActionsPanel-button--"+e.target,inner:[{class:"ActionsPanel-button__icon",inner:e.icon},{class:"ActionsPanel-button__label",inner:e.label}]};"boolean"==typeof e["aria-pressed"]&&(a["aria-pressed"]=e["aria-pressed"]+"");return a}(e)}))}}var p=function(e){var t=e.can_bookmark,n=e.is_bookmarked,i=e.object,r=e.list,p=e.from,_=e.post_from,h=e.supportsExternalShare,f=e.isVKApp,b=e.targetOwnOnClick,v=Object(o.makeUrl)("/wall",{act:"add",share_box:1,is_vk_app:f,object:i,list:r,from:p,post_from:_});return{inner:[{inner:[u({platform:e.platform,supportsExternalShare:h}),{class:"SharePanel ShareHeaderSearch ShareHeaderConversationsSearchPanel","aria-hidden":"true","data-name":"ShareHeaderConversationsSearchPanel",role:"search",inner:Object(l.default)({disabled:!0,autocomplete:!1,onblur:'cur.share.clearSearch(event, "peers", true)',prefix:{text:{role:"button",inner:Object(a.default)("wall","search_outline_16")}},postfix:{text:{class:"ShareHeaderSearch__clear",role:"button",onclick:'cur.share.clearSearch(event, "peers")',inner:Object(a.default)("common","cancel_outline_24")}},class:"ShareHeaderConversationsSearchPanel__input",id:"ShareHeaderConversationsSearchPanel__input",placeholder:Object(o.getLang)("mobile_search"),spellcheck:!1})},{class:"SharePanel SharePanel-header ShareHeaderGroupsPanel","aria-hidden":"true","data-name":"ShareHeaderGroupsPanel",inner:[{"aria-label":Object(o.getLang)("mobile_back"),onclick:"cur.share.toggleGroupsPanel(false)",role:"button",class:"SharePanel-header__close",inner:Object(a.default)("common","back_24")},{class:"SharePanel-headerText",inner:[{class:"SharePanel-headerText__label",inner:Object(o.getLang)("mobile_like_publish_head_title")}]},{class:"SharePanel-headerRight",inner:[{class:"SharePanel-headerRight__search",role:"button",inner:Object(a.default)("wall","search_24"),onclick:'cur.share.setActivePanel(this, "ShareHeaderGroupsSearchPanel", true)'}]}]},{class:"SharePanel ShareHeaderSearch ShareHeaderGroupsSearchPanel","aria-hidden":"true","data-name":"ShareHeaderGroupsSearchPanel",role:"search",inner:Object(l.default)({disabled:!0,autocomplete:!1,onblur:'cur.share.clearSearch(event, "group", true)',prefix:{text:{"aria-label":Object(o.getLang)("mobile_search"),role:"button",inner:Object(a.default)("wall","search_outline_16")}},postfix:{text:{class:"ShareHeaderSearch__clear",onclick:'cur.share.clearSearch(event, "group")',inner:Object(a.default)("common","cancel_outline_24")}},class:"ShareHeaderGroupsSearchPanel__input",id:"ShareHeaderGroupsSearchPanel__input",placeholder:Object(o.getLang)("mobile_search"),spellcheck:!1})}],class:"SharePanelRoot ShareHeader",tag:"header"},{id:"Share__input",style:"display: none;",tag:"input"},{inner:[{class:"ShareConversations SharePanel SharePanel--active filter_peer_wrap","data-name":"ShareConversations","aria-hidden":"false",role:"group",id:"ShareConversations"},{class:"ShareGroups SharePanel","data-name":"ShareGroups","aria-hidden":"true",role:"group",id:"ShareGroups"}],class:"SharePanelRoot ShareLists",tag:"section"},{inner:[d({active:!0,options:e,buttons:[e.can_to_own?{target:"own",label:Object(o.getLang)("mobile_share_target_own"),onclick:b||"cur.share.go('"+v+"')",icon:Object(a.default)("wall","repost_outline_28")}:null,e.can_to_club?{target:"group",label:Object(o.getLang)("mobile_share_target_group"),icon:Object(a.default)("wall","users_outline_28")}:null,t?{target:"bookmark","aria-pressed":n,label:n?Object(o.getLang)("mobile_share_target_bookmark_active"):Object(o.getLang)("mobile_share_target_bookmark"),icon:Object(a.default)("wall",e.is_bookmarked?"favorite_28":"favorite_outline_28")}:null]}),{class:"SharePanel MessagePanel","aria-hidden":"true","data-name":"MessagePanel",inner:[Object(l.default)({tabindex:-1,autocomplete:!1,class:"MessagePanel__input",on_click:["cur.share.expandMessage"],placeholder:Object(o.getLang)("mobile_share_message_placeholder"),spellcheck:!1,readonly:!0,disabled:!0}),Object(c.default)({stretch:!0,size:"large",inner:Object(o.getLang)("mobile_share_message_single"),on_click:"cur.share.sendMessage(event)",use_native_onclick:!0})]},{class:"SharePanel ExpandedMessagePanel","aria-hidden":"true","data-name":"ExpandedMessagePanel",inner:[{class:"ExpandedMessagePanel__textareaWrap",inner:[s({placeholder:Object(o.getLang)("mobile_share_message_placeholder"),rows:1}),{class:"ExpandedMessagePanelSend",inner:Object(a.default)("common","send_active_24")}]}]},{class:"SharePanel ProcessingPanel","aria-hidden":"true","data-name":"ProcessingPanel",inner:[{class:"ProcessingPanel__icon ProcessingPanel__icon--loading",inner:Object(a.default)("wall","loading_40")},{class:"ProcessingPanel__label",inner:Object(o.getLang)("mobile_share_state_progress")}]}],class:"SharePanelRoot ShareBottom",tag:"footer"}],class:"Share","aria-role":"dialog","aria-label":Object(o.getLang)("mobile_like_publish_head_title"),hidden:"false",tabindex:"-1",tag:"div"}},_=n("wTbK"),h=n("YU/R"),f=n("Qz23");function b(e){return/^((?:([a-z]+)_)?([a-z_]+))(-?\d+)?(?:_(\d+))?$/.test(e)}var v=n("UxAg"),m=n("j80l"),g=n("aiw/"),w=n("H5mD"),O=n("zq7H"),y="/hints?act=a_json_friends&mobile=1&from=imwrite&case=Nom&qs=1",j="ShareConversations",k=0,S=!1,A={bookmarks:{}};function E(e){C(e)}function P(e){nav.go(e),cur.share.destroy({isNavigation:!0})}function C(e){if(cur.share){var t=cur.share._els.header,n=e.scrollTop;t.classList.toggle("ShareHeader--scrolled",n>=10)}}function M(e,t,n){if(!cur.share||cur.share.blocked)return!1;if(T(!0),cancelEvent(n),hasClass("inline_item_selected",t))return cur.shareSearch.toggleAttach(e,!1),function(e,t){for(var n=0;n<cur.share.selected.length;n++)if(cur.share.selected[n]===e){cur.share.selected.splice(n,1);break}return D(!1),W(),!1}(e);cur.shareSearch.toggleAttach(e,!0);for(var a=!1,o=0;o<cur.share.selected.length;o++)if(cur.share.selected[o]===e){a=!0;break}return a||cur.share.selected.push(e),T(!1),D(!1),W(),!1}function x(e,t,n){if(cur.share&&!cur.share.blocked){e=e.closest(".SharePanelRoot");var a,o=Object(v.$$)(".SharePanel",e);t&&(a=Object(v.$)("."+t,e)),o.forEach((function(e){var t=e===a;e.setAttribute("aria-hidden",!t),e.classList.toggle("SharePanel--active",t),t?e.removeAttribute("tabindex"):e.setAttribute("tabindex",-1),Object(v.$$)("input, ul",e).forEach((function(e){e.setAttribute("aria-hidden",!t),t?(e.removeAttribute("disabled"),e.setAttribute("tabindex",0)):(e.setAttribute("disabled",!0),e.setAttribute("tabindex",-1))}))}));var i=Object(v.$)("input",a);i&&n&&i.focus(),setStyle(e,{height:a?a.clientHeight:0})}}function T(e){var t=Object(v.$)(".ShareModal");t&&t.classList.toggle("ShareModal--disableAnimations",!e)}function I(e){if(cur.share){var t=cur.share._els,n=t.header,a=t.content,o=t.bottom;a.classList.add("ShareLists--transition"),T(!0),x(n,e?"ShareHeaderGroupsPanel":"ShareHeaderConversationsPanel"),x(a,e?"ShareGroups":"ShareConversations"),x(o,e?"":"ActionsPanel"),setTimeout((function(){a.classList.remove("ShareLists--transition")}),300),Object(v.$)(".SharePanel--active ul",a).focus(),W(),C(e?Object(v.$)("#ShareGroups .ShareList__container"):Object(v.$)("#ShareConversations .ShareList__container"))}}function B(e){if(cur.share){var t=cur.share._els,n=t.header,a=(t.content,t.bottom),o=R();S=e,T(!1),x(a,e?"":o),e&&x(n,"ShareHeaderConversationsSearchPanel",!0),!w.isIOS&&innerWidth<O.DESKTOP_WIDTH&&W(e),setTimeout((function(){browser.ios&&Object(r.scrollTop)(document.activeElement)}),500)}}function L(){if(cur.share){var e=cur.share._els,t=e.content,n=e.bottom,a=e.messageTextarea;x(n,"ExpandedMessagePanel"),t.classList.add("ShareLists--transition"),w.isIOS||W(!1),a.focus({preventScroll:!0})}}function D(e){if(void 0===e&&(e=!0),cur.share){var t=cur.share,n=t.selected,a=t._els;ge(j)&&(!function(){if(!cur.share)return;var e=cur.share.cache._cache,t=Object(v.$)(".ShareHeaderConversationsPanel"),n=Object(v.$)(".ShareHeaderConversationsPanel .SharePanel-headerText__receivers",t),a=cur.share.selected,o=a.length;t.classList.toggle("ShareHeaderConversationsPanel--hasReceivers",o>0);var i="";if(1===o){i=getLang("mobile_share_box_to_single");var r=e[a[0]][0];i=i.replace("{name}",r)}else if(2===o){i=getLang("mobile_share_box_to_couple");var s=e[a[0]][6]||e[a[0]][0],l=e[a[1]][6]||e[a[1]][0];i=i.replace("{name1}",s).replace("{name2}",l)}else if(o>2){i=getLang("mobile_share_box_to_many");var c=e[a[0]][6]||e[a[0]][0];i=i.replace("{name}",c).replace("{count}",o-1)}n.innerHTML=i}(),V());var o,i,r=R();x(a.bottom,r,e),o=n.length>1,i=cur.share._els.messagePanel,Object(v.$)(".Btn",i).innerHTML=o?getLang("mobile_share_message_many"):getLang("mobile_share_message_single")}}function R(){if(cur.share){var e=cur.share,t=e.selected,n=e.content,a=Object(v.$)(".SharePanel--active",n).getAttribute("data-name");return"ShareHeaderGroupsSearchPanel"===a||"ShareHeaderGroupsPanel"===a?"":document.activeElement&&document.activeElement.closest(".ExpandedMessagePanel")?"ExpandedMessagePanel":t.length>0?"MessagePanel":"ActionsPanel"}}function W(e){if(cur.share&&cur.share._els){var t=cur.share._els,n=t.header,a=t.bottom,o=t.content,i=t.groupsList;if(n&&a&&o){Object(v.$)(".ShareModal");var s=400;(e=S||e)&&(s+=cur.share.lastBottomHeight-Object(r.getH)(a)),a.clientHeight&&(cur.share.lastBottomHeight=a.clientHeight);var l=[n,a].reduce((function(e,t){var n=Object(v.$)(".SharePanel--active",t);return n&&(e+=n.clientHeight,setStyle(t,{height:n.clientHeight})),e}),0),c=Math.min(s,Object(r.getCh)()-l),u=l+c!==k;u||(T(!1),o.classList.remove("ShareLists--transition")),setStyle(i,{bottom:-a.clientHeight}),setStyle(o,{height:c}),u||T(!0),k=l+c}}}function V(){cur.share&&each(geByClass("inline_item",Object(v.$)("ShareConversations__container")),(function(e,t){if(cur.share){var n=intval((t.id||"").substr(4)),a=-1!==cur.share.selected.indexOf(n);toggleClass("inline_item_selected",t,a),t.setAttribute("aria-selected",a);var o=Object(v.$)('input[type="checkbox"]',t);o&&(o.checked=a)}}))}function N(e){var t=cur.share._els.bookmarkButton;if(t){var n=Object(v.$)(".ActionsPanel-button__icon",t),o=Object(v.$)(".ActionsPanel-button__label",t);t.setAttribute("aria-pressed",e),e?(n.innerHTML=Wd.html(Object(a.default)("wall","favorite_28")),o.innerHTML=getLang("mobile_share_target_bookmark_active")):(n.innerHTML=Wd.html(Object(a.default)("wall","favorite_outline_28")),o.innerHTML=getLang("mobile_share_target_bookmark")),window.thover.clear()}}function H(e){var t=cur.share._els,n=t.bottom,o=t.processingPanel,i=this.mail_hash,r=this.object,s=this.list,l=this.appId,c={_ajax:1,from:"share_box",hash:i,list:s,message:Object(v.$)(".ExpandedMessagePanel__textareaWrap textarea").value,to:cur.share.selected.join(","),app_id:l};b(cur.share.options.object)?c.media=r:c.link=r,T(!0),e&&cancelEvent(e),x(n,"ProcessingPanel"),cur.share.blocked=!0,(r.startsWith("story")||r.startsWith("narrative"))&&Stories.sendAnalyticsEvent("share_to_message"),setTimeout((function(){W()})),setTimeout((function(){W()}),350),ajax.post("/mail?act=send",c,{onDone:function(e){T(!0);var t=Object(v.$)(".ProcessingPanel__icon",o),n=Object(v.$)(".ProcessingPanel__label",o);t.classList.remove("ProcessingPanel__icon--loading");var i=e.error;t.innerHTML=Wd.html(i?Object(a.default)("wall","error_circle_40"):Object(a.default)("wall","done_circle_40")),n.innerText=i?getLang("mobile_share_state_error"):getLang("mobile_share_state_success"),setTimeout((function(){cur.app&&(i&&cur.app.hasOwnProperty("vkMiniAppShareFail")?cur.app.vkMiniAppShareFail():!i&&window.isFunction(cur.app.vkMiniAppShareSuccess)&&cur.app.vkMiniAppShareSuccess(0)),cur.share&&cur.share.destroy({isFail:i})}),1e3)}})}function K(e,t,n){void 0===n&&(n=!1),Object(r.preventEvent)(e);var a,o,i,s=cur.share._els.header;if("group"===t?(a=ge("ShareHeaderGroupsSearchPanel__input"),o="ShareHeaderGroupsPanel",i=cur.shareGroupSearch):"peers"===t&&(a=ge("ShareHeaderConversationsSearchPanel__input"),o="ShareHeaderConversationsPanel",i=cur.shareSearch),T(!1),a.value){if(n)return void T(!0);i.clear()}else"peers"===t?(x(s,o),B(!1)):(x(s,o),T(!0))}function F(){var e,t=cur.share.options.object,n="unknown";if(b(cur.share.options.object)){e=/^([a-z_]+)(-?\d+)_(\d+)$/.exec(cur.share.options.object),n=e[1];var a=e[2],o=e[3];"app"===n&&"0"===o&&(t="app"+a),cur.share.options.list&&(t+="?list="+cur.share.options.list),t=t.replace("wall_reply","wall")}else cur.share.options.isVKApp&&(n="link");t=cur.share.options.external_url||t;var i=navigator.share({url:t});if(!i)return Object(r.statlogsValueEvent)("mvk_share_external",n);i.then((function(){cur.share&&Object(r.statlogsValueEvent)("mvk_share_external",n)}))}function U(e,t,n){var a=e.split("_"),o=31,i=5,s=6,l=[o,i,3,s].includes(Object(r.toInt)(t.bookmark_type)),c=[2,s].includes(t.bookmark_type);if(ajax.post("/bookmarks.php",{_ajax:1,from:"share_box",wide:c?1:0,star:l?1:0,act:t.is_bookmarked?"bookmark_remove":"bookmark_add",item_type:t.bookmark_type,item_oid:a[0],item_id:a[1],hash:t.bookmark_hash,link_url:t.link_url,link_title:t.link_title,link_img:t.link_img},{onDone:function(e,t){var n=Object(v.$)("."+e),a=Object(r.ceFromString)(t);n&&Object(r.replace)(a,n.parentNode)}}),t.bookmark_type===i&&Article.toggleButton(e,!t.is_bookmarked),t.bookmark_type===o){var u=Object(v.$)(".StoryMenu__button");Stories.toggleBookmark(u,!0)}t.is_bookmarked=!t.is_bookmarked,A.bookmarks[e]=t.is_bookmarked,n()}function G(){W(!1)}function $(e,t){A.bookmarks[e]=t}var q=function(e,t,n){var o=t.can_to_own,i=void 0===o||o,s=t.can_to_club,l=void 0===s||s,c=t.can_bookmark,u=t.is_bookmarked,d=t.from,O=t.post_from,k=t.list,S=(t.message,t.targetOwnOnClick),C=t.appId,R=t.isVKApp;cur.share&&cur.share.destroy();var $=!b(t.object);if(!$||R){$&&!/^(https|http)?:\/\//i.test(t.object)&&(t.object="https://"+e,e=t.object),h.default&&h.default.close(),t.withoutScrollView||Object(f.preventDocumentScroll)(),$||(u=void 0!==A.bookmarks[e]?A.bookmarks[e]:u,t.is_bookmarked=u),cancelEvent(n);var q=!!navigator.share,z=browser.ios?"iOS":"Android",Y=Object(_.default)({on_overlay_click:"cur.share.destroy()",class:"ShareModal",attached:!0,body:p({targetOwnOnClick:!!S&&"cur.share.toOwnWall()",can_to_own:i,can_to_club:l,supportsExternalShare:q,platform:z,can_bookmark:c,is_bookmarked:u,list:k,from:d,post_from:O,object:t.object,isVKApp:t.isVKApp})}),X=t.withoutHash?null:"share";_.default.open(Wd.elem(Y),!0,X,{swipeDown:!0,onClose:function(){cur.share&&cur.share.destroy({closeModal:!1})}});var Q=Object(v.$)(".ShareModal"),J=Object(v.$)(".ShareHeader"),Z=Object(v.$)(".ShareLists"),ee=Object(v.$)(".ShareBottom"),te=Object(v.$)(".ActionsPanel-button--bookmark"),ne=Object(v.$)(".ActionsPanel-button--group");setTimeout((function(){!function(e){void 0===e&&(e={});cur.shareSearch=new QuickSearch;var t=e.appId?y+"&app_id="+e.appId:y,n=e.appId?y+"&app_id="+e.appId+j:"/hints?act=a_json_friends&mobile=1&from=imwrite&case=Nom&qs=1ShareConversations";cur.shareSearch.init({action:t,field:"ShareHeaderConversationsSearchPanel__input",container:j,top_len:20,onFocusChanged:function(e){e?g.onOpen("top"):g.onClose(),W(e),setTimeout((function(){W(e)}),200)},tpl:function(e,t){return'<ul aria-multiselectable="true" aria-hidden="false" class="ScrollView ShareConversations__container ShareList__container" onscroll="cur.share.onScroll(this)">'+e+"</ul>"},item_tpl:function(e,t){if(cur.share){var n=cur.share.cache._cache,o=n[this.id][0],i=!(!n[this.id][8]||!n[this.id][8].is_casper)?'<span class="ShareConversationsCasperTitle">\n             <span class="ShareConversationsCasperTitle__text">'+this.highlight(o)+'</span>\n             <span class="ShareConversationsCasperTitle__icon">'+Wd.html(Object(a.default)("mail/casper","casper_16"))+"</span>\n           </span>":this.highlight(o),r=-1!==cur.share.selected.indexOf(+this.id)?"inline_item_selected":"";return'\n        <label aria-label="'+o+'" tabindex="0" role="checkbox" id="peer'+this.id+'" onclick="cur.share.select('+this.id+', this)" class="inline_item active '+r+'">\n          <input type="checkbox" style="display: none;">\n            <img aria-hidden="true" class="ii_img" src="'+t+'" />\n            <div class="ii_body">\n              <div class="ii_owner">\n                 '+i+"\n              </div>\n            </div>\n          </input>\n        </label>\n      "}},null_tpl:function(e){var t=getLang("mobile_friends_search_not_found").replace("%s",htsc(e));return e||(t=getLang("mobile_share_list_no_friends")),'<div class="service_msg_box"><div class="service_msg service_msg_null">'+t+"</div></div>"}}),cur.share.cache=QuickSearchCache[n],V()}({appId:C})}),250),addEvent(te,"click",U.bind(this,e,t,(function(){N(t.is_bookmarked)})),{passive:!0}),addEvent(ne,"click",(function(){I(!0)}),{passive:!0});var ae=Object(v.$)(".ExpandedMessagePanel textarea"),oe=Object(v.$)(".MessagePanel__input input");ae.value=t.message||"",oe.value=t.message||"",function(e,t){void 0===t&&(t=3);var n=Object(r.ce)("span",{className:"Textarea__ghost"});Object(r.setStyle)(n,{width:e.clientWidth+"px",padding:Object(r.getStyle)(e,"padding"),lineHeight:Object(r.getStyle)(e,"line-height")}),n.innerText="_",Object(r.append)(n,e.parentNode);var a=n.clientHeight;Object(r.addEvent)(e,"input",(function(){var o=e.value.replace(/ /g,"&nbsp;").replace(/\n/g,"<br />");("\n"===Object(r.last)(o)||o.endsWith("<br />"))&&(o+="&nbsp;"),n.innerHTML=o,e.rows=Math.max(1,Math.min(t,Math.ceil(n.clientHeight/a)))}))}(ae),addEvent(ae,"input blur focus",(function(e){var t=cur.share._els.content;oe.value=ae.value.replace(/\n/gi," "),T(!1),"input"===e.type&&W(!1),"focus"===e.type&&(t.classList.remove("ShareLists--transition"),Q.classList.add("ModalMenu--blocked"),Q.classList.add("ModalMenu--focused"),g.onOpen("bottom"),setTimeout((function(){D(!0),T(!1),W()}),100)),"blur"===e.type&&(Q.classList.remove("ModalMenu--blocked"),e.preventDefault(),e.stopPropagation(),g.onClose(),T(!1),Q.classList.remove("ModalMenu--focused"),w.isIOS||W(!1),setTimeout((function(){D(!1),T(!1),W()}),100))})),addEvent(Object(v.$)(".ExpandedMessagePanelSend"),"click touchend",(function(e){e.stopPropagation(),e.preventDefault(),document.activeElement&&document.activeElement.blur(),cur.share.sendMessage()}),{capture:!0}),addEvent(ae,"touchmove",(function(e){stopEvent(e)}),{capture:!0}),g.onCloseCallback(G),addEvent(ae,"keydown",(function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey&&browser.mac)&&cur.share.sendMessage(e)}));var ie={act:"publish_box",object:"null"};C&&(ie.app_id=C),t.object?(ie.object=t.object,t.list&&(ie.list=t.list)):$&&(ie.link=e,delete ie.object);var re=Object(m.makeUrl)("/like",ie);cur.share={open:!0,onClose:befall(),go:P,options:t,externalShare:F,actionBox:re,blocked:!1,updateHeights:W,_els:{actionsPanel:Object(v.$)(".ActionsPanel"),messagePanel:Object(v.$)(".MessagePanel"),processingPanel:Object(v.$)(".ProcessingPanel"),groupsList:ge("ShareGroups"),conversationsList:ge("ShareConversations"),bookmarkButton:te,messageTextarea:ae,header:J,content:Z,bottom:ee},selected:[],expandMessage:L,toggleGroupsPanel:I,toggleConversationsSearch:B,select:M,clearSearch:K,setActivePanel:x,onScroll:E,sendMessage:H.bind(t),lastBottomHeight:ee.clientHeight,destroy:function(e){void 0===e&&(e={}),e=extend({closeModal:!0,isFail:!0,isNavigation:!1},e),g.offCloseCallback(G);var t=Object(v.$)(".ShareModal");e.isFail&&cur.app&&cur.app.vkMiniAppShareFail&&cur.app.vkMiniAppShareFail(),t&&e.closeModal&&_.default.close(t),cur.share&&(cur.share.onClose(e.isNavigation),cur.share.open=!1),cur.share.options.withoutScrollView||Object(f.restoreDocumentScroll)(),delete cur.share,delete cur.shareSearch,delete cur.shareGroupSearch}},S&&(cur.share.toOwnWall=S),setTimeout((function(){!function(){cur.shareGroupSearch=new QuickSearch;var e=Icon({icon:"chevron_right"});if(!cur.share.options.can_to_club)return;cur.shareGroupSearch.init({load_once:!0,field:"ShareHeaderGroupsSearchPanel__input",container:"ShareGroups",action:cur.share.actionBox,onFocusChanged:function(e){e?g.onOpen("top"):g.onClose(),setTimeout((function(){W(!1)}),100)},tpl:function(e,t){return'<ul aria-hidden="true"  class="ScrollView ShareGroups__container ShareList__container" onscroll="cur.share.onScroll(this)">'+e+"</ul>"},item_tpl:function(t,n){if(!cur.share)return"";var a=function(){if(!cur.share)return{};var e=cur.share.actionBox+"ShareGroups";return QuickSearchCache[e]}()._cache[this.id][0],o=cur.share.options,i=o.object,r=o.list,s=o.from,l=o.post_from,c={act:"add",share_box:"1"};i&&(c=extend(c,{object:i,list:r,from:s,post_from:l})),cur.share.options.isVKApp&&(c.is_vk_app=+cur.share.options.isVKApp);var u=Object(m.makeUrl)("/wall"+this.id,c);return'\n        <li aria-label="'+a+'" tabindex="0" role="link" id="group'+this.id+'" onclick="cur.share.go(\''+u+"', "+cur.share.options.isVKApp+')" class="inline_item " xmlns="http://www.w3.org/1999/html">\n          <img aria-hidden="true" class="ii_img" src="'+n+'" />\n          <div class="ii_body">\n            <div class="ii_owner">\n               '+this.highlight(a)+'\n            </div>\n            <div class="ii_go">\n               '+e+"\n            </div>\n          </div>\n        </li>\n      "},null_tpl:function(e){var t=getLang("mobile_groups_no_groups_found");return e||(t=getLang("mobile_share_list_no_groups")),'<div class="service_msg_box"><div class="service_msg service_msg_null">'+t+"</div></div>"}})}()}),300),N(u),W(),J.closest(".Share").focus(),onBodyResize((function(){document.activeElement&&"INPUT"===document.activeElement.tagName?W(!0):W(!1),setTimeout((function(){T(!0)}),150)})),onBodyResize(!0)}else console.warn("Can't share link outside miniapp")};window.Share=q,extend(window.Share,{setBookmarkState:$});t.default=p},BoyB:function(e,t,n){"use strict";n.r(t);var a=n("TYsd"),o=n("z9sQ"),i=n("Y6JH"),r=function(e){void 0===e&&(e={});var t=[e.class||e.mix,o.default.class("Loading",{white:e.white,large:e.large,spinner:e.spinner})];if(e.spinner)return a.default.html({inner:[Object(i.default)({sprite:"base",name:"spinner_16"})],class:t,tag:"div"});return a.default.html({class:t,inner:{class:"Loading__items",inner:[{class:"Loading__item Loading__item_0"},{class:"Loading__item Loading__item_1"},{class:"Loading__item Loading__item_2"}]}})};t.default=r;window.Loading=r},Cbap:function(e,t,n){"use strict";n.r(t);var a=function(){function e(){this.routes=[]}e.getRouter=function(){return window.router||(window.router=new e),window.router};var t=e.prototype;return t.addRoute=function(e,t,n){this.routes.push({isActive:!1,test:e,activateCallback:t,deactivateCallback:n})},t.test=function(e){var t=e.test;if(nav.cur)return"function"==typeof t?t(window.nav.cur):t instanceof RegExp?t.test(window.nav.cur):!(!window.nav.cur||"string"!=typeof t)&&window.nav.cur.startsWith(t)},t.deactivateAllRoutes=function(){this.routes=this.routes.map((function(e){return e.isActive=!1,e.deactivateCallback&&e.deactivateCallback(),e}))},t.checkRoutes=function(){var e=this;this.routes=this.routes.map((function(t){var n=e.test(t);return n&&t.activateCallback&&t.activateCallback(),!n&&t.isActive&&t.deactivateCallback&&t.deactivateCallback(),t.isActive=n,t}))},e}();t.default=a,window.Router=a},GVTI:function(e,t,n){"use strict";n.r(t),n.d(t,"_PhotoviewPage_tags",(function(){return _}));var a=n("vOib"),o=n("rc7J"),i=n("fdw3"),r=n("29dZ"),s=n("vk58"),l=n("Q8gl"),c=n("O5lf"),u=n("vhZE");function d(e){var t="wi_like_wrap";e.liked_people||(t+=" is_empty");var n="PhotoviewPage__description";return e.photo.description||(n+=" PhotoviewPage__description--empty"),{inner:[e.photo.caption?{inner:[Wd.wrap(e.photo.caption)],class:"PhotoviewPage__caption",tag:"div"}:null,{inner:[Wd.wrap(e.photo.description)],class:n,tag:"div"},{inner:[e.liked_people?e.liked_people:null],class:t,tag:"div"},e.buttons?{inner:[{inner:[e.buttons],class:"wi_buttons",tag:"div"}],class:"wi_buttons_wrap",tag:"div"}:null,e.author,e.replies],class:"PhotoviewPage__footer",tag:"div"}}function p(e){var t=window.lang;return{inner:[{inner:[e.edit_data.rotate.can_rotate?Object(s.default)({inner:[Object(r.default)({inner:[t.mobile_photos_edit_rotate_left],url:e.edit_data.rotate.left,stretch:!0}),Object(r.default)({inner:[t.mobile_photos_edit_rotate_right],url:e.edit_data.rotate.right,stretch:!0})],nowrap:!0}):null,{inner:[{inner:[t.mobile_photos_edit_desc_label],class:"fi_label",tag:"dt"},{inner:[{inner:[e.photo.description],name:"text",class:"textfield",rows:"4",tag:"textarea"}],class:"iwrap",tag:"dd"}],class:"fi_row",tag:"dl"},{inner:[{inner:[t.mobile_photos_edit_album_label],class:"fi_label",tag:"dt"},{inner:[{inner:[e.edit_data.albums.map((function(e){return{inner:[e.name],selected:e.selected?"selected":null,value:e.id,tag:"option"}}))],name:"aid",tag:"select"},{inner:[Object(l.default)({withoutWrap:!0,name:"cover",label:t.mobile_photos_edit_cover_label,type:"checkbox"})],class:"fi_subrow",tag:"div"}],class:"iwrap",tag:"dd"}],class:"fi_row",tag:"dl"},{inner:[Object(s.default)({inner:[Object(r.default)({inner:[t.mobile_photos_edit_save_btn],type:"submit"}),Object(r.default)({inner:[t.mobile_cancel],theme:"link",url:e.edit_data.back_url})]})],class:"fi_row",tag:"div"}],action:e.edit_data.action,method:"post",tag:"form"}],class:"form_item",tag:"div"}}function _(e){return void 0===e&&(e=[]),{inner:[Object.keys(e).map((function(t){return{inner:[{class:"fill",tag:"div"}],class:"pv_tag",id:"pv_tag"+t,style:function(e){if(!Object(i.isArray)(e))return"";var t=e[0];return Object(i.isArray)(t)?"left: "+t[0]+"%; top: "+t[1]+"%; width: "+t[2]+"%; height: "+t[3]+"%":""}(e[t]),tag:"div"}}))],class:"PhotoviewPage__tags",tag:"div"}}var h=function(e){void 0===e&&(e={});var t=e.info||{},n=e.photo||{},r=e.is_loading||!1,s=e.navigation_buttons||{},l=Object(i.concatValues)("PhotoviewPage ",e.class);e.info&&(e.author=Object(o.default)({url:t.url,author_url:t.author_url,avatar:t.avatar,title:t.title,subtitle:t.subtitle,withoutBottomBorder:!e.has_replies})),e.photo||(e.photo={}),e.photo.description||(e.photo.description="");var h,f="",b=null;r&&(l=Object(i.concatValues)(l," PhotoviewPage--skeleton"),n.width?f+=" width"+e.width+"px;":b=Wd.wrap(Object(c.default)({mix:"al_loading",type:"pageLoader"})));var v=["PhotoviewPage__photo"];e.photo.restriction&&("block"===e.photo.restriction.type?v.push("PhotoviewPage__photo--block"):"blur"===e.photo.restriction.type&&v.push("PhotoviewPage__photo--blur")),h=[{src:n.src,style:f,tag:"img"},_(e.tags)];var m,g=!!e.photo.restriction;return g&&((m=e.photo.restriction).width=e.width,m.height=e.height||e.width),Object(a.default)({inner:[{inner:[{inner:[b||{inner:[h],class:v,href:n.href,tag:"a"},{inner:[Object(u.default)(m)],class:"PhotoviewPage__restrictedInfo",style:g?"":"display: none;",tag:"div"},s],class:"PhotoviewPage__thumb",tag:"div"},e.edit_mode?p(e):d(e)],id:e.photo.id,tag:"div"}],class:l})};t.default=h},GtpT:function(e,t,n){"use strict";n.r(t),n.d(t,"getDataFromDOM",(function(){return r}));var a=n("Y6JH");var o=function(e){var t,n=e.album,o=n.url,i=n.title,r=n.photos_count_label,s=n.restriction,l="AlbumItem al_album";n.thumb?t=n.thumb:s||(l+=" AlbumItem--empty");var c,u="";if(s){var d={};d[s.type]=!0,u=Bem.class("AlbumItem__restriction",d,"--")}if(s&&"geo"===s.type)c={inner:[{inner:[Object(a.default)({sprite:"wall",name:"do_not_disturb_outline_56"})],class:u,tag:"div"}],class:"AlbumItem__thumb",tag:"div"};else{var p=[Bem.class("AlbumItem__thumb",{blur:s&&"blur"===s.type},"--")];c={inner:[s&&s.type?{inner:[Object(a.default)({sprite:"wall",name:"hide_outline_56"})],class:u,tag:"div"}:null],class:p,"data-thumb-id":n.thumb_id,style:"background-image: url("+t+")",tag:"div"}}return{inner:[{inner:[c],class:"AlbumItem__thumbWrap",tag:"div"},{inner:[{inner:[i],class:"AlbumItemInfo__title",tag:"div"},{inner:[r],class:"AlbumItemInfo__subtitle",tag:"div"}],class:"AlbumItemInfo",tag:"div"}],href:o,class:l,onclick:e.onClick,tag:"a"}},i=n("OcsD");function r(e){if(!e.classList.contains("AlbumItem"))return{};var t=Object(i.val)($(".AlbumItemInfo__title",e))||"",n=Object(i.val)($(".AlbumItemInfo__subtitle",e))||"",a=e.getAttribute("href"),o=$(".AlbumItem__thumb",e),r=/url\("(.*)"\)/.exec(o.style.backgroundImage),s=!!r&&r[1],l=$(".AlbumItem__restriction",e),c=!1;return l&&(l.classList.contains("AlbumItem__restriction--blur")?c={type:"blur"}:l.classList.contains("AlbumItem__restriction--geo")&&(c={type:"geo"})),{album:{title:Wd.wrap(t),photos_count_label:n,url:a,thumb:s,restriction:c},onClick:e.getAttribute("onclick")}}t.default=o},I7Du:function(e,t,n){"use strict";n.r(t);var a=n("z9sQ");var o=function(e){void 0===e&&(e={});var t=e.on_change;return{class:[e.mix||e.class,a.default.class("Select",{disabled:e.disabled})],inner:[{class:"Select__native",tag:"select",name:e.name,disabled:e.disabled,onchange:e.nativeOnChange?e.onChange:t?["Select._onChange","this",t]:null,required:e.required,inner:e.options.map((function(e){return e?{class:"Select__option",tag:"option",value:e.value,selected:e.selected?"selected":null,inner:e.label,attrs:e.attrs}:null}))}]}};t.default=o},KiYr:function(e,t,n){"use strict";n.r(t);var a=n("LmmP");t.default=a.default},LmmP:function(e,t,n){"use strict";n.r(t),n.d(t,"Alert",(function(){return o}));var a=n("z9sQ");function o(e){return{inner:[e.title?{inner:[e.title],class:"Alert__title",tag:"div"}:null,{inner:[e.text||e.inner],class:"Alert__description",tag:"div"}],class:[e.class,a.default.class("Alert",{theme:e.theme})].join(" "),tag:"div"}}t.default=o},Mc5h:function(e,t,n){"use strict";n.r(t);var a=n("2IoG");t.default=a.default,window.Brick=a.default},O5lf:function(e,t,n){"use strict";n.r(t);var a=n("9y81"),o=n("Y6JH"),i=n("z9sQ"),r=function(e){void 0===e&&(e={});var t=e.mix||"",n="pageLoader"===(e.type||"gray"),r=i.default.class("Spinner",{pageLoader:n,hidden:e.isHidden,fixed:e.isFixed},"--"),s=t+" "+r;if(n)return Wd.html({inner:[Object(o.default)("wall","loading_40")],class:s,tag:"div"});return Object(a.default)({mix:s,icon:"spinner"})};var s=n("jE6c");var l={show:function(e){Object(s.isElement)(e)&&e.classList.remove("Spinner--hidden")},hide:function(e){Object(s.isElement)(e)&&(e.classList.contains("Spinner--hidden")||e.classList.add("Spinner--hidden"))}};Object.assign(r,l),window.Spinner=r;t.default=r},PU8N:function(e,t,n){"use strict";n.r(t),n.d(t,"isMvk",(function(){return o})),n.d(t,"getVideoDuration",(function(){return i})),n.d(t,"getMediaBlob",(function(){return r})),n.d(t,"getBlobType",(function(){return s})),n.d(t,"noop",(function(){return l})),n.d(t,"getAverageRGB",(function(){return c})),n.d(t,"loadImage",(function(){return u})),n.d(t,"loadImages",(function(){return d})),n.d(t,"loadFontFace",(function(){return p})),n.d(t,"loadFontFacePromise",(function(){return _})),n.d(t,"getCroppedImage",(function(){return h}));var a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(){return!!window.isMVK}function i(e){return void 0===e&&(e=""),new Promise((function(t,n){var a=document.createElement("video");a.addEventListener("loadedmetadata",(function(){return t(a.duration)}),{once:!0}),a.addEventListener("error",n,{once:!0}),a.crossOrigin="anonymous",a.preload="metadata",a.src=e}))}function r(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){if(404===a.response.status)return n();t(a.response)},a.onerror=n,a.send()}))}function s(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}var l=function(){};function c(e){var t,n={r:0,g:0,b:0};try{t=e.getImageData(0,0,e.canvas.width,e.canvas.height)}catch(e){return n}for(var a=-4,o=0;(a+=20)<t.data.length;)++o,n.r+=t.data[a],n.g+=t.data[a+1],n.b+=t.data[a+2];return n.r=~~(n.r/o),n.g=~~(n.g/o),n.b=~~(n.b/o),n}function u(e){return new Promise((function(t,n){var a=new Image;a.crossOrigin=e.startsWith("data:")?null:"Anonymous",a.onerror=function(){return n(new Error("Failed to load image's URL: "+e))},a.onload=function(){return t(a)},a.src=e}))}var d=function(e){return new Promise((function(t){var n=e.map((function(e){return u(e)}));Promise.all(n).then((function(e){return t(e)})).catch((function(){}))}))};function p(e,t){var n,a,o,i,r,s,l,c,u={normal:"400",500:"500",600:"600",bold:"700"},d={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},p={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};function _(e){var t=[];return each(e,(function(e,n){t.push(e+":"+n)})),t.join(";")}function h(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function f(){i||(utilsNode.appendChild(r),i=!0,o={sansSerif:{width:l.offsetWidth,height:l.offsetHeight},serif:{width:s.offsetWidth,height:s.offsetHeight}},browser.opera&&!browser.chrome?(l.style.fontFamily='"'+e+'", sans-serif',s.style.fontFamily='"'+e+'", serif'):(setStyle(l,"font-family",'"'+e+'", sans-serif'),setStyle(s,"font-family",'"'+e+'", serif'))),i&&o&&(h(o.sansSerif,l,t.tolerance)||h(o.serif,s,t.tolerance))?(re(r),t.success()):(new Date).getTime()-a.getTime()>t.timeout?(re(r),t.error()):!i&&"requestAnimationFrame"in window?window.requestAnimationFrame(f):window.setTimeout(f,t.delay)}for(var b in d)t.hasOwnProperty(b)||(t[b]=d[b]);p["font-weight"]=t.weight,p["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(n=setTimeout((function(){t.error()}),t.timeout)),function(n){each(null===document||void 0===document?void 0:document.fonts,(function(a){a.family.toLowerCase()===e.toLowerCase()&&(u[a.weight]||a.weight)===""+t.weight&&a.style===t.style&&a.load().then((function(){t.success(),clearTimeout(n)}))}))}(n)):(c="AxmTYklsjo190QW"+t.glyphs,a=new Date,r=ce("div"),l=ce("div",{innerHTML:c}),s=ce("div",{innerHTML:c}),l.setAttribute("style",_(extend({"font-family":"sans-serif"},p))),s.setAttribute("style",_(extend({"font-family":"serif"},p))),r.appendChild(l),r.appendChild(s),f())}function _(e,t){return new Promise((function(n,o){p(e,a(a({},t),{glyphs:"",success:function(){var e=function(){n(),(null==t?void 0:t.success)&&t.success()};browser.safari?setTimeout(e,150):e()},error:function(){o(),(null==t?void 0:t.error)&&t.error()}}))}))}function h(e,t,n,a,o){return new Promise((function(i,r){("string"==typeof e?u(e):Promise.resolve(e)).then((function(e){var s=document.createElement("canvas");s.width=e.width,s.height=e.height;var l=s.getContext("2d");if(l){l.drawImage(e,0,0);var c=l.getImageData(t,n,a,o),d=document.createElement("canvas");d.width=a,d.height=o;var p=d.getContext("2d");if(p)return p.putImageData(c,0,0),u(d.toDataURL("image/jpeg",1)).then(i).catch(r);i(e)}else i(e)})).catch(r)}))}},"Po+v":function(e,t,n){"use strict";n.r(t),t.default=function(e){void 0===e&&(e={});var t=[];if(e.on_overlay_click_native)t=e.on_overlay_click_native;else{var n=!0;"boolean"==typeof e.hide_on_overlay_click&&(n=e.hide_on_overlay_click),t=["Popup._onOverlayClick","this",e.on_overlay_click||null,n]}e.content||(e.content=e.inner);return{id:e.id,class:[e.mix?e.mix:e.class,Bem.class("Popup",{open:e.open,scrollable:e.scrollable})],inner:[e.rel?e.rel:null,{class:"Popup__overlay",onclick:t},{class:"Popup__wrap",inner:{tag:"div",class:"Popup__content",role:"dialog","aria-modal":"true",inner:[e.header?{class:"Popup__header",inner:[e.header.title?{class:"Popup__headerTitle",inner:e.header.title}:null,e.header.corner?{class:["Popup__headerCorner",e.header.corner.class],inner:e.header.corner.text,href:e.header.corner.url,onclick:e.header.corner.onclick,attrs:e.header.corner.attrs}:null]}:null,e.scrollable?{class:"Popup__scroll ScrollView",inner:{class:"Popup__scrollContent",inner:e.content}}:e.content,e.footer?{class:"Popup__footer",inner:e.footer}:null]}}]}}},Q8gl:function(e,t,n){"use strict";n.r(t),n.d(t,"Control_switcher",(function(){return c})),n.d(t,"Control_checkbox",(function(){return s})),n.d(t,"Control_radio",(function(){return l}));var a=n("OcsD"),o=n("z9sQ"),i=n("UWnA"),r=n("fdw3");function s(e){return u(Object(r.extend)(e,{type:"checkbox"}))}function l(e){return u(Object(r.extend)(e,{type:"radio"}))}function c(e){return u(Object(r.extend)(e,{type:"switcher"}))}function u(e){void 0===e&&(e={});var t,n=e.name,a=e.description,s=e.label||e.inner,l=e.type,c=e.checked,u=e.disabled,d=e.on_change||e.onChange,p=e.ariaHiddenLabel?e.ariaHiddenLabel:"true",_="value"in e?e.value:"1",h=[e.class||e.mix,o.default.class("Control",{type:l})],f=e.attrs||[];f=Object(r.extend)({onclick:!0},f),"switcher"===l&&(t="switch");var b=e.name+"_"+_+"_label",v={inner:[{id:e.input_id,class:"Control__native",name:n,value:_,checked:!!c&&"checked",disabled:!!u&&"disabled",type:"switcher"===l?"checkbox":l,onChange:d?["Control._onChange","this",d]:null,"aria-labelledby":s?b:null,role:t,tag:"input"},{class:"Control__icon",tag:"div"},{inner:[{inner:[s],id:b,"aria-hidden":p,tag:"span"},a?{inner:[a],class:"Control__description",tag:"div"}:""],class:"Control__label",tag:"div"}],tag:"div"}.inner;return e.withoutWrap?{inner:[v],class:h,attrs:f,tag:"label"}:(f.role="menuitem",Object(i.default)({inner:[v],tag:"label",class:h,attrs:f}))}var d=u,p=n("TYsd"),_={setChecked:function(e,t){void 0===t&&(t=!0);m(e).checked=t},isChecked:function(e){return m(e).checked}},h=_;_._onChange=v;var f=".Control",b=".Control__native";function v(e,t){p.default.handle(t,{$control:e.closest(f),name:e.name,checked:e.checked,value:e.value})}function m(e){return e.$(b)}var g=Object(a.extend)(d,h);t.default=g;window.Control=g},Qz23:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return m})),n.d(t,"preventDocumentScroll",(function(){return g})),n.d(t,"restoreDocumentScroll",(function(){return w})),n.d(t,"cleanDocumentViews",(function(){return O})),n.d(t,"allowScrolling",(function(){return y})),n.d(t,"setScrollView",(function(){return S})),n.d(t,"cleanScrollView",(function(){return A})),n.d(t,"hideTopBanner",(function(){return V})),n.d(t,"showTopBanner",(function(){return N}));var a,o,i,r,s,l,c,u=n("UxAg"),d=n("aiw/"),p=n("H5mD"),_=!0,h=!1,f="closed",b=!1,v=[];function m(e){b&&O(),g(e)}function g(e){void 0===e&&(e={}),p.isIOS&&(!0!==e.stack&&b||(c={initialized:!1,scrollViews:[]},v.push(c),e.layoutElement&&e.layoutElement.nodeType?c.layoutElement=e.layoutElement:c.layoutElement=Object(u.$)(e.layoutElement||".layout")),!1===e.topBanner?c.topBanner=!1:c.topBanner=!0,b||(b=!0,addEvent(window,"focusin",L),addEvent(window,"focusout",D),addEvent(document,"touchmove",T,{capture:!0}),addEvent(document,"touchmove",I,{capture:!1}),addEvent(window,"resize",P),d.onCloseCallback(R),p.isWKWebView||(addEvent(window,"orientationchange",C),requestAnimationFrame((function(){Object(p.isLandscapePhone)()?C(null,!0):(P(),c&&!c.topBanner?requestAnimationFrame(V):i||requestAnimationFrame(N))})))))}function w(){b&&(b=!1,O(),1===v.length&&(c.layoutOffset=null,H(),document.body.style.height=""),c.layoutElement=null,v.pop(),(c=v.length?v[v.length-1]:null)&&H(),removeEvent(window,"focusin",L),removeEvent(window,"focusout",D),removeEvent(document,"touchmove",T,{capture:!0}),removeEvent(document,"touchmove",I,{capture:!1}),removeEvent(window,"resize",P),removeEvent(window,"orientationchange",C),removeEvent(window,"resize",M),removeEvent(window,"scroll",x),d.offCloseCallback(R))}function O(){c.scrollViews.forEach((function(e){return A(e)})),c.scrollViews=[]}function y(e){var t=e.currentTarget.__ScrollView;if("prevented"!==t.state){if(!("start"!==t.state||t.allowX&&t.allowY)){var n=Math.abs(t.startX-e.changedTouches[0].clientX),a=Math.abs(t.startY-e.changedTouches[0].clientY);if(!t.allowX&&n>a)return void(t.state="prevented");if(!t.allowY&&a>n)return void(t.state="prevented")}if("allowed"!==t.state&&(t.state="allowed"),_=!1,!t.overscrollX){var o=e.currentTarget.scrollLeft,i=t.startX-e.changedTouches[0].clientX;(o<=0&&i<=0||o>=t.maxX&&i>=0)&&(_=!0,t.standalone&&e.preventDefault())}if(!t.overscrollY){var r=e.currentTarget.scrollTop,s=t.startY-e.changedTouches[0].clientY;(r<=0&&s<=0||r>=t.maxY&&s>=0)&&(_=!0,t.standalone&&e.preventDefault())}}}function j(e){var t=e.currentTarget,n=t.__ScrollView;n.state="start",n.startX=e.changedTouches[0].clientX,n.startY=e.changedTouches[0].clientY,n.maxX=n.overscrollX?null:t.scrollWidth-t.clientWidth,n.maxY=n.overscrollY?null:t.scrollHeight-t.clientHeight}function k(e){e.currentTarget.__ScrollView.state=""}function S(e,t){if(void 0===t&&(t={}),p.isIOS&&(!1!==t.override||!e.__ScrollView)){if(!0!==t.standalone){if(!b)return;e.__ScrollView||c.scrollViews.push(e)}e.__ScrollView={allowX:!1!==t.allowX,allowY:!1!==t.allowY,overscrollX:!1!==t.overscrollX,overscrollY:!1!==t.overscrollY,standalone:!0===t.standalone},c&&(p.isWKWebView||(!1!==t.topBanner&&(e.__ScrollView.topBanner=t.topBanner||{hide:30,show:60}),addEvent(e,"scroll",E))),addEvent(e,"touchstart",j),addEvent(e,"touchmove",y),addEvent(e,"touchend",k)}}function A(e){e.__ScrollView=null,removeEvent(e,"touchstart",j),removeEvent(e,"touchmove",y),removeEvent(e,"touchend",k),removeEvent(e,"scroll",E)}function E(e){if("closed"!==f||Object(p.isLandscapePhone)())return h=!1,void(r&&clearTimeout(r));h=!0;var t=e.target.__ScrollView.topBanner;c&&c.topBanner&&t?W(e.target,t.show,t.hide):W(e.target,1/0,0),r&&clearTimeout(r),r=setTimeout((function(){h=!1,P()}),100)}function P(){if(!h)if(l)l=!1;else if(!Object(p.isLandscapePhone)()){window.pageYOffset;"closed"===f&&(p.isWKWebView||(a=document.documentElement.offsetHeight,o=innerHeight,i=a===o,"show"===s?(s=null,requestAnimationFrame(N)):"hide"===s&&(s=null,requestAnimationFrame(V))))}}function C(e,t){p.isIPad?c.topBanner||setTimeout((function(){V()}),400):90===Math.abs(window.orientation)?(addEvent(window,"resize",M),document.body.style.height="",c.layoutHeight=null,t?setTimeout((function(){window.scrollTo(0,-300),M()})):setTimeout((function(){window.scrollTo(0,-300)}),400)):(removeEvent(window,"resize",M),c.layoutOffset=null,H(),c.topBanner||setTimeout((function(){V()}),400))}function M(){if("closed"===f){var e=document.body.offsetHeight,t=e-innerHeight;c.layoutOffset=t,H(),window.scrollTo(0,e)}}function x(){pageYOffset&&(f="opened",removeEvent(window,"scroll",x))}function T(e){_=!0}function I(e){_&&e.preventDefault()}function B(e){var t=e&&e.target,n=0===e.eventPhase&&t.getAttribute("autofocus"),a=!1;return"textarea"!==t.tagName.toLowerCase()||n||(a=!0),"input"!==t.tagName.toLowerCase()||["checkbox","radio","image","submit"].includes(t.type)||n||(a=!0),"select"===t.tagName.toLowerCase()&&(a=!0),a}function L(e){if(B(e)){var t,n=e&&e.target;f="opening",addEvent(window,"scroll",x),window.isCustomScroll&&(t=n.dataset.scrollviewposition),d.onOpen(t,{exitIfStarted:!0})}}function D(e){B(e)&&d.onClose({exitIfStarted:!0})}function R(){removeEvent(window,"scroll",x),f="closed",setTimeout((function(){Object(p.isLandscapePhone)()?M():P()}),100)}function W(e,t,n){var a=e.scrollTop;a<=-t&&(i||s)?(s="show",window.scrollTo(0,-10)):a>=n&&(!i||s)&&(s="hide",window.scrollTo(0,10))}function V(){window.scrollTo(0,300)}function N(){window.scrollTo(0,-300)}function H(){var e=c.layoutOffset;c.layoutElement.style.top=e?e+"px":""}},RQ7Z:function(e,t,n){"use strict";n.r(t),n.d(t,"screenfull",(function(){return a}));var a=function(){var e=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=0,o=n.length,i={};a<o;a++)if((e=n[a])&&e[1]in document){for(a=0,t=e.length;a<t;a++)i[n[0][a]]=e[a];return i}return!1}(),t={request:function(t){var n=e.requestFullscreen;(t=t||document.documentElement)[n]()},exit:function(){document[e.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:e};return!!e&&(Object.defineProperties(t,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),t)}()},ToWQ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VKApp",(function(){return VKApp}));var blueimp_md5__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("jYEY"),blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blueimp_md5__WEBPACK_IMPORTED_MODULE_0__),_mobile_lib_Url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("j80l"),_mobile_skins_wall_Share__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("B9v3"),_shared_apps_xdm__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("lyAj"),_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4zn2"),_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("p8d5"),_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("RQ7Z"),_shared_lib_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jE6c"),_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("OcsD"),_skins_base_Btn_Btn_0__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("myok"),_shared_apps_connect_libs_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("d4g6"),HEADER_HEIGHT=44,DESKTOP_MIN_WIDTH=1200,VKApp=function e(t,n,a,o){if(a=a||{},n=n||{},window.parent&&window.parent!=window&&!n.checking)return!1;var i=this;if(this.cont=ge(t),this.cont){if(this.setPortraitScreenSizes(),a.hash=a.hash||"",-1!=a.hash.indexOf("#")){var r=a.hash.split("#").pop();window.vk&&(r||"").substr(0,1)==vk.navPrefix?a.hash="":a.hash=r}this.params=a,this.isDirectGame=n.is_direct_game,this.onReady=[];var s="";if(n.vkApp){s=n.vk_app_url;var l=n.hash_as_param,c=a.hash?""+a.hash:location.hash.substr(1);a.hash?c=a.hash:location.hash&&(c=location.hash.substr(1)),c&&(l&&(s+="&hash="+c),s+="#"+c)}else s=n.src;if(1===n.type&&!n.vkApp){var u=[];for(var d in a)"hash"===d?u.push(d+"="+encodeURIComponent(a[d])):u.push(d+"="+a[d]);s+=(-1===s.indexOf("?")?"?":"&")+u.join("&")}if(i.options=extend({heightMax:4500},n),this.funcs={onInit:function(){return n.heightSync&&i.RPC.callMethod("getHeight",(function(e){i.setHeight(e)})),i.inited||(i.inited=!0,o&&o(),i.inlineApp||i.onAppReady()),!0},ApiCall:function(e,t){var n=e.shift();i.api(n,e[0],t)},_getAppInfo:function(e){e([i.params.api_id,window.location.hash])},api:function(e,t,n){i.api(t,n,(function(t){i.apiCallback(e,t)}))},getLocationProtocol:function(e){e(location.protocol)},setLocation:function(e,t){e=e.toString(),cur.appLoc=e,t&&cur.app.runCallback("onLocationChanged",e),nav.setLoc(extend(nav.objLoc,{"#":e}))},showSettingsBox:function(e){if(!cur.settingsBoxShown){cur.onSettingsEventSended=!1,cur.canSendOnSettingsEventFromHide=!0,cur.onSettingsChange=function(e,t){cur.onSettingsEventSended||(cur.onSettingsEventSended=!0,"ok"===e?cur.app.runCallback("onSettingsChanged",t):cur.app.runCallback("onSettingsCancel"))},cur.settingsBoxShown=!0;var t={act:"show_settings",api_hash:cur.api_hash,aid:n.aid,mask:e};cur.lang_id&&(t.lang=cur.lang_id),n.gid&&(t.gid=n.gid),ajax.post("/apps.php",t,{onDone:function(e,t){showAppsBox(e,t)}})}},showAllowMessagesFromCommunityBox:function(e){if(!cur.allowMessagesFromCommunityBox){cur.allowMessagesFromCommunityBox=!0,cur.onAllowMessagesFromCommunity=function(e){"ok"===e?cur.app.runCallback("onAllowMessagesFromCommunity"):cur.app.runCallback("onAllowMessagesFromCommunityCancel")};var t={act:"allow_messages_from_community_box",aid:n.aid,api_hash:cur.api_hash};n.gid?t.gid=n.gid:t.gid=e,ajax.post("/apps.php",t,{onDone:function(e,t){showAppsBox(e,t)}})}},shareBox:function(t,a,o,i){e.showShareBox(cur.aid,cur.api_hash||"",cur.appShareParams.mail_hash,t,a,o,i,n.gid)},debug:function(){window.debugLog&&debugLog(1==arguments.length?arguments[0]:arguments)},openExternalApp:function(e,t,a){if(e){var o=i.isNativeClientWebView(),r=["pay-to-user","pay-to-service","pay-to-group","transfer-to-user","transfer-to-group","open-service","add-card","recurrent"],s=["pay-to-user","transfer-to-user"],l=["pay-to-group","transfer-to-group"],c=[],u="",d=cur.app.options.vkApp;if(t&&~r.indexOf(t.action))if(!~s.indexOf(t.action)||t.user_id)if(!~l.indexOf(t.action)||t.group_id)if("open-service"!==t.action||i.params.is_vkpay){if(t.aid=n.aid,Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.isObject)(t.data))try{t.data=JSON.stringify(t.data)}catch(e){t.data=""}for(var p in t)if(t.hasOwnProperty(p)&&(!o||"action"!==p)){var _="";void 0!==t[p]&&(_="object"==typeof t[p]?encodeURIComponent(JSON.stringify(t[p])):encodeURIComponent(t[p])),c.push(encodeURIComponent(p)+"="+_)}if(o){var h=i.isNativeIosWebView();h&&"vkpay"===e&&(e="web-view.vkpay.io"),e+="/"+t.action,h&&!/^https?:\/\//.test(u)&&(e="https://"+e)}if(u=e+"?"+c.join("&"),o)i.callNativeClientMethod("openExternalUrl",u);else{var f={act:"open_external_app",url:e,query:c.join("&"),aid:n.aid},b=window.open("","_blank");ajax.post("/apps.php",f,{onDone:function(e){try{e=JSON.parse(e)}catch(t){e={error:{error_code:1,error_msg:"Unknown error"}}}if(e.error||!e.url)return i.runCallback("onExternalAppFail",e.error),void b.close();if(!b){var t=e.url.split("#"),n=t[0],a=t[1];return n=(n=_mobile_lib_Url__WEBPACK_IMPORTED_MODULE_1__.default.make(n,{back:window.nav.cur.replace("act=app_r","")}))+"#"+a,void(window.location.href=n)}cur.onExternalAppDone=function(e){this.runCallback("onExternalAppDone",e)}.bind(i),cur.onExternalAppListener=function(e){var t=!("isTrusted"in e)||e.isTrusted;if(/https:\/\/((m|0)\.)?vk\.com/.test(e.origin)&&t&&cur.onExternalAppDone){~["externalAppDone","externalAppFail","closeApp"].indexOf(e.data.method)&&(window.focus(),"externalAppDone"===e.data.method&&cur.onExternalAppDone(e.data.params),"externalAppFail"===e.data.method&&i.runCallback("onExternalAppFail",e.data.error),"closeApp"===e.data.method&&i.runCallback("onExternalAppClose",e.data.error),cur.onExternalAppDone=null,window.removeEventListener("message",cur.onExternalAppListener),cur.onExternalAppListener=null)}},window.addEventListener("message",cur.onExternalAppListener),b.location.href=e.url}})}}else d?a({error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM});else d?a({error_msg:"Missing required param group_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Missing required param group_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM});else d?a({error_msg:"Missing required param user_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Missing required param user_id",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM});else d?a({error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM}):i.runCallback("onExternalAppFail",{error_msg:"Invalid action",error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM})}},externalAppDone:function(e){if(window.opener){var t={method:"externalAppDone",params:e};window.opener.postMessage(t,location.origin),window.close()}window.nav.tryBack()||window.nav.go("/feed")},externalAppFail:function(e){if(!Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.isObject)(e))try{e=JSON.parse(e)}catch(t){e={error_msg:"Unknown error",error_code:1}}if(i.isNativeAndroidWebView())i.callNativeClientMethod("externalAppFail",e);else if(window.opener){var t={method:"externalAppFail",error:e};window.opener.postMessage(t,location.origin),window.close()}},closeApp:function(e){if(i.isNativeClientWebView())i.callNativeClientMethod("close");else{if(window.opener){if(e){window.opener.postMessage({method:"closeApp"},location.origin)}window.close()}window.nav.tryBack()||window.nav.go("/feed")}},openQRReader:function(){cur.app.isNativeClientWebView()&&cur.app.callNativeClientMethod("VKWebAppOpenQR")},sendStats:function(e){(Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.isObject)(e)||isArray(e))&&(e=JSON.stringify(e)),ajax.post("/apps.php",{act:"save_stats",data:e,hash:cur.app.params.stats_hash,app_id:cur.aid},{onDone:function(){cur.app.runCallback("onSendStatsDone")},onFail:function(){return cur.app.runCallback("onSendStatsFail"),!0}})},showWallPostBox:function(e){if(!cur.wallPostBoxSubmit){if((e=e||{}).attachments=cur.app.getValidPostAttachments(e.attachments||e.attachment),!(e.message||e.attachments&&e.attachments.length)){var t={error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.OLD_MISSING_PARAM,error_msg:"One of the parameters specified was missing or invalid"};return cur.app.runCallback("onShowWallPostBoxCancel",t),void(cur.wallPostBoxCallback&&cur.wallPostBoxCallback({error:t}))}if(cur.app.isNativeClientWebView()&&cur.app.nativeClientHasMethod("showWallPostBox"))return e=cur.app.isNativeAndroidWebView()?Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.obj2qs)(e):e,void cur.app.callNativeClientMethod("showWallPostBox",e);e.app_id=cur.aid,e.act="show_wall_post_box",e.api_hash=cur.api_hash,cur.showWallPostBoxErrorHandler=function(e){cur.app.runCallback("onShowWallPostBoxCancel",e),cur.wallPostBoxCallback&&cur.wallPostBoxCallback({error:e}),hideAppsBox()},ajax.post("/apps.php",e,{onDone:function(e,t){showAppsBox(e,t)},onFail:function(){var e={error_code:_shared_apps_connect_config__WEBPACK_IMPORTED_MODULE_4__.ERROR_CODES.UNKNOWN,error_message:"Unknown network error occurred"};cur.showWallPostBoxErrorHandler(e)}})}},startHandleDeviceOrientation:function(e,t){var n,a;void 0!==window.DeviceMotionEvent||void 0!==window.DeviceOrientationEvent?(void 0!==window.DeviceOrientationEvent&&e&&(a=function(e){i.runCallback("onDeviceOrientation",e.absolute,e.beta,e.gamma,e.alpha)},addEvent(window,"deviceorientation",a)),void 0!==window.DeviceMotionEvent&&t&&(n=function(e){i.runCallback("onDeviceMotion",e.accelerationIncludingGravity.x,e.accelerationIncludingGravity.y,e.accelerationIncludingGravity.z)},addEvent(window,"devicemotion",n)),window.cur&&isArray(cur.destroy)&&cur.destroy.push((function(){a&&removeEvent(window,"deviceorientation",a),n&&removeEvent(window,"devicemotion",n)}))):i.runCallback("onDeviceOrientationNotSupported")},idle:function(){},unIdle:function(){}},i.options.no_init)return!1;if(this.isDirectGame){var p=Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)();"both"===i.options.orientation||i.options.orientation===p||window.screen.width>=DESKTOP_MIN_WIDTH?(i._initFrame(s),i._scrollOnOrientationChanged()):Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.onOrientationChanged)((function(){i._initFrame(s)})),this._initOrientationHandler()}else i._initFrame(s),i.options.rotate_handler&&this._initOrientationHandler();this.isNativeClientWebView()&&this.initNativeClientCallbackListener()}};function showAppsBox(e,t){var n=ge("apps_box");return hide(ge("apps_test_id")),n.innerHTML=e,show(n),t&&Object(_mobile_lib_Utils__WEBPACK_IMPORTED_MODULE_8__.evalJs)(t),n}function hideAppsBox(e){var t=ge("apps_box");hide(t),t.innerHTML="",show(ge("apps_test_id"))}VKApp.prototype._scrollOnOrientationChanged=function(){if(Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()===_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE){var e=parseFloat(window.browser.version);window.browser&&window.browser.iphone&&(e>=10&&e<11||"12.1.1"===window.browser.version)&&window.scrollTo(0,document.documentElement.scrollHeight)}},VKApp.prototype.onAppReady=function(){for(var e in this.onReady)this.onReady.hasOwnProperty(e)&&this.onReady[e]()},VKApp.prototype.initWallPostBox=function(e){var t,n,a;t=this.options.vkApp||this.isDirectGame?geByClass1("VkMiniAppDialogHeader__CancelButton"):geByClass1("appHeader__back"),e=e||{};var o=function(e){hideAppsBox(),e&&this.runCallback("onShowWallPostBoxCancel"),cur.wallPostBoxSubmit=null,t&&a&&n&&(t.onclick=n)}.bind(this);if(window.history){window.history.pushState({},"","");var i=o.bind(this,!0);addEvent(window,"popstate",i)}t&&(a=function(e){return cancelEvent(e),o(!0),!1},n=t.onclick,t.onclick=a),cur.wallPostBoxSubmit=function(t,n){delete e.act,_skins_base_Btn_Btn_0__WEBPACK_IMPORTED_MODULE_9__.default.setLoading(n.$btn,!0),this.api("wall.post",extend(e,{method_access:t}),function(e){cur.wallPostBoxCallback&&cur.wallPostBoxCallback(e),e.error?this.runCallback("onShowWallPostBoxCancel",e.error):this.runCallback("onShowWallPostBoxDone",e.response.post_id),o()}.bind(this))}.bind(this)},VKApp.prototype.submitWallPostBox=function(e,t){cur.wallPostBoxSubmit&&cur.wallPostBoxSubmit(e,t)},VKApp.prototype.getValidPostAttachments=function(e){var t=/(^https?:\/\/)|(^(poll|album|photo|video|doc|audio|page|note)-?\d+_-?\d+)$/,n=[];return e=e||[],isString(e)&&(e=e.split(",")),each(e,(function(){var e=this.trim();t.test(e)&&n.push(e)})),n.join(",")},VKApp.prototype.runCallback=function(){var e,t=Array.prototype.slice.call(arguments),n=t[0],a="customEvent";switch(-1!="onLocationChanged,onMerchantPaymentSuccess,onBalanceChanged,onWindowResized,onSettingsChanged".indexOf(n)?(a=n,e=t.slice(1)):e=t.slice(),this.options.type){case 1:if(this.RPC.callMethod("runCallback",t),!this.options.widget&&!browser.iphone&&!browser.ipad)try{this.externalFrame[a](e)}catch(e){}break;case 2:try{this.externalFrame[a](e)}catch(e){}break;case 3:try{this.externalFrame[a](e)}catch(e){}}(this.options.vkApp||this.isDirectGame)&&("onShowWallPostBoxCancel"===n&&cur.VKWebAppShowWallPostBoxErrorHandler&&cur.VKWebAppShowWallPostBoxErrorHandler(),"onShowWallPostBoxDone"===n&&cur.VKWebAppShowWallPostBoxSuccessHandler&&cur.VKWebAppShowWallPostBoxSuccessHandler(e))},VKApp.prototype.apiCallback=function(e,t){try{this.externalFrame.apiCallback(e,t)}catch(e){}},VKApp.prototype.setHeight=function(e){if(e){this.inlineApp&&e>this.options.heightMax&&(e=this.options.heightMax);var t=e+"px";this.frame.style.height=t,this.options.boxed||(this.cont.style.height=t),this.options.onResize&&this.options.onResize()}},VKApp.prototype.checkMethod=function(e,t,n){return"wall.post"!==e.toLowerCase()||(cur.wallPostBoxCallback=n,this.funcs.showWallPostBox(t),!1)},VKApp.prototype.checkMethodResult=function(e,t,n,a){switch(e){case"photos.saveProfilePhoto":if(!n.error)return cur.profilePhotoBoxCallback=function(e){a(e?{response:{photo_src:n.response.photo_src}}:{error:{error_code:10007,error_msg:"Operation denied by user"}}),window.profilePhotoBoxCallback=!1},cur.app.funcs.showProfilePhotoBox(n.response.photo_hash),!1}return!0},VKApp.prototype.onLocChanged=function(e){e||(e=""),cur.appLoc!=e&&(cur.appLoc=e,this.runCallback("onLocationChanged",e))},VKApp.prototype.api=function(method,inputParams,callback,captcha){var self=this;if(2==arguments.length&&(callback=params,inputParams={}),inputParams||(inputParams={}),captcha||inputParams.method_access||inputParams.method_force||this.checkMethod(method,inputParams,callback)){delete inputParams.callback,delete inputParams.access_token;var params={v:"5.95",api_id:this.params.api_id,method:method,format:"json",rnd:parseInt(1e4*Math.random())};if(inputParams)for(var i in inputParams)i=trim(i),/^(rnd|format|api[\s.\[_]id|method|callback|access[\s.\[_]token)(\s*\[|$)/.test(i)||(params[i]=inputParams[i]);var lParams=[];for(var _i in params)lParams.push([_i,params[_i]]);lParams.sort(sName);var sig=this.params.viewer_id;for(var _i2 in lParams)sig+=lParams[_i2][0]+"="+lParams[_i2][1];sig+=this.params.secret,params.sid=this.params.sid,params.sig=blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default()(sig);var done=function done(text){var response=eval("("+text+")");if(response.error&&14==response.error.error_code)throw Error("You call api often. You can try call from server");self.checkMethodResult(method,inputParams,response,callback)&&callback&&callback(response)},fail=function(){callback&&callback({error:{error_code:1,error_message:"Unknown network error occurred"}})};ajax.plainpost(self.params.api_script,params,done,fail)}function sName(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}},VKApp.prototype.openAppInLayer=function(e,t){var n=window.open("","_blank");n?(n.location.href=e,t&&(cur.externalAppWin=n)):window.location.href=e},VKApp.prototype.hideVkAppPreload=function(){var e=geByClass1("AppPreloadInfo");e&&(e.classList.add("AppPreloadInfo--hidden"),geByClass1("app_container").classList.remove("app_container_hidden"))},VKApp.hideVkAppPreload=VKApp.prototype.hideVkAppPreload,VKApp.showShareBox=function(e,t,n,a,o,i,r,s){if(void 0===s&&(s=0),!a)return!1;var l={act:"share_box",aid:e,api_hash:t,url:a};o&&(l.image=o),i&&(l.title=i),r&&(l.description=r),s&&(l.gid=s);var c=function(){cur.share&&cur.share.destroy({isFail:!1,closeModal:!0}),ajax.post("/apps.php",l,{onDone:function(e,t){showAppsBox(e,t)}})};if(window.cur&&window.cur.app&&window.cur.app.isNativeClientWebView())c();else{var u={isVKApp:!0,mail_hash:n,can_bookmark:!1,can_to_own:!0,can_to_club:!1,withoutScrollView:!0,withoutHash:!0,targetOwnOnClick:c,appId:e,object:a};Object(_mobile_skins_wall_Share__WEBPACK_IMPORTED_MODULE_2__.init)(a,u)}},VKApp.prototype.showAppsBox=showAppsBox,VKApp.showAppsBox=VKApp.prototype.showAppsBox,VKApp.prototype.hideAppsBox=hideAppsBox,VKApp.hideAppsBox=VKApp.prototype.hideAppsBox,VKApp.prototype._initFrame=function(e){var t=this;if(self=this,!this.RPC){var n=this.options.vkApp?{}:this.funcs;switch(self.options.type){case 1:this.RPC=new window.fastXDM.Server(n,(function(e){return Object(_shared_apps_connect_libs_utils__WEBPACK_IMPORTED_MODULE_10__.filterPostMessageOrigin)(t.options,e)}));var a=this.getFrameHeight(),o={src:e,width:"100%",overflow:"hidden",scrolling:"yes"};self.options.vkApp||self.isDirectGame||(o.height=a+"px"),self.options.height&&(o.height="100%");var i='webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" allow="geolocation; microphone; camera"';this.options.iframe_background_color&&(i+=' style="background-color: '+this.options.iframe_background_color+';"'),this.frame=this.RPC.append(self.cont,o,i),this.frame.style.display="block"}cur.destroy.push(function(){this.RPC&&this.RPC.destroy(),this._nativeClientCallbackListener&&removeEvent(window,"VKWebAppEvent",this._nativeClientCallbackListener)}.bind(this))}},VKApp.prototype._initOrientationHandler=function(){var e,t=this,n=function(){setTimeout((function(){if(!t.isDirectGame){var e=t.getFrameHeight();t.frame.height=e,t.frame.style.height=e+"px",t.frame.style.minHeight=e+"px"}}),300),t._handleDgAndroidKeyboard()};onBodyResize(n),this.isDirectGame&&(e=function(){var e=Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)();if(e!==_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE||"both"!==t.options.orientation&&t.options.orientation!==_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE)_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__.screenfull.isFullscreen&&_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__.screenfull.exit();else{try{_shared_lib_screenfull__WEBPACK_IMPORTED_MODULE_6__.screenfull.request()}catch(e){console.warn(e)}Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.lockOrientation)(e).catch((function(){}))}t.setPortraitScreenSizes(),t._scrollOnOrientationChanged()},Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.onOrientationChanged)(e)),window.cur&&window.cur.destroy.push((function(){e&&Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.onOrientationChanged)("__clear",e),onBodyResize("__clear",n)}))},VKApp.prototype.getFrameHeight=function(){var e;if(window.browser.iphone&&Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()===_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_LANDSCAPE){var t=parseFloat(window.browser.version);t>=9&&t<11&&(e=document.documentElement.clientHeight-2*HEADER_HEIGHT)}else e=window.innerHeight;return window.cur&&window.cur.with_header&&(e-=HEADER_HEIGHT),e},VKApp.prototype._handleDgAndroidKeyboard=function(){if(this.isDirectGame){if(Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()===_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_PORTRAIT&&!window.browser.ios&&window.screen.width===this.initWindowWidth&&window.screen.height===this.initScreenHeight){var e=document.querySelector(".AppLayout--directGame"),t=document.querySelector(".vkAppHeader"),n=document.querySelector(".GamesFlipOrientationScreen"),a=window.innerHeight+50<this.initWindowHeigth;e&&t&&(e.classList.toggle("AppLayout--portraitOrientationLock",a),t.classList.toggle("vkAppHeader--portraitOrientationLock",a),n&&n.classList.toggle("GamesFlipOrientationScreen--portraitOrientationLock",a))}}},VKApp.prototype.setPortraitScreenSizes=function(){var e=this;this.initWindowHeigth&&this.initWindowWidth&&this.initScreenHeight||Object(_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.getCurrentOrientation)()!==_mobile_lib_utils_orientaion__WEBPACK_IMPORTED_MODULE_5__.ORIENTATION_PORTRAIT||setTimeout((function(){e.initWindowHeigth=window.innerHeight,e.initWindowWidth=window.innerWidth,e.initScreenHeight=window.screen.height}),200)},VKApp.prototype.callNativeClientMethod=function(e,t){if(window.AndroidBridge&&Object(_shared_lib_common__WEBPACK_IMPORTED_MODULE_7__.isFunction)(window.AndroidBridge.callMethod))window.AndroidBridge.callMethod(e,t);else{var n=window.webkit&&window.webkit.messageHandlers;n&&n[e]&&n[e].postMessage(t)}},VKApp.prototype.isNativeClientWebView=function(){return this.isNativeIosWebView()||this.isNativeAndroidWebView()},VKApp.prototype.nativeClientHasMethod=function(e){return!this.isNativeIosWebView()||!!window.webkit.messageHandlers[e]},VKApp.prototype.isNativeIosWebView=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.openExternalUrl},VKApp.prototype.isNativeAndroidWebView=function(){return window.AndroidBridge},VKApp.prototype.initNativeClientCallbackListener=function(){this._nativeClientCallbackListener=function(e){var t=e.detail||{};this[t.type]&&this[t.type].call(this,t)}.bind(this),addEvent(window,"VKWebAppEvent",this._nativeClientCallbackListener)},VKApp.prototype.appRunCallback=function(e){this.runCallback(e.event,e.data)},VKApp.prototype.VKWebAppQRDone=function(e){this.runCallback("onQRReaderDone",e.data)},VKApp.prototype.VKWebAppQRClosed=function(e){this.runCallback("onQRReadeClosed",e.data)},VKApp.prototype.VKWebAppShowWallPostBoxDone=function(e){this.runCallback("onShowWallPostBoxDone",e.data),cur.wallPostBoxCallback&&cur.wallPostBoxCallback({response:{post_id:e.data}})},VKApp.prototype.VKWebAppShowWallPostBoxCancel=function(e){this.runCallback("onShowWallPostBoxCancel",e.data),cur.wallPostBoxCallback&&cur.wallPostBoxCallback({error:e.data})},VKApp.prototype.VKWebExternalAppClose=function(){this.runCallback("onExternalAppClose")},VKApp.callNativeClientMethod=VKApp.prototype.callNativeClientMethod},UWnA:function(e,t,n){"use strict";n.r(t);var a=n("WWoJ");n.d(t,"Row_labeledSelect",(function(){return a.Row_labeledSelect})),t.default=a.default},UvyM:function(e,t,n){"use strict";n.r(t);var a=n("z9sQ"),o=n("BoyB"),i=n("TYsd"),r=n("fdw3");t.default=function(e){void 0===e&&(e={});var t=e.url,n=e.is_icon,s=e.icon,l=e.tag||"button",c=e.on_click||e.onClick||e.onclick,u=e.use_native_onclick,d=e.inner||e.children;Object(r.isArray)(d)&&1===d.length&&"string"==typeof d[0]&&(d=d[0]);var p=!1;"function"==typeof c&&(u=!0,p=!0);c&&!u&&(c=["Btn._onClick","event","this",c]);var _={class:[e.class,a.default.class("Btn",{theme:e.theme||"regular",size:e.size||"",stretch:e.stretch})],onclick:c,attrs:e.attrs};p&&(_.onClick=c,delete _.onclick);var h=e.hide?"; display: none;":"",f=e.style?e.style+h:h,b=null;e.isLoading&&(_.class.push("Btn_loading"),b=i.default.wrap(Object(o.default)({mix:"Btn__loader",white:"secondary"===e.theme?"white":"",large:!0,spinner:e.spinner})));if(t)return Object(r.mergeObjects)(_,{_:i.default.getInternalData(),tag:"a",href:t,role:"button",style:f,inner:s?[{class:"Btn__icon",inner:s},{class:"Btn__text",inner:d}]:n?d:{class:"Btn__text",inner:d},target:(e.open_in_new_tab?"_blank":e.target)||""});var v=e.is_submit?"submit":null,m=e.type||v;return Object(r.mergeObjects)(_,{_:i.default.getInternalData(),"aria-label":e["aria-label"]||"",tag:l,style:f,disabled:e.disabled,type:m,inner:s?[b,{class:"Btn__icon",inner:s},{class:"Btn__text",inner:d}]:n?[b,d]:[b,{class:"Btn__text",inner:d}]})}},V4qE:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return O})),n.d(t,"close",(function(){return k})),n.d(t,"SNACKBAR_POSITION_COMMON",(function(){return p})),n.d(t,"SNACKBAR_POSITION_MAIL",(function(){return _})),n.d(t,"SNACKBAR_TYPE_SUCCESS",(function(){return b})),n.d(t,"SNACKBAR_TYPE_ERROR",(function(){return v})),n.d(t,"SNACKBAR_TYPE_BOOKMARK",(function(){return m})),n.d(t,"SNACKBAR_TYPE_BULLYING",(function(){return g}));var a=n("z9sQ"),o=n("29dZ"),i=n("Y6JH"),r=n("fdw3"),s=function(e){void 0===e&&(e={});var t=e.position||"bottom",n=!(!e.type||e.image),s={class:a.default.class("SnackbarItem__cell",{left:!0,image:!!e.image,top:e.avatar&&"left"===e.avatar_position,icon:n})},l={class:a.default.class("SnackbarItem__cell",{right:!0,avatar:!!e.avatar})},c=!1,u=!1;if(e.type){c=!0;var d=null;switch(e.type){case 1:d=Object(i.default)("common","snackbar_done_24");break;case 2:d=Object(i.default)("common","snackbar_error_24");break;case 3:d=Object(i.default)("common","favorites_24");break;case 4:d=Object(i.default)("wall","error_fill_24")}s.inner={class:"SnackbarItem__icon",inner:d}}e.image&&(c=!0,s.inner={class:"SnackbarItem__image",inner:{tag:"img",src:e.image}});e.action&&(u=!0,l.inner=Object(o.default)({theme:"none",class:"SnackbarItem__action",url:e.action.url,target:e.action.target,on_click:e.action.onclick,use_native_onclick:!0,inner:Wd.wrap(e.action.text),attrs:e.action.attrs}));if(e.avatar){var p={tag:"img",class:"SnackbarItem__avatar",src:e.avatar};e.avatar_position&&"right"!==e.avatar_position?"left"===e.avatar_position&&(c=!0,s.inner=p):(u=!0,l.inner=p)}return{style:e.style?e.style:"",class:Object(r.concatValues)("SnackbarItem_"+e.id+" SnackbarItem--"+t+" ",a.default.class("SnackbarItem",{static:!!e.static,vertical:!!e.vertical,hasIcon:n},"--")),attrs:{"data-snackbar-id":e.id},inner:[{class:"SnackbarItem__table",inner:[c?s:null,e.text?{class:a.default.class("SnackbarItem__cell",{text:!0}),inner:{class:"SnackbarItem__text",inner:Object(r.isObject)(e.text)?e.text:Wd.wrap(e.text)}}:null,u?l:null]}]}};var l=n("OcsD"),c=n("UxAg"),u=n("kr3z"),d=n("zq7H");window.Snackbar={init:O,close:k,_onActionClick:function(e,t){var n=f[t];if(!n)return void Object(l.hide)(t);var a=n.callback,o=n.url;a?"function"==typeof a?a.call(null,e,{id:t,url:o}):Wd.handle2(a,e,{id:t,url:o}):Object(l.hide)(t)},_onRestoreClick:function(e,t,n){var a=t.closest(".SnackbarItem"),o=Object(l.domData)(a,"snackbar-id"),i=f[o];e.stopPropagation(),e.preventDefault();var r=i.callback;r&&("function"==typeof r?r.call(null,e,{id:o,url:n}):Wd.handle2(r,e,{id:o,url:n}));k(o),u.default.click(n,null,{url_params:{_ajax:1,_snackbar:1}})}};var p="common",_="mail",h=0,f={},b=1,v=2,m=3,g=4,w=[];function O(e){var t=isFinite(e.duration)?e.duration:5e3,n=h++,a=e.action&&e.action.callback,o=e.action&&e.action.url;e.position=e.position||p;var i=e.position;e.id=n,a&&!e.action.onclick&&(e.action.onclick=["Snackbar._onActionClick","event",n]),e.bottom&&(e.style="bottom: "+e.bottom+"px");var r,s=Wd.elem(SnackbarItem(e));return function(e,t){if(t.position===p)Object(l.append)(e,document.body);else if(t.position===_){var n="msg"===window.store.mail.cur.page?Object(c.$)(".messenger__layer_page .messenger__header"):Object(c.$)(".messenger__layer_convo .messenger__header");Object(l.append)(e,n)}setTimeout((function(){e.classList.add("SnackbarItem_added")}),100)}(s,e),t&&(r=j(n,t)),Object(l.addEvent)(s,"touchstart",T,{passive:!0}),Object(l.addEvent)(s,"touchmove",I,{capture:!1}),Object(l.addEvent)(s,"touchcancel touchend",B,{passive:!0}),f[n]={id:n,timer:r,callback:a,url:o,duration:t,position:i},w.push(n),y(),n}function y(){var e=(w=w.filter((function(e){var t=f[e],n=S(e);return!(!t||!n)}))).reduce((function(e,t){var n=f[t];return e[n.position]||(e[n.position]=[]),e[n.position].push(t),e}),{});Object.keys(e).forEach((function(t){var n=e[t],a=0,o=t===_?8:12;n.forEach((function(e,n){var i=S(e),r=Object(l.getH)(i);f[e].vertical=t===_?a:-a,l.setStyle.transform(i,1,[0,f[e].vertical]),a+=r+o}))}))}function j(e,t){return setTimeout((function(){k(e,!1)}),t)}function k(e,t){var n=f[e],a=S(e);n&&(n.timer&&clearTimeout(n.timer),delete f[e]),a&&function(e,t){if(Object(l.removeEvent)(e,"touchstart",T,{passive:!0}),Object(l.removeEvent)(e,"touchmove",I,{capture:!1}),Object(l.removeEvent)(e,"touchcancel touchend",B,{passive:!0}),t)return Object(l.remove)(e),void y();e.classList.add("SnackbarItem--closing");if(!e)return;e.classList.add("SnackbarItem_removed"),setTimeout((function(){Object(l.remove)(e),y()}),600)}(a,t)}function S(e){return Object(c.$)(".SnackbarItem_"+e)}onDOMReady((function(){onBodyResize(y)}));var A=!1,E=null,P=!1,C=0,M=!1,x=Object(l.getCw)();function T(e){if(x=Object(l.getCw)(),e.touches&&e.touches.length>1)A=!1;else{var t=e.target.closest(".SnackbarItem");t.classList.add("SnackbarItem--dragging");var n=Object(l.domData)(t,"snackbar-id");if(x>=d.DESKTOP_WIDTH&&(M=!0),f[n].position===_){M=!1;var a=Object(c.$)(".messenger");x=Object(l.getW)(a),f[n].parentXY=Object(l.getXY)(a)}else f[n].parentXY=Object(l.getXY)(bodyNode);f[n].timer&&clearTimeout(f[n].timer),E=e.touches[0],C=e.touches[0].clientX,A=!0,P=n,document.body.style.overflow="hidden"}}function I(e){var t=P;if(e.preventDefault(),e.touches&&e.touches.length>1)A=!1;else if(E&&A){var n=e.touches[0],a=e.target.closest(".SnackbarItem"),o=-(C-n.clientX);M&&(o=Math.min(o,0));var i=Object(l.getX)(a),r=(Object(l.getW)(a)+o)/2+i-f[t].parentXY[0],s=r>=.95*x||r<=x/.95-x;f[t].canClose=s,l.setStyle.transform(a,1,[o,f[t].vertical])}}function B(e){var t=e.target.closest(".SnackbarItem");t.classList.remove("SnackbarItem--dragging");var n=Object(l.domData)(t,"snackbar-id"),a=f[n];if(f[n].dragging=!1,P=!1,document.body.style.overflow="visible",a.canClose){var o=Object(l.getX)(t)>0?Object(l.getCw)():-Object(l.getCw)();return Object(l.getCw)()>=d.DESKTOP_WIDTH&&(o=Object(l.getX)(t)>Object(l.getCw)()/2?Object(l.getCw)():-Object(l.getCw)()),l.setStyle.transform(t,1,[o,f[n].vertical||0]),void k(n)}f[n].timer=j(n,a.duration),t&&l.setStyle.transform(t,1,[0,f[n].vertical||0])}t.default=s;window.SnackbarItem=s},WWoJ:function(e,t,n){"use strict";n.r(t),n.d(t,"Row",(function(){return c})),n.d(t,"Row_btn",(function(){return u})),n.d(t,"Row_labeledText",(function(){return d})),n.d(t,"Row_labeledInput",(function(){return p})),n.d(t,"Row_labeledSelect",(function(){return _}));var a=n("8ZMO"),o=n("p5n7"),i=n("I7Du"),r=n("9y81"),s=n("29dZ"),l=n("z9sQ");function c(e){void 0===e&&(e={});var t=e.anchor,n=e.attrs||{},o=e.style||{},i=e.url,s=e.count,c=i&&!o.no_go_icon&&!s,u=e.tag;u||(u=i?"a":"div");var d=null;return c?d=Wd.wrap(Object(r.default)({mix:"Row__right",icon:"chevron_right"})):s&&(d={inner:[s],class:"Row__right Row__count",tag:"div"}),{class:[e.mix||e.class,l.default.class("Row",{go:c,style_withBorder:o.with_border,style_withBorderForce:o.with_border_force,style_withHover:o.with_hover,style_smallPaddings:o.small_paddings,style_noPaddingTop:o.no_padding_top,style_noPaddingBottom:o.no_padding_bottom,style_tinyPaddingTop:o.tiny_padding_top,style_tinyPaddingBottom:o.tiny_padding_bottom,paddingTop_short:o.padding_top_short})],tag:u,href:i,attrs:n,role:e.role,inner:[t?Object(a.default)({id:t}):null,d,e.icon?{inner:[e.icon],class:"Row__icon "+e.icon_class,tag:"div"}:null,e.content||e.inner]}}function u(e){return c({content:Object(s.default)(e)})}function d(e){return h({anchor:e.anchor,url:e.url,label:e.label,content:e.text,is_mini:!0})}function p(e){return h({anchor:e.anchor,label:e.label,style:e.style,content:Object(o.default)(e)})}function _(e){return h({anchor:e.anchor,style:e.style,label:e.label,content:Object(i.default)(e)})}function h(e){return c({anchor:e.anchor,url:e.url,style:e.style,content:[f({is_mini:e.is_mini,label:e.label}),b({content:e.content})]})}function f(e){return{inner:[e.label],class:[l.default.class("Row__label",{mini:e.is_mini}),e.class||""].join(" "),tag:"div"}}function b(e){return{inner:[e.content],class:["Row__labeledContent",e.class||""].join(" "),tag:"div"}}t.default=c},"YU/R":function(e,t,n){"use strict";n.r(t),n.d(t,"ContextMenu",(function(){return i})),n.d(t,"ContextMenuItem",(function(){return r}));var a=n("OcsD"),o=n("wTbK");function i(e){return Object(o.default)({on_overlay_click:["return ContextMenu.close","this"],class:"ContextMenu",close:!0,onClose:["return ContextMenu.close","this"],items:[e.list?{tag:"ul",class:"ContextMenu__list",inner:Wd.wrap(e.list)}:null]})}function r(e){return{inner:[{inner:[e.title],"data-ref":e.ref,href:e.href,target:e.target,class:"ContextMenu__listLink",onclick:e.onclick,tag:"a"}],class:"ContextMenu__listItem","data-name":e.name,tag:"li"}}var s=n("t7Ww"),l=n("UxAg"),c={open:function(e,t,n){void 0===n&&(n={});var a=e.closest(t),o=!!n.appendToBody,i=Object(l.$)(d,a);i&&(i=s.default.open(i,o),u=function(){_(i)},nav.onBeforeGo(u));return!1},close:_},u=function(){},d=".ContextMenu",p=".ContextMenu.Popup_open";function _(e){return e||(e=Object(l.$)(".Popup_open.ContextMenu")||Object(l.$)(p)),e&&s.default.close(e),nav.onBeforeGo.off(u),!1}Object(a.extend)(i,c);t.default=i;window.ContextMenu=i},"aiw/":function(e,t,n){"use strict";n.r(t),n.d(t,"onOpen",(function(){return G})),n.d(t,"onClose",(function(){return $})),n.d(t,"isKeyboardOpen",(function(){return q})),n.d(t,"onCloseCallback",(function(){return z})),n.d(t,"offCloseCallback",(function(){return Y})),n.d(t,"onOpenCallback",(function(){return X})),n.d(t,"offOpenCallback",(function(){return Q}));var a=0,o=0,i=null,r=null;function s(){var e=pageYOffset;e!==a&&999999!==e&&(a=e,o=Math.max(o,e),scrollTo(0,999999)),clearTimeout(r),r=setTimeout((function(){r=null,window.removeEventListener("scroll",s),scrollTo(0,999999),setTimeout((function(){return scrollTo(0,999999)}),1e3)}),150)}var l,c,u,d,p,_,h,f,b,v=n("H5mD"),m=0,g=0,w="",O=!1,y={},j=0;function k(e){if(w=e,O=!1,l=!1,u=0,d=0,_=0,h=0,y={},void 0,f="start",b=0,j=0,v.isIPhone)if("top"===w||"bottom"===w){M()<v.IPHONE_KEYBOARD_REJECT_OFFSET&&x(0);var t=document.body;p=t.offsetHeight,t.offsetWidth,window.addEventListener("scroll",A),"top"===w&&Object(v.isLandscapePhone)()||(P(),E())}else document.body.classList.add("ScrollViewsDisabled")}function S(){"top"===w||"bottom"===w?(c&&clearTimeout(c),window.removeEventListener("scroll",A)):document.body.classList.remove("ScrollViewsDisabled"),O=!1,w="",l=!1,p=0,0}function A(){if(P(),"top"!==w){if("bottom"===w){var e=pageYOffset,t=M();l&&(l=!1,e===_)||(v.isWKWebView?h<=5&&E():e>v.IPHONE_KEYBOARD_REJECT_OFFSET?e>t?(x(e),v.isWKWebView||E()):e<t?y[e]||e>C(t)?(y[e]=!0,E(p)):E():e!==C(t)&&E():t||(e<v.IOS_NO_KEYBOARD_ALLOWED_OFFSET?(u===e?d++:(u=e,d=1),d>=3&&(window.removeEventListener("scroll",A),x(u)),setTimeout((function(){E()}),300)):E()))}}else{if(Object(v.isLandscapePhone)())return;if(v.isWKWebView)return void(0!==pageYOffset&&E(0));var n=innerHeight;if("start"===f&&(n<p?f="animate":E(1)),"animate"===f)if(b=p-n,j||(j=Math.max(1,Math.min(4,Math.floor(b/10)))),b<=0)f="stop";else{var a=v.isIPad?v.iosMajor<11?3:2:1;E(Math.min(b,j)*a)}"stop"===f&&E(1)}}function E(e){l=!0;var t,n=M();"bottom"===w?t=e||(!n||v.isWKWebView||v.isIPad?p:C(n)):"top"===w&&(t=isFinite(e)?e:1),h++,_=t,window.scrollTo(0,t)}function P(){c&&clearTimeout(c),O||(c=setTimeout((function(){O=!0,c=null,window.removeEventListener("scroll",A)}),500))}function C(e){return v.isIPad||v.isWKWebView||90===Math.abs(window.orientation)&&screen.width>=375||(v.isIPhoneX?e-=v.IPHONE_X_SAFARI_BOTTOM_BAR:e-=v.IPHONE_SAFARI_BOTTOM_BAR),e}function M(){return 90===Math.abs(window.orientation)?m:g}function x(e){90===Math.abs(window.orientation)?m=e:g=e}var T=null,I=0,B=0;function L(){if(!(visualViewport.height>=I)){var e=I-visualViewport.height;B!==e&&(!v.isWKWebView&&e<v.IOS_NO_KEYBOARD_ALLOWED_OFFSET?scrollTo(0,0):scrollTo(0,e))}}var D=!1,R=!1,W=!1,V=null,N=[],H=[],K=null,F=v.isScrollBasedViewport&&(v.isIPad||v.isWKWebView),U=v.isScrollBasedViewport&&v.iosMajor<=12;function G(e,t){void 0===e&&(e="default");var n=(void 0===t?{}:t).exitIfStarted,l=void 0!==n&&n;if(v.isIOS&&!(v.iosMajor<8)&&!(R&&l||D)){if(K=e,R=!0,V&&(clearTimeout(V),V=null),"bottom"===e){if((Object(v.isLandscapePhone)()||!F&&!U)&&!function(){if(T||(T={onceBlocked:!1}),T.onceBlocked&&(T.opened=!0),!T.onceBlocked&&!T.opened){T.onceBlocked=!0;var e=document.activeElement;return e.blur(),e.focus(),!1}return T.opened=!0,window.visualViewport&&(I=visualViewport.height,B=0,setTimeout(L),visualViewport.addEventListener("scroll",L),visualViewport.addEventListener("resize",L)),!0}())return;!F&&U&&k(e),F&&function(e){void 0===e&&(e="default"),i&&(clearTimeout(i),i=null),r&&(clearTimeout(r),r=null),a=0,0,0,o=0,window.addEventListener("scroll",s),setTimeout((function(){scrollTo(0,999999)}),10),setTimeout((function(){scrollTo(0,999999)}),100),setTimeout((function(){scrollTo(0,999999)}),200),setTimeout((function(){scrollTo(0,999999)}),300),setTimeout((function(){scrollTo(0,999999)}),400),setTimeout((function(){scrollTo(0,999999)}),500)}()}else!F&&U&&k(e);H.length&&H.forEach((function(e){return e()})),D=!0,R=!1}}function $(e){var t=(void 0===e?{}:e).exitIfStarted,n=void 0!==t&&t;if(v.isIOS&&!(v.iosMajor<8)&&(!W||!n)){if(W=!0,"bottom"===K){if((Object(v.isLandscapePhone)()||!F&&!U)&&(!T||T.onceBlocked&&!T.opened||(window.visualViewport&&(setTimeout(L),visualViewport.removeEventListener("scroll",L),visualViewport.removeEventListener("resize",L)),T=null,I=0,B=0,0)))return;if(!D)return;!F&&U&&S(),F&&(clearTimeout(i),clearTimeout(r),a=0,0,0,i=null,r=null,window.removeEventListener("scroll",s))}else!F&&U&&S();D=!1,W=!1,K=null,V&&clearTimeout(V),V=setTimeout((function(){scrollTo(0,0),N.length&&N.forEach((function(e){return e()}))}),10)}}function q(){return D}function z(e){-1===N.indexOf(e)&&N.push(e)}function Y(e){var t=N.indexOf(e);-1!==t&&N.splice(t,1)}function X(e){-1===H.indexOf(e)&&H.push(e)}function Q(e){var t=H.indexOf(e);-1!==t&&H.splice(t,1)}},akQD:function(e,t,n){"use strict";n.r(t);n("lyAj");var a=n("ToWQ"),o=n("OcsD"),i=n("OmnB"),r=n.n(i),s=n("wx14"),l=n("t7Ww"),c=n("TYsd"),u=n("UxAg"),d=n("r/ag"),p=n("zouF"),_=n("V4qE"),h=n("j80l"),f=function(){function e(){}return e.init=function(t,n){e.isInit||(e.isSection=n,window.cur||(window.cur={}),Object.assign(window.cur,t),e._initFavoriteHandler(),e._initShare(),e._initDestroy(),e.isInit=!0)},e.showAppMenu=function(t){var n=+t.dataset.isFavorite,a={use_native_onclick:!0,attrs:{"data-app-id":t.dataset.appId,"data-hash":t.dataset.hash,"data-is-favorite":n,"data-is-direct-game":"1","data-app-name":t.dataset.appName,"data-app-description":t.dataset.appDescription,"data-app-photo":t.dataset.appPhoto,"data-app-url":t.dataset.appUrl,"data-app-banner":t.dataset.appBanner,"data-mail-hash":t.dataset.mailHash}},o=n?"removeFavorite":"addFavorite",i=n?getLang("vkapps_remove_from_favorite"):getLang("vkapps_add_to_favorite"),r=[Object(l.ModalMenuBtn)(Object(s.default)({},a,{class:"VKAppsMenu__action VKAppsMenu__action--"+o,inner:""+i,onclick:["DirectGamesCatalog.toggleFavorite","this","event"]})),Object(l.ModalMenuBtn)(Object(s.default)({},a,{class:"VKAppsMenu__action VKAppsMenu__action--share",inner:getLang("vkapps_share"),onclick:["DirectGamesCatalog.share","this"]})),Object(l.ModalMenuBtn)(Object(s.default)({},a,{class:"VKAppsMenu__action VKAppsMenu__action--delete",inner:getLang("vkapps_uninstall_game"),onclick:["DirectGamesCatalog.removeGame","this","event"]}))],u=Object(l.default)({class:"VKAppsMenu__modal",type:"button",theme:"small",close:!0,closeText:getLang("mobile_cancel"),items:r});e.modal=d.default.open(c.default.elem(u),!0,{hash:"dg_app_menu"})},e.toggleFavorite=function(t,n){e.hideAppMenu(),window.VKApps.toggleFavorite(t,n)},e.hideAppMenu=function(){e.modal&&d.default.close(e.modal,!0)},e.onShareDone=function(){if(document.body.style.overflow="auto","#share_game"===nav.cur||"/apps"===nav.cur){var e=h.default.make(nav.path,Object(o.qs2obj)(nav.params));window.vkApp.hideAppsBox(),nav.set({nav:extend({},nav,{cur:nav.path,path:nav.path||"",push:e||""})})}},e.removeGame=function(t,n){Object(o.cancelEvent)(n),e.hideAppMenu();var a=t.dataset.hash,i=+t.dataset.appId;Object(p.Confirm)(getLang("vkapps_game_remove_confirm"),["DirectGamesCatalog.confirmRemoveGame","this",i,a])},e.confirmRemoveGame=function(t,n,a){d.default.close(t),e.isSection&&Object(o.remove)(Object(u.$)("#game_installed_"+n)),ajax.post(e.controller,{act:"vkapps_quit",quit:1,from:e.isSection?"dg_catalog_section":"dg_catalog",app_id:n,hash:a},{onDone:function(t,n){if(Object(_.init)({text:getLang("vkapps_game_removed")}),t)if(e.isSection){Object(u.$)(".GameCatalogRow")||nav.go("/games")}else{var a=Object(u.$)("#dg_section_installed"),i=Object(u.$)(".Slider__scroll",a),r=i.scrollLeft;n?(Object(o.replace)(Object(o.ceFromString)(n),a),a=Object(u.$)("#dg_section_installed"),(i=Object(u.$)(".Slider__scroll",a)).scrollLeft=r):Object(o.remove)(a)}}})},e.share=function(t){e.hideAppMenu();var n=+t.dataset.appId,a=t.dataset.appName,o=t.dataset.appDescription,i=t.dataset.appBanner||t.dataset.appPhoto,r=t.dataset.mailHash;window.vkApp.showShareBox(n,"",r,"https://vk.com/app"+n,i,a,o),document.body.style.overflow="hidden",nav.set({nav:extend({},nav,{path:nav.path,push:"#share_game"})})},e.destroy=function(){e.favoriteChanged&&window.VKApps.favoriteChanged.off(e.favoriteChanged),nav.onPopState.off(e.popStateHandler),e.isInit=!1},e._initShare=function(){var t=document.createElement("div");t.id="apps_box",document.body.appendChild(t),e.popStateHandler=function(){"#share_game"===nav.cur&&e.onShareDone(!1)},nav.onPopState((function(){"#share_game"!==nav.cur&&"/apps"!==nav.cur&&"/games"!==nav.cur||e.onShareDone(!1)}))},e._initFavoriteHandler=function(){e.favoriteChanged=function(e,t){if(e){var n=Object(u.$)("#game_controls_"+t);n&&(+n.dataset.isFavorite?n.dataset.isFavorite="0":n.dataset.isFavorite="1")}},window.VKApps.favoriteChanged(e.favoriteChanged)},e._initDestroy=function(){window.cur.destroy=window.cur.destroy||[],window.cur.destroy.push((function(){e.destroy()}))},e}();f.controller="/apps",f.isSection=void 0,f.modal=void 0,f.isInit=!1;var b=n("Cbap");function v(e){for(var t=Array.from(e),n=[],a=0,o=null,i=0;i<t.length;i+=1){var r=t[i],s=r.offsetWidth,l=r.offsetLeft,c=r.offsetHeight;o=0===i?l:o,n.push({width:s,height:c,offsetLeft:l,marginLeft:o}),a<s&&(a=s)}for(var u=0;u<n.length;u+=1)n[u].width=a;return n}function m(e,t){Array.from(e).forEach((function(e,n){e.style.marginLeft=t[n].marginLeft+"px",e.style.width=t[n].width+"px",e.style.height=t[n].height+"px",e.style.flex="none"}))}function g(e,t,n){return-1*(e[t].offsetLeft+e[t].width/2-n/2)}function w(e,t){var n=e.timeStamp,a=e.touches,o=a?a[0]:e,i=o.clientX,r=o.clientY,s=t.to||{},l=s.x,c=void 0===l?i:l,u=s.y,d={x:i-c,y:r-(void 0===u?r:u)},p=n-(t.time||0);return{to:{x:i,y:r},offset:d,time:n,speed:{x:d.x/p,y:d.y/p},duration:p}}var O,y,j,k=function(){function e(e,t){this.container=null,this.scrollEl=null,this.items=null,this.centralElementIndex=0,this.dimensions=[],this.currentIndex=0,this.isTouchActive=!1,this.startOffset=null,this.startInfo=null,this.currentInfo=null,this.state=null,this.container=e,this.scrollEl=t,this.items=this.scrollEl.childNodes,this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.resortSlides=this.resortSlides.bind(this),this.handleWindowDimensionsChange=this.handleWindowDimensionsChange.bind(this),this.handleDragstart=this.handleDragstart.bind(this),this.init()}var t=e.prototype;return t.init=function(){this.items.length<=1||(this.cloneSlides(),this.dimensions=v(this.items),m(this.items,this.dimensions),this.dimensions=v(this.items),this.setCentralSlidePosition(),this.scrollEl.style.width="max-content",this.setupCallbacks(),this.enableAutoscroll(),this.state="idle")},t.setupCallbacks=function(){Object(o.addEvent)(this.container,"dragstart",this.handleDragstart),Object(o.addEvent)(this.container,"mousedown touchstart",this.handleTouchStart),Object(o.addEvent)(this.container,"mousemove touchmove",this.handleTouchMove,{passive:!1}),Object(o.addEvent)(this.container,"mouseleave mouseup touchend touchcancel dragend",this.handleTouchEnd),Object(o.addEvent)(this.scrollEl,"transitionend",this.handleTransitionEnd),window.addEventListener("orientationchange",this.handleWindowDimensionsChange)},t.destroy=function(){this.disableAutoscroll(),cancelAnimationFrame(y),Object(o.removeEvent)(this.container,"dragstart",this.handleDragstart),Object(o.removeEvent)(this.container,"mousedown touchstart click",this.handleTouchStart),Object(o.removeEvent)(this.container,"mousemove touchmove",this.handleTouchMove),Object(o.removeEvent)(this.container,"mouseleave mouseup touchend touchcancel dragend",this.handleTouchEnd),Object(o.removeEvent)(this.scrollEl,"transitionend",this.handleTransitionEnd),window.removeEventListener("orientationchange",this.handleWindowDimensionsChange)},t.handleDragstart=function(e){e.taget!==this.scrollEl&&(e.preventDefault(),e.stopPropagation())},t.handleTouchStart=function(e){this.isTouchActive||(e.preventDefault(),e.stopPropagation(),this.initTouchEvent(e),this.disableAutoscroll())},t.initTouchEvent=function(e){this.startOffset=this.getScrollPosition(),this.startInfo=w(e,{}),this.currentInfo=this.startInfo},t.handleTouchMove=function(e){if(this.startInfo)if(this.currentInfo=w(e,this.startInfo),this.isTouchActive){e.cancelable&&e.preventDefault();var t=this.startOffset+this.currentInfo.offset.x;this.setScrollPosition(t)}else this.shouldMove(this.currentInfo)&&(this.isTouchActive=!0,this.initTouchEvent(e))},t.shouldMove=function(e){if("moving"===this.state||"resort"===this.state||"recalculating"===this.state)return!1;var t=e.offset;return 180*Math.atan(Math.abs(t.y)/Math.abs(t.x))/Math.PI<30},t.handleTouchEnd=function(e){if(this.startInfo=null,!this.isTouchActive||function(e){if(!e)return!1;var t=e.offset,n=e.duration;return Math.abs(t.x)<1&&Math.abs(t.y)<1&&n<200}(this.currentInfo))return t=e.target,void((n=t.closest("a"))&&n.href&&(window.location=n.href));var t,n;e.preventDefault(),e.stopPropagation(),this.go(this.currentInfo),this.enableAutoscroll(),this.isTouchActive=!1},t.cloneSlides=function(){var e=this.items;this.centralElementIndex=e.length;for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),a=0;a<e.length;a+=1)t.appendChild(e[a].cloneNode(!0)),e.length<4&&n.appendChild(e[a].cloneNode(!0));this.scrollEl.insertBefore(t,this.scrollEl.firstChild),this.scrollEl.appendChild(n)},t.go=function(e){var t=e.speed.x,n=Math.abs(t);if(0!==n){var a=t<0?-1:1,o=this.getScrollPosition();n>.6&&Math.abs(e.offset.x)<150&&(o+=a*Math.min(600*n,this.getContainerWidth()));var i=function(e,t,n){for(var a=null,o=null,i=n/2-e,r=0;r<t.length;r+=1){var s=t[r].offsetLeft+t[r].width/2,l=Math.abs(s-i);(null===a||l<a)&&(a=l,o=r)}return o}(o,this.dimensions,this.getContainerWidth());i===this.currentIndex&&n>.1&&(i=this.currentIndex-a),i-this.currentIndex>1&&(i=this.currentIndex+1),i-this.currentIndex<-1&&(i=this.currentIndex-1),this.scrollToSlide(i)}},t.resortSlides=function(){var e=this.centralElementIndex,t=this.scrollEl,n=this.currentIndex;if(e!==n){var a=document.createDocumentFragment();if(n>e){for(var o=n-e;o>0;)a.appendChild(t.childNodes[0]),o-=1;t.appendChild(a)}if(n<e){for(var i=e-n,r=t.childNodes.length-i;i>0;)a.appendChild(t.childNodes[r]),i-=1;t.insertBefore(a,t.firstChild)}this.setCentralSlidePosition()}},t.setScrollPosition=function(e){this.scrollEl.style.transform="translateX("+e+"px)"},t.getScrollPosition=function(){return parseFloat(this.scrollEl.style.transform.replace("translateX(",""))},t.getContainerWidth=function(){return this.container.offsetWidth},t.setCentralSlidePosition=function(){var e=g(this.dimensions,this.centralElementIndex,this.getContainerWidth());this.currentIndex=this.centralElementIndex,this.setScrollPosition(e)},t.scrollToSlide=function(e){this.state="moving",this.scrollEl.style.transition="transform 200ms cubic-bezier(.42,.65,.27,.99)";var t=g(this.dimensions,e,this.getContainerWidth());this.setScrollPosition(t),this.currentIndex=e},t.handleTransitionEnd=function(){var e=this;this.scrollEl.style.transition=null,this.state="resort",y=window.requestAnimationFrame((function(){e.resortSlides(),e.state="idle"}))},t.scrollToNext=function(){var e=(this.currentIndex+1)%this.items.length;this.scrollToSlide(e)},t.enableAutoscroll=function(){var e=this;O&&clearInterval(O),O=setInterval((function(){e.scrollToNext()}),4e3)},t.disableAutoscroll=function(){O&&(clearInterval(O),O=null)},t.handleWindowDimensionsChange=function(){var e,t=this;this.state="recalculating",e=this.items,Array.from(e).forEach((function(e){e.style.marginLeft="",e.style.width="",e.style.height="",e.style.flex=""})),this.scrollEl.style.width="",window.requestAnimationFrame((function(){setTimeout((function(){t.dimensions=v(t.items),m(t.items,t.dimensions),t.dimensions=v(t.items),t.setCentralSlidePosition(),t.state="idle"}))}))},e}();function S(){j&&j.destroy()}b.default.getRouter().addRoute(/^\/(games|apps)\/?(\?.*)?$/,(function(){S();var e=Object(u.$)(".GamesFeaturedSliderBlock__slider");if(null!==e){var t=Object(u.$)(".GamesFeaturedSliderBlock__scroll",e);t&&(j=new k(e,t))}}),S);if("/vkpay_music"===location.pathname||"/vk_pay_music"===location.pathname||0===location.pathname.indexOf("/app6460535")){var A=location.href.split("#")[1];A&&"unsubscribe"===A||(location.href=location.href.replace("m.","").replace("act=app_r",""))}window._iconAdd||(window._iconAdd=window.devicePixelRatio>=2?"_2x":"");var E={initAppView:function(e,t){var n=function(e){"block"==e.type?cur.app.runCallback("onWindowBlur"):cur.app.runCallback("onWindowFocus")};cur.app.onReady.push((function(){cur.app.onLocChanged(e.hash),addEvent(document,"block unblock",n,!0),cur.destroy.push((function(){removeEvent(document,"block unblock",n)}))})),t.icon&&(setFavIcon(t.icon),cur.destroy.push((function(){setFavIcon("/images/favicon"+(vk.intnat?"_vk":"new")+window._iconAdd+".ico")}))),window.opener&&(E.setExternalAppEventListeners(),t.is_vkpay_app&&E.setExternalPayAppEventListeners()),E.changeCheckBackUrl(),nav.onBeforeGo((function(){window.DirectGames&&window.DirectGames.closeAll()}))},setExternalAppEventListeners:function(){window.addEventListener("beforeunload",(function(){window.opener.postMessage({externalAppClosed:1},"*")}))},setExternalPayAppEventListeners:function(){window.addEventListener("message",(function(e){e.data&&"vk-connect"===e.data.type?"VKWebAppActionDone"===e.data.handler&&(window.opener.postMessage(e.data,"*"),window.close()):e.data&&e.data.externalAppClosed&&window.opener.postMessage(e.data,"*")}))},runUnverified:function(e,t){Btn.setLoading(e,!0),nav.hash&&(t+=nav.hash),nav.hard_go(t)},initUnverifiedRunScreen:function(){var e,t=document.getElementById("apps_unverifiedAppWarning__run_btn");t&&t.addEventListener("click",(function(){Btn.setLoading(this,!0)})),window.history&&window.history.length>2&&(e=geByClass1("apps_unverifiedAppWarning__btn_back"))&&addClass(e,"apps_unverifiedAppWarning__btn_active"),r.a.supports("VKWebAppInit")&&r.a.send("VKWebAppInit",{})},unverifiedGoBack:function(){return window.history.back(),!1},goBack:function(e,t,n,a){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===a&&(a=""),n)setTimeout((function(){ajax.post("/apps",{act:"mini_app_quit",app_id:window.cur&&window.cur.aid,hash:a})}),0);else{cancelEvent(e);var o=t?"/games":"/services";if(window.cur&&window.cur.app&&window.cur.app.isDirectGame)window.DirectGames.goBack();else{var i=-1,r=window.history.length;cur.VKApp?2===cur.VKApp.vkMiniAppsHistoryLength&&!document.referrer||1===cur.VKApp.vkMiniAppsHistoryLength?nav.go(o):(cur.VKApp.vkMiniAppsHistoryLength!==r&&(i=cur.VKApp.vkMiniAppsHistoryLength-r-1),window.history.go(i)):nav.go(o)}}},initGameInstallScreen:function(e,t,n,i,s){window.cancelSettings=function(e){e?Object(o.isVkWebView)()?r.a.supports("VKWebAppClose")?r.a.send("VKWebAppClose",{status:"success"}):a.VKApp.callNativeClientMethod("close",""):E.goBack(null,!0):(hide(Object(o.ge)("apps_box")),Object(o.ge)("apps_box").innerHTML="",show(Object(o.ge)("apps_test_id")),cur.onSettingsChange("cancel")),cur.settingsBoxShown=!1},window.saveSettings=function(l,c){if(!cur.savingSettings){var u=geByClass("oauth_access_item"),d=Object(o.qs2obj)(nav.params),p={act:"save_settings",aid:e,hash:t,api_hash:cur.api_hash,ref:d.ref,section_type:d.section_type};u.forEach((function(e){e.id&&(p[e.id]=1)})),s&&(p.gid=s),l&&(p.join=1,p.request_id=n,p.request_key=i),c&&Btn.setLoading(c,!0),ajax.post("apps.php",p,{onDone:function(t){cur.settingsBoxShown=!1,c&&Btn.setLoading(c,!1),l?(r.a.supports("VKWebAppGameInstalled")?r.a.send("VKWebAppGameInstalled",{appId:e}):a.VKApp.callNativeClientMethod("onGameInstalled",{appId:e}),location.reload()):(cur.app&&cur.onSettingsChange("ok",t.settings),hide(Object(o.ge)("apps_box")),Object(o.ge)("apps_box").innerHTML="",show(Object(o.ge)("apps_test_id")))},onFail:function(){cur.savingSettings=!1},showProgress:function(){cur.savingSettings=!0}})}},r.a.supports("VKWebAppInit")&&r.a.send("VKWebAppInit",{}),r.a.supports("VKWebAppGameInstallShowed")&&r.a.send("VKWebAppGameInstallShowed",{appId:e})},changeCheckBackUrl:function(){if(6739175===cur.aid&&("/check"===nav.path||"/app6739175"===nav.path)){var e=nav.params?"?"+nav.params:"";nav.set({nav:{push:"/checkback"+e+nav.hash,params:nav.params,hash:nav.hash}})}}};window.Apps=E,window.vkApp=a.VKApp,window.DirectGamesCatalog=f},"bZ/P":function(e,t,n){"use strict";n.r(t);var a={};function o(e,t){return e+'="'+t+'"'}function i(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o(e,r(n))}}function r(e){return e[0]+"("+e.slice(1).map(s).join(", ")+")"}function s(e){return"number"==typeof e||"event"===e||"this"===e?e:JSON.stringify(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,t){var n,a=[];"string"==typeof t&&((n={})[t]=!0,t=n);return Object.keys(t).forEach((function(n){var o=t[n];!0===o?a.push(e+"_"+n):o&&a.push(e+"_"+n+"_"+o)})),a}Object.assign(a,{html:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o="";return e.forEach((function(e,t){var a=n[t];o+=e+(a||0===a?a:"")})),o}}),Object.assign(a,{attr:o,onBlur:i("onblur"),onClick:i("onclick"),onFocus:i("onfocus"),onInput:i("oninput"),onKeyDown:i("onkeydown"),onKeyPress:i("onkeypress"),onKeyUp:i("onkeyup"),onMouseDown:i("onmousedown"),onMouseUp:i("onmouseup"),onScroll:i("onscroll"),onSubmit:i("onsubmit"),onTouchEnd:i("ontouchend"),onTouchMove:i("ontouchmove"),onTouchStart:i("ontouchstart"),onWheel:i("onwheel"),onChange:i("onchange")}),Object.assign(a,{list:function(e,t){void 0===t&&(t=null);Array.isArray(e)||(e=[e]);return t?e.map(t).join(""):e.join("")}}),Object.assign(a,{class:function(){for(var e=[],t=null,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return a.forEach((function(n){"string"==typeof n?(e.push(n),t=n):n&&(e=e.concat(l(t,n)))})),e.join(" ")},parseClass:function(e,t){var n={};return t.trim().split(/\s+/).forEach((function(t){if(t!==e){var a=t.replace(e+"_","").split("_");n[a[0]]=!(a.length>1)||a[1]}})),n}});t.default=a;window.q=a},cGUQ:function(e,t,n){"use strict";n.r(t),n.d(t,"fromQueryString",(function(){return l})),n.d(t,"toQueryString",(function(){return s}));var a=n("jE6c"),o={},i=function(e){if(o[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},r=function(e){try{return decodeURIComponent(e)}catch(t){return o[e]=1,e}};function s(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)&&null!=e[o]&&!Object(a.isFunction)(e[o]))if(Object(a.isArray)(e[o]))for(var r=0,s=0,l=e[o].length;r<l;++r)null==e[o][r]||Object(a.isFunction)(e[o][r])||(n.push(i(o)+"["+s+"]="+i(e[o][r])),++s);else n.push(i(o)+"="+i(e[o]));return t||n.sort(),n.join("&")}function l(e){if(!e)return{};var t={};return e=e.split("&"),Object(a.each)(e,(function(e,n){var a=n.split("=");if(a[0]){var o=r(a[1]+"");if("[]"===a[0].substr(a.length-2)){var i=r(a[0].substr(0,a.length-2));t[i]||(t[i]=[]),t[i].push(o)}else t[r(a[0])]=o}})),t}},d4g6:function(e,t,n){"use strict";n.r(t),n.d(t,"objectToQuerystring",(function(){return o})),n.d(t,"getHostName",(function(){return i})),n.d(t,"destroyOpenedApp",(function(){return r})),n.d(t,"isVKPayApp",(function(){return s})),n.d(t,"filterPostMessageOrigin",(function(){return l})),n.d(t,"isAllowedPostMessageOriginHost",(function(){return c}));var a=n("4zn2"),o=function(e){return Object.keys(e).reduce((function(t,n,a){return[t,0===a?"?":"&",encodeURIComponent(n),"=",encodeURIComponent(e[n])].join("")}),"")},i=function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2].toLowerCase():null},r=function(e){if(cur.vkAppQueue){var t=Object.keys(cur.vkAppQueue).filter((function(t){return~t.indexOf(e)}));if(t.length>0){var n=t[0];cur.vkAppQueue[n].destroyView(),delete cur.vkAppQueue[n]}}},s=function(e){return a.VKPAY_APPS.includes(e)};function l(e,t){var n=i(t),a=e.vkApp?e.vk_app_url:e.src,o=i(a);if(n!==o&&!c(e,n))throw Error("Insecure method call from "+n+". Call must be from "+o);return!0}function c(e,t){return!!e.allowed_origin_regexp&&new RegExp(e.allowed_origin_regexp).test(t)}},g3t9:function(e,t,n){"use strict";n.r(t),n.d(t,"Separator",(function(){return o}));var a=n("z9sQ");function o(e){return void 0===e&&(e={}),{class:[e.class,a.default.class("Separator",{hideOnDesktop:e.hideOnDesktop,noOffset:e.noOffset,gray:e.gray},"--")],tag:"div"}}t.default=o},gF8j:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r})),n.d(t,"getVisibilityState",(function(){return c})),n.d(t,"getVisiblityEvent",(function(){return u}));var a=n("uQjJ"),o=n("PU8N"),i=browser.iphone||browser.ipad||browser.ipod;function r(e){this.started=!1,this.is_idle=!0,this.activeTimeStart=null,this.cbActiveB=this.cbActive.bind(this),this.cbInactiveB=this.cbInactive.bind(this),this.onVisiblityChange=this.onVisiblityChange.bind(this),this.opts=extend({triggerEvents:"mousemove keydown",onIdleCb:function(){},onUnIdleCb:function(){},focusElement:e.element,element:null,idleTimeout:3e4},e)}function s(e,t,n){Object(o.isMvk)()?window.addEvent(e,t,n,{passive:!0}):window.addEvent(e,t,n)}function l(e,t,n){Object(o.isMvk)()?window.removeEvent(e,t,n,{passive:!0}):window.removeEvent(e,t,n)}function c(){return document.visibilityState||document.webkitVisibilityState}function u(){var e="visibilitychange";return document.visibilityState||(document.webkitVisibilityState?e+="webkit":e=""),e}extend(r.prototype,a.default.prototype),extend(r.prototype,{stop:function(){this.started=!1,l(this.opts.element,this.opts.triggerEvents,this.cbActiveB),Object(o.isMvk)()&&this._isTopLevel()&&u()&&l(document,u(),this.onVisiblityChange),Object(o.isMvk)()&&i||(l(this.opts.focusElement,"focus",this.cbActiveB),l(this.opts.focusElement,"blur",this.cbInactiveB)),clearTimeout(this.setIdleTo),clearTimeout(this.checkIdleCbTo),clearTimeout(this.sendCbTO),this.is_idle=!0,this.opts.parentManager&&this.opts.parentManager.off("idle",this.cbInactiveB)},idle:function(e){this.is_idle=!0,e||this.opts.onIdleCb(),this.emit("idle")},unidle:function(e){this.is_idle=!1,e||this.opts.onUnIdleCb(),this.emit("unidle")},start:function(){this.started=!0,!Object(o.isMvk)()&&browser.mobile||(this.is_idle=!this._isFocused(),this.opts.parentManager&&this.opts.parentManager.on("idle",this.cbInactiveB),Object(o.isMvk)()&&this._isTopLevel()&&u()&&s(document,u(),this.onVisiblityChange),Object(o.isMvk)()&&i||(s(this.opts.focusElement,"focus",this.cbActiveB),s(this.opts.focusElement,"blur",this.cbInactiveB)),clearTimeout(this.checkIdleCbTo),this.checkIdleCb(),this.checkIdleCbTo=setTimeout(this.checkIdleCb.bind(this),this.opts.idleTimeout))},checkIdleCb:function(){this.started&&(s(this.opts.element,this.opts.triggerEvents,this.cbActiveB),clearTimeout(this.setIdleTo),this.setIdleTo=setTimeout(this.cbInactiveB,this.opts.idleTimeout))},cbActive:function(){this.started&&(this.activeTimeStart=(new Date).getTime(),clearTimeout(this.setIdleTo),this.is_idle&&(this.is_idle=!1,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout(function(){this.emit("unidle"),this.opts.onUnIdleCb&&this.opts.onUnIdleCb()}.bind(this),100)),l(this.opts.element,this.opts.triggerEvents,this.cbActiveB),clearTimeout(this.checkIdleCbTo),this.checkIdleCbTo=setTimeout(this.checkIdleCb.bind(this),this.opts.idleTimeout))},cbInactive:function(){this.started&&(this.activeTimeStart=null,this.is_idle||(this.is_idle=!0,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout(function(){this.emit("idle"),this.opts.onIdleCb&&this.opts.onIdleCb()}.bind(this),100)),clearTimeout(this.checkIdleCbTo),l(this.opts.element,this.opts.triggerEvents,this.cbActiveB),s(this.opts.element,this.opts.triggerEvents,this.cbActiveB),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout))},getActiveTime:function(){return!this.is_idle&&this.activeTimeStart?(new Date).getTime()-this.activeTimeStart:0},onVisiblityChange:function(){"visible"===c()?this.cbActiveB():this.cbInactiveB()},_isTopLevel:function(){var e=this.opts.focusElement;return e===window||e===document},_isFocused:function(){var e=this.opts.focusElement;if(this._isTopLevel()){var t=c();return"string"==typeof t&&"visible"===t}return document.activeElement===e}})},he4e:function(e,t,n){"use strict";n.r(t),n.d(t,"clear",(function(){return d})),n.d(t,"onClear",(function(){return l})),n.d(t,"onClearConfirm",(function(){return p})),n.d(t,"onClearDecline",(function(){return _})),n.d(t,"isCleared",(function(){return u}));var a=n("OcsD"),o=n("+cqQ"),i=n("UxAg"),r=n("r/ag"),s=n("29dZ"),l=Object(o.default)(),c={};function u(e){var t=/([a-z]*)(-?\d+)?(?:_(-?\d+))?/.exec(e)[2];return!!c[t]||!!c[e]}function d(e,t,n,o,i,r){if(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),r){s.default.setLoading(e,!0,"white");var l="restr_"+Object(a.srand)(),c=e.closest(".PostPhotoRestriction");Object(a.domData)(c,"clear-id",l),function(e,t,n,a,o){photoview._toggleTouches(!1),clog("[PostPhotoRestriction] Show confirm to unblur "+a),Confirm(t,"PostPhotoRestriction.onClearConfirm('"+e+"', '"+a+"', '"+o+"')","PostPhotoRestriction.onClearDecline('"+e+"')",{id:e,ok_text:n})}(l,n,o,i,r)}else clog("[PostPhotoRestriction] No hash was provided")}function p(e,t,n){r.default.close(Object(a.ge)(e)),photoview._toggleTouches(!0),ajax.post(t+"?act=unblur&hash="+n,{},{onDone:function(n){var o=Object(i.$)('[data-clear-id="'+e+'"]');if(o){var r=Object(i.$)(".SplashScreen__more .Btn",o);s.default.setLoading(r,!1),o.classList.add("PostPhotoRestriction--clear")}else clog("[PostPhotoRestriction] Can't find restriction el with clear id "+e);var u=/([a-z]*)(-?\d+)?(?:_(-?\d+))?/.exec(t),d=u[2],p=u[3],_=[];n?(_.push.apply(_,Object(i.$$)('.thumb_map_img--blur[data-id^="'+d+'"]')),_.push.apply(_,Object(i.$$)('.thumb_map_img--blur[href^="/photo'+d+'"]'))):(_.push(Object(i.$)('.thumb_map_img--blur[data-id="'+d+"_"+p+'"]')),_.push(Object(i.$)('.thumb_map_img--blur[href^="/photo'+d+"_"+p+'"]'))),_.forEach((function(e){if(e){e.classList.remove("thumb_map_img--blur");var t=Object(i.$)(".PostPhotoRestriction--blur,.PostPhotoRestriction--blurWithText",e);Object(a.re)(t)}})),n&&(c[""+d]=!0),c[t]=!0,l(t);var h=[];n?h.push.apply(h,Object(i.$$)('.PhotosPhotoItem__photo[data-id^="'+d+'"]')):h.push(Object(i.$)('.PhotosPhotoItem__photo[data-id="'+t.replace("photo","")+'"]')),h.forEach((function(e){if(e){e.classList.remove("PhotosPhotoItem__photo--blur");var t=Object(i.$)(".PhotosPhotoItem__restriction",e);Object(a.re)(t)}}));var f=[];n?f.push.apply(f,Object(i.$$)('.AlbumItem__thumb--blur[data-thumb-id^="'+d+'"]')):f.push(Object(i.$)('.AlbumItem__thumb--blur[data-thumb-id="'+t.replace("photo","")+'"]')),f.forEach((function(e){if(e){e.classList.remove("AlbumItem__thumb--blur");var t=Object(i.$)(".AlbumItem__restriction",e);Object(a.re)(t)}})),setTimeout((function(){Object(a.remove)(o)}),500)}})}function _(e){var t=Object(i.$)('[data-clear-id="'+e+'"]'),n=Object(i.$)(".SplashScreen__more .Btn",t);photoview._toggleTouches(!0),r.default.close(Object(a.ge)(e)),s.default.setLoading(n,!1)}nav.onBeforeGo((function(){Object(i.$$)(".Confirm[id^=restr]").forEach((function(e){_(e.id)}))}))},jYEY:function(e,t,n){var a;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,a,o,r){return i((s=i(i(t,e),i(a,r)))<<(l=o)|s>>>32-l,n);var s,l}function s(e,t,n,a,o,i,s){return r(t&n|~t&a,e,t,o,i,s)}function l(e,t,n,a,o,i,s){return r(t&a|n&~a,e,t,o,i,s)}function c(e,t,n,a,o,i,s){return r(t^n^a,e,t,o,i,s)}function u(e,t,n,a,o,i,s){return r(n^(t|~a),e,t,o,i,s)}function d(e,t){var n,a,o,r,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,_=-271733879,h=-1732584194,f=271733878;for(n=0;n<e.length;n+=16)a=p,o=_,r=h,d=f,p=s(p,_,h,f,e[n],7,-680876936),f=s(f,p,_,h,e[n+1],12,-389564586),h=s(h,f,p,_,e[n+2],17,606105819),_=s(_,h,f,p,e[n+3],22,-1044525330),p=s(p,_,h,f,e[n+4],7,-176418897),f=s(f,p,_,h,e[n+5],12,1200080426),h=s(h,f,p,_,e[n+6],17,-1473231341),_=s(_,h,f,p,e[n+7],22,-45705983),p=s(p,_,h,f,e[n+8],7,1770035416),f=s(f,p,_,h,e[n+9],12,-1958414417),h=s(h,f,p,_,e[n+10],17,-42063),_=s(_,h,f,p,e[n+11],22,-1990404162),p=s(p,_,h,f,e[n+12],7,1804603682),f=s(f,p,_,h,e[n+13],12,-40341101),h=s(h,f,p,_,e[n+14],17,-1502002290),p=l(p,_=s(_,h,f,p,e[n+15],22,1236535329),h,f,e[n+1],5,-165796510),f=l(f,p,_,h,e[n+6],9,-1069501632),h=l(h,f,p,_,e[n+11],14,643717713),_=l(_,h,f,p,e[n],20,-373897302),p=l(p,_,h,f,e[n+5],5,-701558691),f=l(f,p,_,h,e[n+10],9,38016083),h=l(h,f,p,_,e[n+15],14,-660478335),_=l(_,h,f,p,e[n+4],20,-405537848),p=l(p,_,h,f,e[n+9],5,568446438),f=l(f,p,_,h,e[n+14],9,-1019803690),h=l(h,f,p,_,e[n+3],14,-187363961),_=l(_,h,f,p,e[n+8],20,1163531501),p=l(p,_,h,f,e[n+13],5,-1444681467),f=l(f,p,_,h,e[n+2],9,-51403784),h=l(h,f,p,_,e[n+7],14,1735328473),p=c(p,_=l(_,h,f,p,e[n+12],20,-1926607734),h,f,e[n+5],4,-378558),f=c(f,p,_,h,e[n+8],11,-2022574463),h=c(h,f,p,_,e[n+11],16,1839030562),_=c(_,h,f,p,e[n+14],23,-35309556),p=c(p,_,h,f,e[n+1],4,-1530992060),f=c(f,p,_,h,e[n+4],11,1272893353),h=c(h,f,p,_,e[n+7],16,-155497632),_=c(_,h,f,p,e[n+10],23,-1094730640),p=c(p,_,h,f,e[n+13],4,681279174),f=c(f,p,_,h,e[n],11,-358537222),h=c(h,f,p,_,e[n+3],16,-722521979),_=c(_,h,f,p,e[n+6],23,76029189),p=c(p,_,h,f,e[n+9],4,-640364487),f=c(f,p,_,h,e[n+12],11,-421815835),h=c(h,f,p,_,e[n+15],16,530742520),p=u(p,_=c(_,h,f,p,e[n+2],23,-995338651),h,f,e[n],6,-198630844),f=u(f,p,_,h,e[n+7],10,1126891415),h=u(h,f,p,_,e[n+14],15,-1416354905),_=u(_,h,f,p,e[n+5],21,-57434055),p=u(p,_,h,f,e[n+12],6,1700485571),f=u(f,p,_,h,e[n+3],10,-1894986606),h=u(h,f,p,_,e[n+10],15,-1051523),_=u(_,h,f,p,e[n+1],21,-2054922799),p=u(p,_,h,f,e[n+8],6,1873313359),f=u(f,p,_,h,e[n+15],10,-30611744),h=u(h,f,p,_,e[n+6],15,-1560198380),_=u(_,h,f,p,e[n+13],21,1309151649),p=u(p,_,h,f,e[n+4],6,-145523070),f=u(f,p,_,h,e[n+11],10,-1120210379),h=u(h,f,p,_,e[n+2],15,718787259),_=u(_,h,f,p,e[n+9],21,-343485551),p=i(p,a),_=i(_,o),h=i(h,r),f=i(f,d);return[p,_,h,f]}function p(e){var t,n="",a=32*e.length;for(t=0;t<a;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function _(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var a=8*e.length;for(t=0;t<a;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){var t,n,a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return a}function f(e){return unescape(encodeURIComponent(e))}function b(e){return function(e){return p(d(_(e),8*e.length))}(f(e))}function v(e,t){return function(e,t){var n,a,o=_(e),i=[],r=[];for(i[15]=r[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],r[n]=1549556828^o[n];return a=d(i.concat(_(t)),512+8*t.length),p(d(r.concat(a),640))}(f(e),f(t))}function m(e,t,n){return t?n?v(t,e):h(v(t,e)):n?b(e):h(b(e))}void 0===(a=function(){return m}.call(t,n,t,e))||(e.exports=a)}()},"k+Df":function(e,t,n){"use strict";n.r(t);var a=n("z9sQ"),o=n("TYsd"),i=n("9y81"),r=n("29dZ"),s=n("tlMv");t.default=function(e){void 0===e&&(e={});var t=null;e.icon_raw?t=e.icon_raw:e.icon&&(t=Object(i.IconWd)({class:"SplashScreen__icon",icon:e.icon,svg:e.is_svg_icon}));var n=o.default.wrap(e.more_text);"primary"!==e.more_type&&"regular"!==e.more_type&&"outlineMono"!==e.more_type||(n=Object(r.default)({inner:[e.more_text],theme:e.more_type,url:e.more_url,onClick:e.more_onclick,attrs:{ontouchend:e.more_ontouchend},use_native_onclick:e.more_native_onclick}),e.more_url=null);var l=[e.class,a.default.class("SplashScreen",e.mix||{})];e.small&&l.push("SplashScreen--small");return[e.separator?Object(s.default)({hideOnDesktop:!e.separator_desktop}):{},{class:l,inner:e.inner||[e.before,t,e.title?{class:"SplashScreen__title",inner:o.default.wrap(e.title)}:null,e.text?{class:[e.text_class,"SplashScreen__text"],inner:o.default.wrap(e.text)}:null,e.more_text?{class:"SplashScreen__more",inner:n,href:e.more_url}:null,e.action_text?{class:"SplashScreen__action",inner:{class:"SplashScreen__actionButton",inner:o.default.wrap(e.action_text),href:e.action_url}}:null]}]}},kr3z:function(e,t,n){"use strict";n.r(t);var a=n("wx14"),o=n("UxAg"),i=n("+cqQ"),r=n("jk6M"),s=n("jE6c"),l=n("OcsD"),c=n("j80l"),u=n("eGQV"),d=n("tgcV"),p=n("cGUQ"),_=n("izth"),h=n("Cbap"),f=function(e){void 0===e&&(e={});var t=["AudioPlaylistRoot",e.class].filter((function(e){return e})).join(" ");return{attrs:{"data-playlist-id":e.playlist_id},inner:e.inner,class:t}};var b=n("g3t9"),v=n("fdw3"),m=n("0hva"),g=n("z1UI"),w=n("GtpT"),O=n("vOib"),y=n("v+Uj");var j=function(e){void 0===e&&(e={});var t=window.lang,n=e.items||[],a=e.count||null,o=e.href,i=n.map((function(e){return{inner:[Object(w.default)({album:e})],class:"AlbumsBlock__album",tag:"div"}})),r={text:Object(v.getLang)("mobile_subheader_show_all"),class:"al_albums",url:o},s=Object(y.default)({inner:[{inner:[i],class:"AlbumsBlock__albums",tag:"div"}]});return{inner:[{name:"albums",tag:"a"},Object(O.default)({title:t.mobile_photos_block_albums_title,count:a,corner:r,content:s,no_border:!0,noShadow:!0})],class:"AlbumsBlock",tag:"div"}},k=n("1VZq");var S=function(e){var t=window.lang,n=e.items||[],a=e.count||null,o=e.buttons||{},i=e.href,r=e.hide_header||!1,s=e.label||t.mobile_photos_block_photos_title,l="PhotosBlock",c="PhotosBlock__photos";!!e.autoload&&(l+=" PhotosBlock--autoload",c+=" photos_page");var u={inner:[n.map((function(e){return Object(k.default)({photo:e})}))],class:c,tag:"div"},d=null;return i&&(d={text:Object(v.getLang)("mobile_subheader_show_all"),class:"al_empty",url:i}),{inner:[{name:"photos",tag:"a"},Object(O.default)({inner:[{inner:[o.prev,u,o.more],tag:"div"}],title:r?null:s,corner:d,count:a,noShadow:!0,no_border:!0})],class:l,tag:"div"}},A=n("tlMv");var E=function(e){var t=window.lang,n=e.pretag,a=e.buttons||{},o=e.is_owner,i=[],r=e.section,s=e.albums,l=e.albums_count,c=e.albums_href,u=e.photos,d=e.photos_count,p=e.new_tags_photos,_=e.new_tags_count,h=e.new_tags_href;if("all"===r){var f=s.map((function(e){return Object(w.default)({album:e})}));f&&i.push({inner:[a.prev?a.prev:null,{inner:[f],class:"AlbumsPage__items album_items photos_page bl_cont",tag:"div"},a.more?a.more:null],tag:"div"})}else s&&s.length&&i.push(j({items:s,count:l,href:c})),p&&p.length&&i.push(S({label:t.mobile_photos_block_tags_title,items:p,count:_,href:h})),u&&u.length&&i.push(S({autoload:!0,items:u,count:d,buttons:a}));if(!i.length){var b=o?t.mobile_albums_can_store_photos:t.mobile_albums_no_albums;return Object(g.default)({separator:!0,text:b,more_type:"primary",more_text:e.add_url?t.mobile_photos_placeholder_album_action:null,more_url:e.add_url})}return{inner:["all"!==r?Object(A.default)({hideOnDesktop:!0}):null,{inner:[i],class:"upanel bl_cont",tag:"div"},n],class:"AlbumsPage PageBlock PageBlock_bottomPadding",tag:"div"}},P=n("GVTI"),C=n("W9Tc"),M=n("gF8j"),x=n("r/ag"),T=n("29dZ"),I=n("vk58");var B,L=function(e){var t=function(e){var t=e.buttons,n=Object.keys(t).map((function(n){var a=t[n],o=a.theme;o="yes"!==n||o?"secondary":"regular";var i={"data-key":n,"data-force":e.force?1:0};return Object(T.default)({inner:[a.text],theme:o,url:a.href,attrs:i,on_click:"ConfirmPopup.onButtonClick(this, event);",use_native_onclick:!0})}));return Object(I.default)({inner:[n]})}(e),n={title:e.title};return Object(x.default)({inner:[Wd.wrap(e.text),{inner:[t],class:"Popup__buttons",tag:"div"}],class:"ConfirmPopup",header:n,scrollable:!0,on_overlay_click_native:"ConfirmPopup.onOverlayClick(this, event);"})},D=n("zq7H");if(!window.ajax){var R={onBeforeRedirect:Object(i.default)("url"),onBeforePageParse:Object(i.default)(),onRedirect:Object(l.se)(),onNavDone:Object(i.default)(),_tStart:!1,_tAlStart:!1,RESPONSE_ARGUMENTS:0,RESPONSE_REDIRECT:1,RESPONSE_CAPTCHA:2,RESPONSE_PAGE:3,RESPONSE_FAILED_AUTH:4,RESPONSE_CONFIRM:5,RESPONSE_IGNORE:100,_getreq:function(){return new XMLHttpRequest},_al_reqs:[],_last_req:null,save_req:function(e){R._al_reqs.push(e||R._last_req)},abort_reqs:function(){Object(l.each)(R._al_reqs,(function(e,t){t.abort()})),R._al_reqs=[]},_failed_relogin:!1,_failed_reqs:[],save_failed_req:function(e,t,n,a){R._failed_reqs.push([e,t,n,a])},repeat_reqs:function(){Object(l.each)(R._failed_reqs,(function(){var e=this.shift();R._post.apply(null,this),Object(l.remove)(e)})),R._failed_reqs=[]},_error_displayed:null,plainpost:function(e,t,n,a,o,i,r,s){var c="string"!=typeof t?Object(p.toQueryString)(t,!0):t,d={"Content-Type":"application/x-www-form-urlencoded"};o||s||(d["X-Requested-With"]="XMLHttpRequest"),s||(Object(u.isStandalone)()&&(d["X-View-Mode"]="pwa"),i&&i.headers&&Object.assign(d,i.headers));var _=new AbortController,h=_.signal,f=new Request(e,{credentials:"same-origin",method:"POST",headers:d,body:c,signal:h}),b=fetch(f).then((function(e){return e.text().then((function(t){return e.status>=200&&e.status<300?n&&n(t,e):a&&a(t,e),{response:e,text:t}}))})).catch((function(e){var t=!1;if(a&&a(e&&e.message,null)&&(t=!0),"AbortError"===e.name)return null;if(window.isBasicOffline&&("true"===f.headers.get("X-Ajax-Nav")&&history.back(),!t&&(!R._error_displayed||R._error_displayed<=Date.now()-1e4))){var n=Object(l.getLang)("mobile_general_snackbar_error");navigator.onLine||(n=Object(l.getLang)("mobile_pwa_offline_network_lost")),Object(l.statlogsValueEvent)("mvk_ajax_error_snackbar",Number(navigator.onLine)),Snackbar.init({text:n}),R._error_displayed=Date.now()}throw e})),v={request:f,abort:_.abort.bind(_),promise:b};return R._last_req=v,v},post:function(e,t,n){return"/"!=e.substr(0,1)&&(e="/"+e),e=e.split("#")[0],R._post(e,t,n||{})},onPrepared:Object(l.se)(),prepare_click:function(e){var t=window.al;if(r.default.ios&&!(r.default.ios>=7)&&window.al&&t.ver){var n=[],a=!1;e&&"a"==(e.tagName||"").toLowerCase()?n.push(e):Object(l.isArray)(e)?n=e:(n=Object(l.geByTag)("a",e),a=!0);for(var o=0,i=n.length;o<i;o++){var s=n[o],c=s&&s.target||"";if(s&&s.getAttribute&&(!a||!s.getAttribute("data-href")&&Object(l.checkElementNav)(s,{skip_onclick:!0})&&"_blank"!=c)){var u=s.getAttribute("href");if(null==u||!Object(l.isHttpHref)(u))continue;Object(l.attr)(s,"data-href",Object(l.getHref)(s)),Object(l.attr)(s,"href",!1)}}}},click:function(e,t,n){var a=window.nav;t=t||{};var o,i=!1,r={_ajax:1},s=Object(l.extend)(t,{link:e});if(n=n||{},(n=Object(l.extend)({closeContextMenu:!0},n)).closeContextMenu&&ContextMenu.close(),t.onStart){var c=R.tAlGetParam();R.tAlStart=(new Date).getTime(),c&&(r._talstat=c)}if(n.use_cache){var u=Object(l.ge)(!0===n.use_cache?"preload_data":n.use_cache),d=u.innerHTML.replace(/(^<!--|-->$)/g,""),p=d.split("--\x3e\x3c!--");if(d)u.innerHTML="",t.onStart&&t.onStart.apply(s),n.nav&&a.go(i,null,{push_only:!0}),t.onDone&&t.onDone.apply(s,p),(e=Object(l.geByClass1)("show_more",Object(l.geByClass1)("pcont","mcont")))&&R.click(e,{onDone:function(){var e="";Object(l.each)(arguments,(function(t,n){e+="\x3c!--"+(n||"")+"--\x3e"})),u.innerHTML=e,Object(l.ge)("show_more_loading")&&R.click(!1,t,n)}},{closeContextMenu:!1});else t.onStart&&t.onStart.apply(s),n.nav&&a.go(i,null,{push_only:!0});return!1}if(!e)return!0;if(e.form){if(e.disabled)return!0;var _=e.form,h={};i=(_.action||"").replace(/^https?:\/\/[^\/]+/i,""),Object(l.each)(_,(function(t,n){return!(n.name&&!n.disabled)||("radio"===n.type&&!n.checked||("checkbox"===n.type&&!n.checked||("button"===n.type||("submit"===n.type&&n!==e||("image"===n.type&&n!==e||void(h[n.name]=n.value))))))})),"image"==e.type&&(h[e.name]=e.value,h[e.name+".x"]=1,h[e.name+".y"]=1),_.method&&"get"!=_.method?Object(l.extend)(r,h):i=i.split("?",1).shift()+Object(l.obj2qs)(h)}else e.getAttribute&&(i=e.getAttribute("data-href")||e.getAttribute("href"));if(i||(i=e.pathname?e.pathname+e.search+e.hash:e),!i)return!0;Object(l.extend)(r,n.url_params||{});var f=window.pStats,b=f.getSeenData();if(b){var v=window.cur;r._pstat=b.data,v&&v.module&&(r._pstatref=v.module)}return(o=R.post(i,r,{onDone:function(){b&&f.onSend(b.seen),n.lock&&Object(l.unlockButton)(e),t.onDone&&t.onDone.apply(s,arguments),(n.nav||n.scroll)&&Object(l.scrollToHash)()},onFail:function(){n.lock&&Object(l.unlockButton)(e),t.onFail&&t.onFail.apply(s,arguments),(n.nav||n.scroll)&&Object(l.scrollToHash)()}}))&&(t.onStart&&t.onStart.apply(s),n.nav&&a.go(i,null,{push_only:!0}),n.lock&&Object(l.lockButton)(e)),!o},nav:function(e,t){var n=window.nav,i=window.page,u=window.menu,p=window.cur,_=window.Tabbar;(t=t||{}).nav=t.nav||{};var h,g=Object(l.getHref)(e),O=i.getHash(t.nav);if(!(g=n.checkUrl(g)))return!1;"/"!=g.substr(0,1)&&(g="/"+g),u.close(null,!0);var y=R.tGetParam();if(R.tStart=(new Date).getTime(),t.need_restore&&u&&u.closeSearch(),window.isNewMail&&(t.need_restore&&t.nav.push&&!t.need_check_updates&&R.abort_reqs(),n.onBeforeGo2(t.nav.path,Object.assign({},Object(l.qs2obj)(t.nav.params),t.params),t.nav.push,t)))return R.abort_reqs(),!0;if(t.need_restore&&t.nav.push&&(h=i.restore(O))&&(R.abort_reqs(),R._failed_relogin=!1,h.lm&&Object(l.extend)(h.lm,{tn:!1,bn:!1}),i.set(O,h,{restored:!0},t),t.zProcess&&(t.zProcess(h.st),delete t.zProcess),n.set(t),R.tModule=window.cur.module,R.tRestoreRender=(new Date).getTime(),!t.need_check_updates))return!0;var j=!1,k=!1;if(t.need_check_updates&&n.isTabHaveCache(t.tab,O));else if(t.fast)j=!0,i.set(O,!1,{before:!0,beforeAppend:t.beforeAppend,afterAppend:t.afterAppend}),k=t.onAfterFast||!1;else if(t.target&&t.target.className){(S=/(?:^|\s)(al_([a-z_]+)(-?[0-9]+)?)(?:\s|$)/i.exec(t.target.className))&&S[1];var S,A=S&&S[2]||!1;switch(A){case"menu":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){var n=Object(o.$)(".vk__page");if(n.className=n.className.replace("vk__page_notifications",""),window.isNewMail){var a=Object(l.geByClass1)("mcont",e)||Object(l.geByClass1)("layout__basis");Object(l.val)(a,'<div class="pcont bl_cont"><div id="al_loading"></div></div>')}else Object(l.val)(Object(l.geByClass1)("mcont",e),'<div class="pcont bl_cont"><div id="al_loading"></div></div>');i.setMhead(e,Object(l.attr)(t.target,"data-header"),"/")},afterAppend:function(){window.isNewMail&&"/mail"===O?Object(l.alLoadingFix)(Object(l.geByClass1)("layout").offsetHeight):Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}});break;case"tab":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){Object(l.val)(Object(l.geByClass1)("upanel",e),'<div id="al_loading"></div>'),Object(l.val)(Object(l.geByClass1)("basisDefault",e),'<div id="al_loading"></div>');var t=Object(l.geByClass1)("tabs_block",e)||Object(l.geByClass1)("tabs",e),n=Object(l.geByClass1)("active",t);n&&(Object(l.hasClass)("tab_item_top",n)?(Object(l.removeClass)("tab_item_cur",Object(l.geByClass1)("tab_item_cur",t)),Object(l.addClass)("tab_item_cur",Object(l.geByClass1)("tab_item",t))):(Object(l.removeClass)("tab_item_cur",Object(l.geByClass1)("tab_item_cur",t)),Object(l.addClass)("tab_item_cur",n)))},afterAppend:function(){Object(l.alLoadingFix)()}},t);break;case"post":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){var n=window.lang,a=Object(l.clone)(Object(l.gpeByClass)("post_item",t.target)),o=a.id,r=Object(l.outer)(Object(l.gpeByTag)("a",Object(l.geByClass1)("pi_img",a))).replace("pi_img","op_img"),s=Object(l.gpeByTag)("div",Object(l.geByClass1)("pi_author",a)),c=Object(l.remove)(Object(l.geByClass1)("pi_date",a)),u=Object(l.outer)(Object(l.remove)(Object(l.geByClass1)("explain",s))),d=Object(l.remove)(Object(l.geByClass1)("pi_fronly",a)),p=Object(l.outer)(s),_=Object(l.geByClass1)("pi_body",a),h=Object(l.geByClass1)("pi_text_more",_),f=(c=Object(l.geByClass1)("pi_date",a),Object(l.geByClass1)("pi_info",_)),b=Object(l.geByClass1)("pi_links",_),v=Object(l.geByClass1)("replies_link",b),m=Object(l.val)(Object(l.remove)(Object(l.geByClass1)("pi_actions_wrap",a))),g=Object(l.val)(Object(l.remove)(Object(l.geByClass1)("item_replies",f)))?Object(l.val)(v):n.mobile_wall_post_replies_title,w=v?'<a name="comments"></a><h3 class="slim_header">'+(g||"")+'</h3><div id="al_loading"></div>':"";if(h){var O=h.nextSibling?h:h.parentNode;O.nextSibling.style.display="inline",O.style.display="none"}Object(l.val)(b,Object(l.outer)(Object(l.geByClass1)("like_wrap",_))),c&&Object(l.attr)(c,"data-date")&&Object(l.val)(c,Object(l.attr)(c,"data-date")),i.setMhead(e,Object(l.attr)(t.target,"data-header"),!0),Object(l.val)(Object(l.geByClass1)("mcont",e),function(e,t,n,a,o,i,r,s){return'<div class="pcont bl_cont"><div class="owner_panel">'+(t||"")+'<div class="op_cont">'+(n||"")+'<div class="op_info"><span class="item_date">'+(a||"")+'</span></div></div></div><div id="'+(e||"")+'" class="post_item single_post_item"><div class="pi_cont"><div class="pi_head">'+(o||"")+'</div><div class="pi_body">'+(i||"")+"</div></div>"+(s||"")+"</div>"+(r||"")+"</div>"}(o,r,p,Object(l.val)(c)+(d?'<b class="pi_fronly"></b>':""),u,Object(l.val)(_),w,m))},afterAppend:function(e){var n=Object(l.geByTag1)("h3",e);n&&Object(l.alLoadingFix)(t.nav.hash?Object(l.getCh)()-n.offsetHeight:0),t.nav.hash?Object(l.scrollToHash)(t.nav.hash):Object(l.scrollTop)(0)}},t);break;case"wall":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){var n=window.lang,a=Object(l.clone)(Object(l.hasClass)("wall_item",t.target)?t.target:Object(l.gpeByClass)("wall_item",t.target)),o=a.id,r=Object(l.geByClass1)("wi_body",a),s=Object(l.geByClass1)("wi_buttons",a),c=Object(l.geByClass1)("item_like",s),u=Object(l.geByClass1)("v_like",c),d=Object(l.geByClass1)("item_share",s),p=Object(l.geByClass1)("v_share",d),_=Object(l.remove)(Object(l.geByClass1)("item_replies",s)),h=!!_&&Object(l.geByClass1)("v_replies",_),f=+Object(l.stripTags)(Object(l.val)(h)).replace(/\D/g,""),v=Object(l.geByClass1)("pi_text_more",r),m=Object(l.geByClass1)("wi_date",a),g=f?Object(l.langNumeric)(f,n.mobile_wall_post_comments):n.mobile_wall_post_replies_title,w=_&&f<50?'<a name="comments"></a><h3 class="slim_header">'+(g||"")+'</h3><div id="al_loading"></div>':"";if(clog("item_replies",_),Object(l.remove)(Object(l.geByClass1)("wi_actions_btn",a)),Object(l.remove)(Object(l.geByClass1)("post__subscribeBtn",a)),Object(l.remove)(Object(l.geByClass1)("post__extraHeader",a)),u?Object(l.val)(u):Object(l.append)(Object(l.ce)("span",{className:"v_like"}),c),p?Object(l.val)(p):Object(l.append)(Object(l.ce)("span",{className:"v_share"}),d),v){var O=v.nextSibling?v:v.parentNode;O.nextSibling.style.display="inline",O.style.display="none"}m&&Object(l.attr)(m,"data-date")&&Object(l.val)(m,Object(l.attr)(m,"data-date")),i.setMhead(e,Object(l.attr)(t.target,"data-header"),!0);var y=Wd.html(Object(b.Separator)({hideOnDesktop:!0}));Object(l.val)(Object(l.geByClass1)("mcont",e),function(e,t,n,a){return'<div class="pcont"><div class="PageBlock">'+e+'<div class="wall_item single_wall_item" id="'+(t||"")+'">'+(n||"")+"</div>"+(a||"")+"</div></div>"}(y,o,Object(l.val)(a),w)),Object(l.addClass)("vk__page_singlePost",document.body)},afterAppend:function(e){var n=Object(l.geByTag1)("h3",e);n&&Object(l.alLoadingFix)(t.nav.hash?Object(l.getCh)()-n.offsetHeight:0),t.nav.hash?Object(l.scrollToHash)(t.nav.hash):Object(l.scrollTop)(0)}},t);break;case"pinfo":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){var t=window.lang,n=Object(l.geByClass1)("owner_panel",e),a=Object(l.geByClass1)("pp_img",n),o=Object(l.geByClass1)("op_header",n),r=Object(l.geByClass1)("lvi",o),s=Object(l.geByClass1)("pp_last_activity",n),c=Object(l.ce)("div");Object(l.addClass)("mhi_back",Object(l.geByClass1)("mh_header",e)),Object(l.val)(n,'<img src="'+Object(l.escapeAttr)(Object(l.attr)(a,"src")||"")+'" class="op_img"><div class="op_cont"><h2 class="op_header">'+Object(l.stripTags)(Object(l.val)(o))+'</h2><div class="pp_online">'+(r?t.mobile_online:Object(l.val)(s))+"</div></div>"),Object(l.val)(Object(l.geByClass1)("ipanel",e),"<div>"+Object(l.val)(c)+'</div><div id="al_loading"></div>'),i.setMhead(e,!1,!0)},afterAppend:function(){Object(l.alLoadingFix)(),Object(l.scrollTop)(0,10)}},t);break;case"player":j=!0;var M=Object(l.qs2obj)(t.nav.params).playlist_id;i.set(O,!1,{before:!0,beforeAppend:function(e){var t=window,n=t.lang,a=t.audio,o=(a.playlist(),a.playlist_q());i.setMhead(e,n.mobile_menu_player_head_title,!0),Object(l.val)(Object(l.geByClass1)("mcont",e),'\n                <div class="pcont audioPage">\n                  <div class="PageBlock">\n                    <div class="audioPage__header">\n                      '+AudioPlaylist.tplPlayerSearch(M)+'\n                    </div>\n                    <div id="au_search_items" class="upanel bl_cont">\n                      <div class="audios_block audios_list _si_container" data-query="'+Object(l.escapeAttr)(o)+'"></div>\n                    </div>\n                  </div>\n                </div>'),Object(l.val)("m",e.innerHTML)}},t),k=function(){var e=window,n=e.qsearch,a=e.audio,o=a.playlist(),s="/audio"+Object(l.obj2qs)({act:"player",list:M}),c=[],u={},d=a.getCurrentId();Object(l.each)(o,(function(e,t){t.chartInfo=null,c.push(t.fullId),u[t.fullId]=[t.performer+" "+t.title,t]}));var p=c.indexOf(d),_=p>-1?Math.min(p+10,c.length):50,h=[];n.init({action:s,al_action:s,container:"au_search_items",field:Object(l.ge)("au_search_field"),btn:Object(l.ge)("au_search_btn"),top_items:c,_cache:u,forceRerender:!0,tpl:function(e,t,n,o){var i="";if(t){if(o)return o;i=""==o?'<div class="audios_block audios_list _si_container" data-query="'+Object(l.escapeAttr)(t)+'">'+e+"</div>":'<div class="audios_block audios_list _si_container" data-query="'+Object(l.escapeAttr)(t)+'"><div class="al_loading qs_loading">&nbsp;</div></div>'}else i='<div class="audios_block audios_list _si_container" data-query="'+Object(l.escapeAttr)(a.playlist_q())+'">'+e+"</div>";return Wd.html(f({playlist_id:M,inner:Wd.wrap(i)}))},item_tpl:function(e){var t=window.audioplayer;return h.push(e),t&&t.getDOMFromAudio(e,!0,this.q,!0)||""},null_tpl:function(e){var t=window.lang;return'<div class="service_msg_box">\n                  <div class="service_msg service_msg_null">\n                  '+(e?t.mobile_audio_search_not_found.replace("%s",Object(l.htsc)(e)):t.mobile_audio_no_audio)+"\n                  </div>\n                </div>"},soft_filter:!0,need_invalid_keys:r.default.desktop,top_len:_,global_search:!0,onRendered:function(){var e=window,t=e.audioplayer,n=e.audio;t&&t.initAudio(),n.addToPlaylist(h),Object(l.alLoadingFix)()},al_need:!0,init_offset:0});var b=window.audioplayer.getCurrentElem();if(b){var v=Object(l.getY)(b)+b.offsetHeight/2-Object(l.getCh)()/2;Object(l.scrollTop)(v,100),i.save(O,{html:null,st:Object(l.scrollTop)(),page:Object(l.ge)("m"),state:i.stash(),cur:window.cur,options:t||{}},!1)}};break;case"photo":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){_.drawLoader(e);var n=Object(l.geByTag1)("img",t.target),a=(Object(l.attr)(n,"data-src_big")||"").split("|"),o=(a[0],a[1],a[2],n&&n.src||"/images/mobile/blank.gif"),r=n&&n.width||+a[1]||0,s=n&&n.height||+a[2]||0,c=(domData(n,"info-title"),domData(n,"info-subtitle"),function(e,t){return Wd.html(Object(P.default)({is_loading:!0,photo:e}))}({src:o,width:r,height:s}));Object(l.val)(Object(l.geByClass1)("mcont",e),c),Object(l.alLoadingFix)(),i.setMhead(e,lang.mobile_photos_photo_title)},afterAppend:function(){Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}},t);break;case"album":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){_.drawLoader(e);var n,r=t.target.href,s=/((?:album|tag)(-?\d+)(?:(?:_(\d+))?))/.exec(r);s&&(n=s[1]);var u=n&&Object(v.getState)(n)||{},d=Object(o.$)(".AlbumItemInfo__title",t.target),p=!1;t.target.classList.contains("AlbumItem--empty")&&(p=!0);var h=Object(c.makeUrl)("/"+n,{act:"select_album"}),f=Object(a.default)({},u,{title:u.title||Object(l.val)(d)||lang.mobile_page_title_album,description:Wd.wrap(u.description),is_empty:p,add_url:h}),b=function(e){return void 0===e&&(e={}),Wd.html(Object(m.default)(Object(a.default)({},e,{title:Wd.wrap(e.title),is_loading:!e.is_empty})))}(f);Object(l.val)(Object(l.geByClass1)("mcont",e),b),Object(l.alLoadingFix)(),i.setMhead(e,f.title,!0,!1,{movable:!0})},afterAppend:function(){Object(m.initAlbumPage)(),Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}});break;case"albums":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){_.drawLoader(e);var n=t.target.closest(".AlbumsBlock"),i=[];n&&(i=Array.from(Object(o.$$)(".AlbumItem",n)).map((function(e){return Object(w.getDataFromDOM)(e).album})));var r=function(e){return void 0===e&&(e={}),Wd.html(E(Object(a.default)({},e,{section:"all"})))}({albums:i});Object(l.val)(Object(l.geByClass1)("mcont",e),r),Object(l.alLoadingFix)()},afterAppend:function(){Object(m.initAlbumPage)(),Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}});break;case"u":case"g":case"p":case"e":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){_.drawLoader(e)},afterAppend:function(){Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}},t);break;case"playlists":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){_.drawLoader(e)},afterAppend:function(){Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}});break;case"empty":case"artist":case"playlist":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){_.drawLoader(e)},afterAppend:function(){Object(l.alLoadingFix)(),Object(l.scrollTop)(0)}},t);break;case"news_subsection":j=!0,i.set(O,!1,{before:!0,beforeAppend:function(e){var t=Object(l.geByClass1)("news_subsections",e);t&&!Object(l.hasClass)("summary_loading",t.firstChild)&&Object(l.before)(Object(l.ce)("div",{className:"summary_loading",innerHTML:'<i class="i_loading"></i>'}),t.firstChild)}});break;case"tabbar":j=!0,t.is_fast=!0;var x=!1,T={options:{is_fast:!0,tab:t.tab,prev_tab:t.prev_tab}};t.need_check_updates&&h&&(T=Object(l.extend)(T,h),x=!0),i.set(O,T,{before:!x,beforeAppend:function(e){i.setMhead(e,Object(l.attr)(t.target,"data-header"),!1),_.drawSkeletonLoader(e,t.tab),document.body.classList.contains("vk_tabbar_bottom")&&i.hideHeader(e)},afterAppend:function(){Object(l.alLoadingFix)()}});break;default:p=window.cur;var I=!!Object(l.geByClass1)("mhi_logo","mhead");if(j=!0,p.al_fast&&p.al_fast[A])i.set(O,!1,p.al_fast[A](t),t);else if(!I){var B={options:{is_fast:!0,tab:t.tab,removeAfterNextResponse:t.removeAfterNextResponse}};i.set(O,B,{before:!0,afterAppend:function(){Object(l.alLoadingFix)()}})}}}if(t.need_check_updates||R.abort_reqs(),t.local){var L=!0;i.set(O,{},{after:!0,no_scroll:!0,force:!0},!1),k&&k()}else{var D=Object(C.partConfigEnabled)("mvk_fix_nav_params")?{}:Object(l.qs2obj)(t.nav.params);Object(l.extend)(D,t.params||{}),window.al&&!window.al.inited?D[u.NEED_MENU_PARAM]=u.FORCE_NEED_MENU:window.al&&window.al.menu||(D[u.NEED_MENU_PARAM]=u.NEED_MENU),y&&(D._tstat=y);var W=window.pStats,V=W.getSeenData();V&&(D._pstat=V.data,p&&p.module&&(D._pstatref=p.module)),t.target&&Object(s.isElement)(t.target)&&(D._ref=domData(t.target,"ref")),D._ref||(D._ref=(n.path||"").substr(1));var N=g.split("#");!D._hash&&N.length>1&&(D._hash="#"+N[1]),Object(d.preloadStaticForNavigation)(g);var H=Object.assign({},t.headers,{"X-Ajax-Nav":"true"});L=R.post(g,D,{onPageDone:function(e,n,a,r,s){R.fastNav=!1;var l=window.cur;if(V&&W.onSend(V.seen),R.tProcess=(new Date).getTime(),i.set(O,{title:e,html:n,js:a,lm:r,bc:s,st:t.st||0},{after:j,no_scroll:j,al_transition:!0},!j&&t),t.back){var c=Object(o.$)(".layout");i.setMhead(c,!1,t.back)}R.tModule=l.module,R.tRender=(new Date).getTime(),R.onNavDone()},redirectToLoginPage:t.redirectToLoginPage,headers:H});R.save_req()}return j&&(t.zProcess&&(t.zProcess(),delete t.zProcess),n.set(t),R.tModule=p.module,R.tFastRender=(new Date).getTime(),R.fastNav=!0),L},confirm:function(e){function t(t,n,a,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n,a){return!!confirm(t)&&R.click(e,a,{url_params:{hash:n}})})),_post:function(e,t,n){var a=function(e,t){n.onFail&&n.onFail.call(window,0,e,t)},o=window.debuglogSent?window.debuglogSent(e):-1;return R.plainpost(e,t,(function(i,r){if(204===r.status&&r.headers.get("X-AppShell-Fallback")){var s=location.href;return history.replaceState(null,null,Object(c.makeUrl)(location.href,{__appshell_fallback:r.headers.get("X-AppShell-Fallback")})),void location.replace(s)}var u=!1;try{u=Object(l.parseJSON)(i)}catch(t){if(r.getResponseHeader("Content-Type").includes("text/html"))return nav.hard_go(e,null,n);u=!1}!1===u?a():(R.parseResponse(u,e,t,n),R._debugLog(o,u.debugLog))}),a,null,{headers:n.headers})},_debugLog:function(e,t){window.debuglogGot&&window.debuglogGot(e,t)},parseResponse:function(e,t,n,a){var i,r=window.al,s=window.nav,c=window.menu,u=window.page,p=e.version,f=e.counters,b=e.notifications,v=e.type,m=e.statsMeta,g=t.indexOf("community")>=0,w=!1;if(v!==R.RESPONSE_IGNORE)switch(g?(w=!(!window.al||p===r.ver))&&Object(l.statlogsValueEvent)("mvk_version_reload",1,p,r.ver,"old_force_reload_community"):window.al&&p!==r.ver?Object(C.partConfigEnabled)("mvk_lazy_static_reload")?v===R.RESPONSE_ARGUMENTS?B||(B=new M.default({id:"mvk_static_manager",element:document,focusElement:window,triggerEvents:"mouseover mousedown keypress touchstart",idleTimeout:6e5,onIdleCb:function(){Object(l.statlogsValueEvent)("mvk_version_reload",1,p,r.ver,"new_idle_reload"),B.stop(),location.reload()}})).start():(Object(l.statlogsValueEvent)("mvk_version_reload",1,p,r.ver,"new_force_reload"),w=!0):(Object(l.statlogsValueEvent)("mvk_version_reload",1,p,r.ver,"old_force_reload"),w=!0):!window.menu||e.lm_data&&e.lm_data.lm||c.isMenuHasItems()&&((w=!c.refreshCounters(f))&&Object(l.statlogsValueEvent)("mvk_version_reload",1,p,r.ver,"old_force_reload_change_menu"),c.refreshNotifications(b)),void 0===f||!1===f||g||Object(l.setNotify)(f[D.COUNTERS_POS_MESSAGES]),e.lm_data&&e.lm_data.lm&&(f&&(e.lm_data.counters=f),b&&(e.lm_data.notifications=b)),m&&window.vk&&(window.vk.statsMeta=m),v){case R.RESPONSE_ARGUMENTS:if(w)return s.hard_go(s.cur,null,{replace:!0});var O=e.data;if(i=O&&Object(l.isObject)(O[0])&&O[0]._snackbar){if(Snackbar.init(i),2===i.type)return photoview.opened()?void photoview.close():Stories.opened?void Stories.close():zlayer.opened()?void zlayer.close():void(R.fastNav&&history.back());delete O[0]._snackbar}a&&a.onDone&&a.onDone.apply(window,O);break;case R.RESPONSE_REDIRECT:var y=e.location;R.onRedirect(!0,y);var j=e.hard,k=e.frame,S=e.clear,A=e.restore,E=e.replace;if(!k&&window.isNewMail&&R.onBeforeRedirect(y))break;if(S&&s.clear(),(i=e._snackbar)&&(Snackbar.init(i),delete e.snackbar),w||j)s.hard_go(y,null,{replace:E});else if(k){Object(_.setDocumentDomain)();var P=y+(-1==y.indexOf("?")?"?":"&")+"__extra=1",x=Object(l.createIframe)({src:P})}else E&&y===s.prev_cur?history.back():s.go(y,null,{ignore_cur_process:!0,need_restore:A,replace:E});break;case R.RESPONSE_CAPTCHA:var T=e.location,I=e.img,W=e.post,V=e.key;a&&a.onFail?a.onFail(v,T,{location:T,img:I,post:W,key:V}):s.hard_go(T);break;case R.RESPONSE_PAGE:var N=e.lm_data;if(u.need_hard_go=w,N&&N.rdr&&window.al&&r.menu&&Object(l.getW)("vk_wrap")>=614){s.go(N.rdr,null,{replace:!0});break}h.default.getRouter().deactivateAllRoutes(),cur.share&&"destroy"in cur.share&&cur.share.destroy(),(a=a||{}).onPageDone||(a.onPageDone=function(e,n,a,o,i){s.go(t,null,{push_only:!0}),u.set(u.getHash(s),{title:e,html:n,js:a,lm:o,bc:i})});var H=e.title,K=e.html,F=e.js,U=e.body_class,G=e.top_bar,$=Object(l.ge)("vk_topbar");G&&!$?($=Object(l.ce)("div",{id:"vk_topbar",innerHTML:G}),Object(l.before)($,Object(o.$)(".layout"))):Object(l.val)($,G),e.env&&e.env.pe&&(window.vk.pe=e.env.pe),Object(d.addStatic)(e.static_files).then((function(){a.onPageDone(H,K,F,N,U)}));break;case R.RESPONSE_FAILED_AUTH:if(a.redirectToLoginPage)return window.location=e.location,!1;if(!R._failed_relogin){var q=e.location;Object(_.setDocumentDomain)();x=Object(l.createIframe)({src:q})}R._failed_relogin=!0,R.save_failed_req(x,t,n,a);break;case R.RESPONSE_CONFIRM:var z=e.data,Y=L(z),X=Wd.elem(Y);Popup.open(X,!0);break;case R.RESPONSE_IGNORE:return}},onReLoginDone:function(){R.repeat_reqs(),R._failed_relogin=!1},tGetParam:function(){if(R.tStart&&R.tModule){var e=R.tFastRender-R.tStart,t=R.tRestoreRender-R.tStart,n=R.tProcess-R.tStart,a=R.tRender-R.tProcess,o=["/"==R.tModule.substr(0,1)?R.tModule.substr(1):R.tModule,e,t,n,a];for(var i in o)(!o[i]||o[i]<0)&&(o[i]=0);return R.tStart=!1,o.join(",")}},tAlGetParam:function(){if(R.tAlStart&&R.tAlModule){var e=R.tAlProcess-R.tAlStart,t=R.tAlRender-R.tAlProcess,n=["al_"+("/"==R.tAlModule.substr(0,1)?R.tAlModule.substr(1):R.tAlModule),e,t];for(var a in n)(!n[a]||n[a]<0)&&(n[a]=0);return R.tAlStart=!1,n.join(",")}},refreshLinks:function(e,t){if(e){var n=Object(l.geByClass1)("mmi_fv","lm_cont"),a=n&&Object(l.geByClass1)("lfm_item",n),o=Object(l.geByClass1)("mmi_fv","mfoot"),i=o&&Object(l.geByClass1)("lfm_item",o),r=Object(l.ge)("fv_link"),s=Object(l.ge)("menu_fv_link"),c=Object(l.geBySel1)('link[rel="canonical"]');Object(l.attr)(a,"href",e),Object(l.attr)(i,"href",e),Object(l.attr)(r,"href",e),Object(l.attr)(c,"href",Object(l.attr)(Object(l.ge)("mcont"),"data-canonical")),window.nav.prev_fv_link&&Object(l.attr)(s,"href",window.nav.prev_fv_link),window.nav.fv_link=e}if(t){var u=Object(l.geByClass1)("mmi_app","lm_cont"),d=u&&Object(l.geByClass1)("lfm_item",u),p=Object(l.geByClass1)("mmi_app","mfoot"),_=p&&Object(l.geByClass1)("lfm_item",p),h=Object(l.ge)("app_link"),f=!!t&&"return nav.app_go(this, event, '"+Object(l.escapeStr)(t)+"');";Object(l.attr)(d,"onclick",f),Object(l.attr)(_,"onclick",f),Object(l.attr)(h,"onclick",f)}}};window.ajax=R}t.default=window.ajax},lyAj:function(e,t,n){"use strict";n.r(t);var a=n("PU8N");!function(e){if(!e.fastXDM){var t={},n=[],o={};e.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(n,a,o){this.methods=n||{},this.filter=a,this.options=o||{},this.id=e.fastXDM._id++,this.key=function(){for(var e="",t=0;t<5;t++)e+=Math.ceil(15*Math.random()).toString(16);return e}(),this.frameName="fXD"+this.key,this.frameId="fXD"+this.key,this.server=!0,this.methods["%init%"]=this.methods.__fxdm_i=function(){e.fastXDM.run(this.id),this.methods.onInit&&this.methods.onInit()},t[this.key]=[u,this]},Client:function(n,a){if(this.methods=n||{},this.options=a||{},this.id=e.fastXDM._id++,this.client=!0,e.fastXDM.run(this.id),0!==window.name.indexOf("fXD"))throw Error("Wrong window.name property.");this.key=window.name.substr(3),this.caller=window.parent,t[this.key]=[u,this],e.fastXDM.on("helper",(function(){e.fastXDM.onClientStart(this)}),this),l((function(e){e.send(this,e.json.stringify(["%init%"]));var t=this.methods;setTimeout((function(){t.onInit&&t.onInit()}),0)}),this)},onMessage:function(n){if(n.origin!==e.location.origin&&cur){var a=cur.app&&cur.app.options&&cur.app.options.src?cur.app.options.src:"";if(!a)return!1;n.origin!==a&&n.origin+"/"!==a.substring(0,n.origin.length+1)&&console.warn&&console.warn("Warning: message from "+n.origin+" will be disable in future")}var o=n.data;if(!o)return!1;if("string"!=typeof o&&!(o instanceof String))return!1;var i=o.substr(0,5);if(t[i]){var r=t[i][1];!r||r.filter&&!r.filter(n.origin)||t[i][0](o.substr(6),r)}},setJSON:function(e){o.json=e},getJSON:function(e){if(!e)return o.json;l((function(t){e(t.json)}))},setEnv:function(e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);c()},_q:{},on:function(e,t,n){this._q[e]||(this._q[e]=[]),-1==this._q[e]?t.apply(n):this._q[e].push([t,n])},run:function(e){for(var t=(this._q[e]||[]).length,n=0;n<t;n++)this._q[e][n][0].apply(this._q[e][n][1]);this._q[e]=-1},waitFor:i},e.fastXDM.Server.prototype.start=function(t,n){if(t.contentWindow)this.caller=t.contentWindow,this.frame=t,e.fastXDM.on("helper",(function(){e.fastXDM.onServerStart(this)}),this);else{var a=this;(n=n||0)<50&&setTimeout((function(){a.start.apply(a,[t,n+1])}),100)}},e.fastXDM.Server.prototype.destroy=function(){delete t[this.key]},e.fastXDM.Server.prototype.append=function(e,t,n){var o=document.createElement("DIV");o.innerHTML='<iframe name="'+this.frameName+'"  id="'+this.frameId+'" '+(n||"")+"></iframe>";var i=o.firstChild;!Object(a.isMvk)()&&t.vkApp&&window.cur&&window.cur.app&&i.addEventListener("load",(function(){var e=cur.app.cont,t={type:"VKWebAppSettings",frameId:e.id};e.firstElementChild.contentWindow.postMessage(t,"*")}));var r=this,s=function(){i.frameBorder="0",t&&function e(t,n){for(var a in n)t[a]&&"object"==typeof t[a]?e(t[a],n[a]):t[a]=n[a]}(i,t),e.insertBefore(i,e.firstChild),r.start(i)};return!Object(a.isMvk)()&&~e.className.indexOf("app_container--vk-app")&&delete t.scrolling,r.options.layer?s():setTimeout((function(){s()}),0),i},e.fastXDM.Client.prototype.callMethod=e.fastXDM.Server.prototype.callMethod=function(){for(var t=this,n=Array.prototype.slice.call(arguments),a=n.shift(),o=0,r=n.length;o<r;o++)"function"==typeof n[o]?function(){t.funcsCount=(t.funcsCount||0)+1;var e=n[o],a="_func"+t.funcsCount;t.methods[a]=function(){e.apply(this,arguments),delete this.methods[a]},n[o]={_func:t.funcsCount}}():this.options.safe&&(n[o]=s(n[o],!1));i(this,"caller",(function(){e.fastXDM.on(this.id,(function(){l((function(e){e.send(this,e.json.stringify([a,n]))}),this)}),this)}),this)},e.JSON&&"object"==typeof e.JSON&&e.JSON.parse&&e.JSON.stringify&&'{"a":[1,2,3]}'===e.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?o.json={parse:e.JSON.parse,stringify:e.JSON.stringify}:e.fastXDM._needJSON=!0,e.postMessage?(o.protocol="p",o.send=function(e,t){var n=e.frame?e.frame.contentWindow:e.caller;if(n)try{n.postMessage(e.key+":"+t,"*")}catch(a){window.postMessage.call(n,e.key+":"+t,"*")}},e.addEventListener?e.addEventListener("message",e.fastXDM.onMessage,!1):e.attachEvent("onmessage",e.fastXDM.onMessage),e.fastXDM._needJSON?(e.fastXDM._onlyJSON=!0,r()):c()):r()}function i(e,t,n,a,o){e[t]?n.apply(a):(o=o||0)<1e3&&setTimeout((function(){i(e,t,n,a,o+1)}),0)}function r(t){setTimeout((function(){var n=document.createElement("script");n.type="text/javascript",n.src=t||e.fastXDM.helperUrl,i(document,"body",(function(){document.getElementsByTagName("HEAD")[0].appendChild(n)}))}),0)}function s(e,t){var n;switch(typeof e){case"string":n=t?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):e.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if("[object Array]"===Object.prototype.toString.apply(e)){n=[];for(var a=0,o=e.length;a<o;a++)n[a]=s(e[a],t)}else for(var i in n={},e)Object.hasOwnProperty.call(e,i)&&(n[i]=s(e[i],t));break;default:n=e}return n}function l(e,t){o.loaded?e.apply(t,[o]):n.push([t,e])}function c(){o.loaded=!0;for(var e=0,t=n.length;e<t;e++)n[e][1].apply(n[e][0],[o])}function u(e,t){l((function(n){var a=n.json.parse(e);if(a[0]){a[1]||(a[1]=[]);for(var o=0,i=a[1].length;o<i;o++)a[1][o]&&a[1][o]._func?function(){var e=a[1][o]._func;a[1][o]=function(){var n=Array.prototype.slice.call(arguments);n.unshift("_func"+e),t.callMethod.apply(t,n)}}():t.options.safe&&(a[1][o]=s(a[1][o],!0));setTimeout((function(){t.methods[a[0]]?t.methods[a[0]].apply(t,a[1]):console.warn("fastXDM: Method "+a[0]+" is undefined")}),0)}}))}}(window)},myok:function(e,t,n){"use strict";n.r(t);var a=n("TYsd"),o=n("BoyB"),i={className:"Btn",setLoading:function(e,t,n){void 0===n&&(n="");if(!e)return;var a=e.classList.contains(r);if(t){if(a)return;var i=e.classList.contains(s),d=e.classList.contains(c);!n&&i&&(n="white");var p=!1;"spinner"===n&&(p=!0,n=!1);var _=Object(o.default)({mix:l,white:"white"===n||d,large:!0,spinner:p});e.classList.add(r),e.insertAdjacentHTML("afterbegin",_)}else{if(!a)return;var h=e.$(u.loader);e.classList.remove(r),h.remove()}},setDisabled:function(e,t){void 0===t&&(t=!0);e.disabled=t}};t.default=i,i._onClick=d;var r="Btn_loading",s="Btn_theme_secondary",l="Btn__loader",c="Btn__loader--white",u={loader:"."+l};function d(e,t,n){e.preventDefault(),a.default.handle(n,{$btn:t})}},p5n7:function(e,t,n){"use strict";n.r(t);var a=n("z9sQ"),o=n("fdw3"),i=function(e){void 0===e&&(e={});var t=e.style||[],n=e.class||e.mix,i=e.prefix,r=e.postfix,s=function(e){var t=[];Object(o.isArray)(e.on_key_down)?(e.on_key_down.push("event"),t=e.on_key_down):e.on_key_down&&(t=[e.on_key_down,"event"]);var n=e.on_key_press;return{class:"TextInput__native",id:e.id,tag:"input",type:e.type,name:e.name,value:e.value,spellcheck:e.spellcheck+"",placeholder:e.placeholder,autocapitalize:!1===e.autocapitalize?"off":null,autocomplete:!1===e.autocomplete?"off":null,tabindex:e.tabindex,readonly:e.readonly,disabled:e.disabled,oninput:e.on_change,onkeydown:t,onkeypress:n,onblur:e.onblur,onfocus:e.onfocus,maxlength:e.maxlength,pattern:e.pattern,required:e.required,inputmode:e.inputmode}}(e),l=e.error;l&&(t.error=!0);return{class:[a.default.class("TextInput",{style_stretch:t.stretch,prefixed:!!i,hidden:"hidden"===e.type,error:t.error}),n],tag:"label",onclick:e.on_click,inner:i||r||l?[i?{class:a.default.class("TextInput__prefix",{rightPadding:i.with_right_padding,gray:i.gray}),inner:i.text}:null,{class:"TextInput__nativeWrap",inner:s},r?{class:"TextInput__postfix",inner:r.text}:null,l?{inner:[l],class:"TextInput__errorLabel",tag:"span"}:null]:s}};var r=n("zvhO"),s=n("OcsD");Object.assign(i,{setPrefix:function(e,t){e.$(c).innerText=t},getValue:function(e){return e.$(l).value},filter:function(e,t,n){switch(e){case"number":var a=Object(s.val)(n)+String.fromCharCode(t.which);Object(r.isNumber)(parseInt(a))||Object(s.cancelEvent)(t),Object(s.val)(n,Object(s.val)(n).split("").filter((function(e){return Object(r.isNumber)(+e)})).join(""))}}});var l=".TextInput__native",c=".TextInput__prefix";t.default=i;window.TextInput=i},p8d5:function(e,t,n){"use strict";n.r(t),n.d(t,"ORIENTATION_LANDSCAPE",(function(){return i})),n.d(t,"ORIENTATION_PORTRAIT",(function(){return r})),n.d(t,"getCurrentOrientation",(function(){return s})),n.d(t,"lockOrientation",(function(){return l})),n.d(t,"unlockOrientation",(function(){return c})),n.d(t,"onOrientationChanged",(function(){return a}));var a,o=n("OcsD"),i="landscape",r="portrait";function s(){if(window.screen&&window.screen.orientation)switch(window.screen.orientation.type){case"landscape-primary":case"landscape-secondary":return i;case"portrait-primary":case"portrait-secondary":return r;default:if(window.orientation)return 90===Math.abs(window.orientation)?i:r}return window.innerWidth>window.innerHeight?i:r}function l(e){return"orientation"in window.screen&&"lock"in window.screen.orientation?Promise.resolve(window.screen.orientation.lock(e)):Promise.reject("Unsupported")}function c(){"orientation"in window.screen&&"unlock"in window.screen.orientation&&window.screen.orientation.unlock()}window._onOrientationChanged?a=window._onOrientationChanged:(a=Object(o.se)(),window._onOrientationChanged=a,"orientation"in window.screen?window.screen.orientation.onchange=a:addEvent(window,"orientationchange",(function(e){window.browser&&window.browser.iphone?setTimeout((function(){a(e)}),100):a(e)})))},"r/ag":function(e,t,n){"use strict";n.r(t),n.d(t,"POPUP_DISAPPEAR_TIME",(function(){return d})),n.d(t,"POPUP_NAV_PREFIX",(function(){return u}));var a,o,i=n("Po+v"),r=n("1By4"),s=n("UxAg"),l=n("j80l"),c=n("OcsD"),u="pop_",d=200;Object.assign(i.default,{open:function(e,t,n){void 0===n&&(n={});var a=n,o=a.hash,i=a.oncloseCallback;if(A(e),m=Boolean(n.forceScrollDisable),t){var r=e;(e=r.cloneNode(!0)).appendedToBody=!0,e.original=r,document.body.appendChild(e)}e.classList.add(_.open);var s=e.$(h.scroll);k(e),i&&w.push([e,i]);if(s){if(y(e,s),e.onResizeHandler=function(){y(e,s)},Object(c.addEvent)(window,"resize",e.onResizeHandler),!window.MutationObserver)return e;e.scrollContentObserver=new MutationObserver(e.onResizeHandler),e.scrollContentObserver.observe(s,{childList:!0,subtree:!0})}if(o){var l="#"+u+o,d=nav.cur.split("#")[0];nav.go(d+l,!1,{push_only:!0}),g[l]=e}return e},close:j});i.default;i.default._onOverlayClick=O;var p,_=((a={popup:"Popup",open:"Popup_open",wrap:"Popup__wrap",content:"Popup__content",hasScroll:"Popup_hasScroll",scrollView:"ScrollView",closing:"Popup--closing"}).content="Popup__content",a),h=((o={open:"."+_.open,popup:"."+_.popup,wrap:"."+_.wrap,content:"."+_.content,scroll:".Popup__scroll",header:".Popup__header",footer:".Popup__footer"}).content="."+_.content,o),f=!1,b=null,v=null,m=!1,g={},w=[];function O(e,t,n){var a=e.closest(h.popup);t&&r.default.handle(t,{$popup:a}),n&&j(a)}function y(e,t){var n=e.$(h.header),a=e.$(h.footer);t.scrollHeight-6>t.offsetHeight?(Object(c.addClass)(e,_.hasScroll),Object(c.addClass)(t,_.scrollView),ContentScrollView.restore()):(Object(c.removeClass)(e,_.hasScroll),Object(c.removeClass)(t,_.scrollView),t.scrollTop=0);var o=Object(c.getCh)(),i=0,r=0;n&&(i=n.offsetHeight),a&&(r=a.offsetHeight);var s=Math.min(o-i-r-100,420);Object(c.setStyle)(t,"max-height",s+"px")}function j(e,t){void 0===t&&(t={});var n=t,a=n.smooth,o=n.velocity,i=n.lastY;if(e&&!e.classList.contains(_.popup)&&(e=e.closest(h.popup)),e||(e=Object(s.$)(h.open)),e){var r=Object(s.$)(h.wrap,e),d=Object(s.$)(h.content,e);if(a&&o&&i){var p=Object(c.getH)(d),f=(p-i)*o.y;return f>=300&&(f=200),f=Math.max(150,Math.min(300,f)),c.setStyle.animate(r,"transform",{duration:f,func:"cubic-bezier(0.0, 0.0, 0.2, 1)"}),c.setStyle.transform(r,1,[0,p+"px"]),e.classList.add(_.closing),setTimeout((function(){j(e)}),1.1*f)}if(a){e.classList.add(_.closing);var b=Object(c.getH)(d);return c.setStyle.transform(r,1,[0,b+"px"]),setTimeout((function(){j(e)}),200*1.1)}if(e.classList.remove(_.open),e.appendedToBody&&document.body.contains(e)&&Object(c.replace)(e,e.original),e.classList.remove(_.closing),c.setStyle.transform(r),Object(c.removeEvent)(window,"resize",e.onResizeHandler),e.scrollContentObserver&&e.scrollContentObserver.disconnect(),Object(s.$)(h.open)||S(),nav.cur&&nav.cur.startsWith("#"+u)){var v=l.default.make(nav.path,qs2obj(nav.params));nav.set({nav:Object(c.extend)({},nav,{cur:nav.path,path:nav.path||"",push:v||""})})}var m,g=(m=e,(w.find((function(e){return e[0]===m}))||[])[1]);g&&(g(),A(e)),window.cur&&window.cur.app&&window.cur.app.frame&&window.cur.app.frame.focus()}}function k(e){if(window.MutationObserver&&!f){nav.saveScrollPosition();var t=document.body;b=t.style.overflow,f=!0,browser.ios||browser.ipad||(t.style.overflow="hidden"),m&&(t.style.height="100%",document.documentElement.style.overflow="hidden"),v=new MutationObserver((function(){t.contains(e)||S()})),p=Object(c.scrollTop)(),document.body&&(document.body.classList.add("fixed"),Object(c.setStyle)(document.body,{top:"-"+p+"px"}),browser.safari&&Object(c.getCw)()<882&&document.scrollingElement&&(document.scrollingElement.scrollTop=p,setTimeout((function(){document.scrollingElement.scrollTop=p}),100),setTimeout((function(){document.scrollingElement.scrollTop=p}),300))),v.observe(document.body,{attributes:!0,childList:!0,subtree:!0})}}function S(){window.MutationObserver&&f&&(document.body.style.overflow=b,m&&(document.documentElement.style.overflow="initial"),v.disconnect(),document.body&&(document.body.classList.remove("fixed"),Object(c.setStyle)(document.body,{top:""}),Object(c.scrollTop)(p)),f=!1)}function A(e){var t=w.findIndex((function(t){return t[0]===e}));t>=0&&w.splice(t,1)}nav.onPopState&&nav.onPopState((function(){var e=g[nav.cur];e&&(j(e),delete g[nav.cur])})),window.Popup=i.default;t.default=i.default},rc7J:function(e,t,n){"use strict";n.r(t);var a=n("z9sQ");var o=function(e){void 0===e&&(e={});var t=a.default.class("AlbumInfoRow",{withoutBottomBorder:e.withoutBottomBorder},"--");return{inner:[{inner:[{src:e.avatar,alt:"avatar",tag:"img"}],class:"AlbumInfoRow__avatar",href:e.author_url,onclick:"cancelEvent(event); nav.go(this);",tag:"a"},{inner:[{inner:[e.title],class:"AlbumInfoRow__title",href:e.url,tag:"a"},{inner:[e.subtitle],class:"AlbumInfoRow__subtitle",tag:"div"}],class:"AlbumInfoRow__content",tag:"div"}],class:t,onclick:"nav.go('"+e.url+"')",tag:"div"}};t.default=o},t7Ww:function(e,t,n){"use strict";n.r(t),n.d(t,"ModalMenuBtn",(function(){return s})),n.d(t,"ModalMenuContent",(function(){return p})),n.d(t,"ModalMenuIcon",(function(){return l})),n.d(t,"ModalMenuTitle",(function(){return u})),n.d(t,"ModalMenuBody",(function(){return c})),n.d(t,"ModalMenuHeaderCloseButton",(function(){return d}));var a=n("r/ag"),o=n("29dZ"),i=n("Y6JH"),r=n("fdw3");function s(e){var t=e.class?" "+e.class:"";return t=e.isBtn?Object(r.concatValues)(t," ModalMenu__customBtn"):Object(r.concatValues)(t," ModalMenu__item"),Object(o.default)({url:e.url,class:"ModalMenu__btn "+t,theme:e.theme?e.theme:"none",size:e.size?e.size:"",inner:e.inner,on_click:e.onclick,use_native_onclick:!0,attrs:e.attrs,"aria-label":e["aria-label"]||""})}function l(e){return{inner:[{inner:[e.inner],class:"ModalMenu__icon",tag:"div"}],class:"ModalMenu__iconWrapper",tag:"div"}}function c(e){return{inner:[e.inner],class:"ModalMenu__customBody",tag:"div"}}function u(e){return{inner:[e.inner],class:"ModalMenu__title",tag:"div"}}function d(e){return void 0===e&&(e={}),{inner:[Object(i.default)({sprite:"base",name:"dismiss_24"})],class:"ModalMenu__headerCloseButton",onClick:e.onClose?e.onClose:["ModalMenu.close","this"],"aria-label":Object(r.getLang)("mobile_close"),tag:"button"}}function p(e){return e.class+=" ModalMenuContent",e}t.default=function(e){var t=e.attached?"ModalMenu--attached":"",n=window.lang,i=[];if(e.title&&i.push({class:"ModalMenu__title",inner:e.title}),e.body&&i.push({class:"ModalMenu__body",inner:e.body}),Object(r.isArray)(e.items)){var s=e.items.map((function(e){return e}));i.push(s)}e.close&&i.push(Object(o.default)({class:"ModalMenu__btn ModalMenu__cancel",theme:"secondary",size:"large",inner:e.closeText?e.closeText:n.mobile_cancel,on_click:e.onClose?e.onClose:["ModalMenu.close","this"],use_native_onclick:!0}));var l=function(e){if(e&&e[0]&&e[0].inner&&e[0].inner.inner&&"ModalMenuHeader"===e[0].inner.inner[0].class)return!0;return!1}(i)?" ModalMenu--hasHeader":"";return Object(a.default)({id:e.id||"",class:"ModalMenu "+e.class+" "+t+" "+l,on_overlay_click_native:e.on_overlay_click?e.on_overlay_click:["ModalMenu.close","this"],content:i})}},tgcV:function(e,t,n){"use strict";function a(e){return new Promise((function(t,n){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=e,a.onload=function(){return t(a)},a.onerror=function(){return n(new Error("Stylesheet load error for "+e))},document.head.appendChild(a)}))}function o(e){var t,n=(t=e,new Promise((function(e,n){var a=new XMLHttpRequest;a.open("GET",t),a.onload=function(){200===a.status?e(a.response):n(a.response)},a.onerror=function(){n(a.response)},a.send()})));return n.then((function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)})),n}var i;n.r(t),n.d(t,"addStatic",(function(){return p})),n.d(t,"preloadStaticForNavigation",(function(){return _})),n.d(t,"initStaticManager",(function(){return h}));var r=[];function s(e,t){var n=e;t&&(n+="?"+t);var a=new Promise((function(t,a){var o,i,r;o=n,i=function(n){n?(window.stManager.staticFiles[e]=null,a(n)):t()},(r=document.createElement("script")).src=o,r.onload=function(){return i(null,r)},r.onerror=function(){return i(new Error("Script load error for "+o))},document.head.appendChild(r)}));return window.stManager.staticFiles[e]=a,a}function l(e,t){var n=function(){if(void 0!==i)return i;try{var e=document.createElement("b");e.style.display="flex",i="flex"===e.style.display}catch(e){i=!1}return i}()?a:o,r=e;t&&(r+="?"+t);var s=n(r).catch((function(){return window.stManager.staticFiles[e]=null,Promise.resolve()}));return window.stManager.staticFiles[e]=s,s}function c(e){window.stManager.staticFiles[e]=Promise.resolve()}function u(){window.vk&&window.vk.stFiles&&window.stManager?(Object.keys(window.vk.stFiles).forEach((function(e){return c(e)})),window.vk.stFiles=[]):setTimeout(u,0)}function d(e){r[e]&&r[e]()}function p(e){return void 0===e&&(e={}),Promise.all(Object.keys(e).map((function(t){return n=t,a=e[t],window.stManager.staticFiles[n]||(n.includes(".js")?s(n,a):n.includes(".css")?l(n,a):Promise.resolve());var n,a})))}function _(e){var t=window.vk.stNavMap||{};for(var n in t){if(t.hasOwnProperty(n))if(new RegExp(n).test(e)){p(t[n]||{});break}}}function h(){u(),window.stManager={done:d,staticFiles:[],registerLoadedScript:c}}},tlMv:function(e,t,n){"use strict";n.r(t);var a=n("g3t9");t.default=a.default},"v+Uj":function(e,t,n){"use strict";n.r(t),n.d(t,"getCurrentElementIndex",(function(){return h})),n.d(t,"getElements",(function(){return _})),n.d(t,"scrollToElem",(function(){return p})),n.d(t,"_onWheel",(function(){return v}));var a=n("z9sQ");var o=function(e){return{class:[a.default.class("Slider",{snapping:!!e.snapping},"--"),e.class||e.mix],id:e.id,inner:{class:["Slider__scroll","_preventMenuOpen"],attrs:e.attrs,onwheel:["Slider._onWheel","event","this"],inner:{class:"Slider__line",attrs:{role:"presentation"},inner:e.inner}}}},i=n("OcsD"),r=n("UxAg"),s=n("jk6M");window.Slider={scrollToElem:p,nextElem:f,prevElem:b},Slider._onWheel=v,onDOMReady(g),onDOMReady((function(){onBodyResize(m)}));var l=".Slider",c=".Slider--snapping",u=".Slider__scroll",d=".Slider__line";function p(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n="center"),e){var a=e.closest(u),o=e.offsetLeft;"center"===n&&(o-=a.offsetWidth/2-e.offsetWidth/2);var r=0;if(window.getComputedStyle){var s=getComputedStyle(e);(s.scrollMarginLeft||s.scrollSnapMarginLeft)&&(r+=Object(i.toInt)(s.scrollMarginLeft||s.scrollSnapMarginLeft))}t&&a.scrollTo?(Object(i.domData)(a,"left",o-r),a.scrollTo({left:o-r,behavior:"smooth"})):a.scrollLeft=o-r}}function _(e){return e=Object(i.ge)(e),Object(r.$)(d,e).childNodes}function h(e,t){var n=Object(r.$)(u,e);return t||(t=_(e)),Array.from(t).map((function(e,t){return{index:t,scrollLeft:Math.abs(e.offsetLeft-n.scrollLeft)}})).sort((function(e,t){return e.scrollLeft-t.scrollLeft}))[0].index}function f(e,t,n){void 0===t&&(t=!1);var a=_(e=Object(i.ge)(e)),o=a[h(e,a)+1];f&&p(o,t,n)}function b(e,t,n){void 0===t&&(t=!1);var a=_(e=Object(i.ge)(e)),o=a[h(e,a)-1];o&&p(o,t,n)}function v(e,t){var n=e.deltaX,a=e.deltaY;Math.abs(n)>Math.abs(a)&&(e.preventDefault(),t.scrollLeft+=n)}function m(){var e=Object(r.$$)(c);Array.from(e).forEach((function(e){var t=Object(r.$)(u,e);t.scrollLeft=t.scrollLeft}))}function g(){(s.default.ios||s.default.msie_edge)&&(onDOMReady(O),window.page&&window.page.onChange(O),window.MutationObserver&&onDOMReady((function(){document.body&&new MutationObserver(w).observe(document.body,{subtree:!0,childList:!0})})))}function w(e){e.forEach((function(e){e.addedNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&e.$$(l).forEach(y)}))}))}function O(){Object(r.$$)(l).forEach(y)}function y(e){var t=getComputedStyle(e),n=Number(t.paddingTop.replace("px","")),a=Number(t.paddingBottom.replace("px",""));e.style.overflow="hidden",e.style.height=e.offsetHeight-n-a+"px",e.$(u).style.paddingBottom="20px"}t.default=o;window.Slider=o,Object(i.extend)(o,{scrollToElem:p,nextElem:f,prevElem:b,_onWheel:v})},vOib:function(e,t,n){"use strict";n.r(t);var a=n("UWnA"),o=n("8ZMO"),i=n("KiYr"),r=n("z9sQ"),s=n("fdw3");function l(e){var t=[e];return Object(s.isArray)(e)&&(t=Object(s.wdToFlatArray)(e)),t.join("")}function c(e){var t=l(e);return!t||"<div></div>"===t}var u=function(e){if(void 0===e&&(e={}),e.content_only)return{outerHTML:l(e.content)};var t=e.title,n=e.corner||{},s=e.inner||e.content||e.children,u=e.anchor,d=e.alert,p=e.style||{},_=e.attrs||{},h=e.noShadow,f="gray";null!==e.count&&(f="black");var b=e.pageBlock?"PageBlock PageBlock--separate":"",v=[t];if(null!==e.count){var m={inner:[e.count],class:"Pad__count",tag:"span"};v.push(m)}return{tag:e.tag||"div",class:[e.class||e.mix,r.default.class("Pad",{empty:c(s),noBorder:e.no_border,noCapsTitle:e.no_caps_for_title,style_extraTopPadding:p.extra_top_padding,theme:f,noShadow:h}),b],attrs:_,"data-id":e.name||e.id,inner:[u?Object(o.default)({mix:"Pad__anchor",id:u}):null,d?Object(a.default)({inner:[Object(i.default)({inner:[d],class:"Pad__alert",theme:e.alert_theme})],style:{tiny_padding_bottom:!0}}):null,t?Object(a.default)({inner:[e.isHeaderPage?{inner:[v],class:"Pad__title",tag:"h1"}:{inner:[v],class:"Pad__title",tag:"h3"},n.url?{inner:[n.text],href:n.url,onClick:n.onclick,attrs:n.attrs,class:["Pad__corner",n.class],tag:"a"}:{inner:[n.text],href:n.url,onClick:n.onclick,attrs:n.attrs,class:["Pad__corner",n.class],tag:"div"}],class:"Pad__header"}):null,t?{inner:[s],class:["Pad__content",e.content_mix],tag:"div"}:s]}};t.default=u},vhZE:function(e,t,n){"use strict";n.r(t);var a=n("z9sQ"),o=n("z1UI"),i=n("Y6JH");var r=function(e){void 0===e&&(e={});var t={},n=e.raw||"",r=e.hash||"",s=e.text||"";"album"===(e.attachment_type||"")&&(e.height-=60),e.type&&"blur"!==e.type||(e.width>=250&&e.height>=250?e.type="blurWithText":e.type="blur"),("blur"===e.type||e.only_icon)&&(delete e.button,delete e.title),e.type&&(t[e.type]=!0);var l,c=a.default.class("PostPhotoRestriction",t,"--");"blur"!==e.type&&"blurWithText"!==e.type||(l=e.width<100||e.height<100?Object(i.default)({sprite:"wall",name:"hide_outline_28"}):Object(i.default)({sprite:"wall",name:"hide_outline_56"})),"block"===e.type&&(!e.forceText&&(e.width<300||e.height<250)&&(delete e.title,delete e.text),l=e.width<100||e.height<100?Object(i.default)({sprite:"wall",name:"block_outline_28"}):Object(i.default)({sprite:"wall",name:"do_not_disturb_outline_56"})),l={inner:[l],class:"SplashScreen__icon",tag:"div"},"block"!==e.type||e.title||(e.title=e.text);var u="PostPhotoRestriction.clear(this, event, '"+s+"', '"+e.button+"', '"+n+"', '"+r+"')";return{inner:[{inner:[Object(o.default)({title:e.title,icon_raw:l,more_text:e.button,more_type:"outlineMono",more_onclick:u,more_ontouchend:u,more_native_onclick:!0})],class:"PostPhotoRestriction__splash",tag:"div"}],class:c,tag:"div"}},s=n("he4e"),l=n("OcsD");window.PostPhotoRestriction={clear:s.clear,onClearConfirm:s.onClearConfirm,onClearDecline:s.onClearDecline};t.default=Object(l.extend)(r,{onClear:s.onClear,isCleared:s.isCleared})},vk58:function(e,t,n){"use strict";n.r(t);var a=n("29dZ"),o=n("fdw3"),i=n("z9sQ");var r=function(e){var t=e.btns||e.inner||[],n=e.mode||"horizontal",r=e.align||"start";Object(o.isArray)(e.inner)&&1===e.inner.length&&e.inner[0].length>1&&(t=e.inner[0]),e.nowrap&&(t=t.map((function(e){return e.nowrap=!0,e})));var s,l=i.default.class("BtnStack",{stretchOnSmallScreens:e.stretch_on_small_screens,table:e.nowrap,mode:n,align:r}),c=t.map((function(e){if(!e)return null;var t=["BtnStack__btn"];if(e.class&&t.push(e.class),e.mix&&t.push(e.mix),e.class=Object(o.arrayUnique)(Object(o.arrayFlat)(t)),!!e._&&e._.__is_wd_internal_data||Object(o.arrayIncludes)(t,"CellButton")||(e=Object(o.extend)(Object(a.default)(e),{nowrap:e.nowrap,is_icon:e.is_icon})),e.nowrap){var n=i.default.class("BtnStack__cell",{icon:e.is_icon});return delete e.nowrap,{inner:[e],class:n,tag:"div"}}return e}));return e.after&&(s={class:i.default.class("BtnStack__cell",e.after_mix),inner:e.after}),{inner:[c[0]?c:null,s],class:l,tag:"div"}};t.default=r},wTbK:function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return w})),n.d(t,"close",(function(){return j})),n.d(t,"ModalMenuBtn",(function(){return s.ModalMenuBtn})),n.d(t,"ModalMenuIcon",(function(){return s.ModalMenuIcon})),n.d(t,"ModalMenuTitle",(function(){return s.ModalMenuTitle})),n.d(t,"ModalMenuBody",(function(){return s.ModalMenuBody})),n.d(t,"ModalMenuHeaderCloseButton",(function(){return s.ModalMenuHeaderCloseButton}));var a,o,i,r=n("OcsD"),s=n("t7Ww"),l=n("r/ag"),c=n("UxAg"),u=function(){function e(e){this.lastTime=0,this.lastRegisteredTime=0,this.lastCoordinates=[],this.lastTime=e.time,this.lastCoordinates=[e.x,e.y],this.velocity={x:0,y:0}}return e.getVelocity=function(e,t,n){return{x:t/e||0,y:n/e||0}},e.prototype.registerEvent=function(t){if("touchmove"===t.type){var n=t.touches[0].clientX,a=t.touches[0].clientY,o=t.timeStamp-this.lastTime;if(t.timeStamp-this.lastRegisteredTime<=16.67)this.lastCoordinates=[n,a],this.lastTime=t.timeStamp;else{var i=n-this.lastCoordinates[0],r=a-this.lastCoordinates[1];this.velocity=e.getVelocity(o,i,r),this.lastTime=t.timeStamp,this.lastRegisteredTime=this.lastTime,this.lastCoordinates=[n,a]}}else window.clog&&window.clog("[Gestures.js] unhandled event "+t.type)},e}(),d=n("CQvH"),p=!1,_=null,h=0,f=0,b={},v=null,m=Object(c.$)(".Popup__wrap",a),g=!1;function w(e,t,n,s){void 0===t&&(t=!0),void 0===n&&(n=""),void 0===s&&(s={});var u=s,p=u.settling,_=void 0===p?75:p,h=u.expandable,f=void 0!==h&&h;if(s.settling=_,s.expandable=f,a=l.default.open(e,t,{hash:n}),b=s,m=Object(c.$)(".Popup__wrap",a),i=Object(c.$)(".Popup__content",m),void 0===s.swipeDown&&(s.swipeDown=!0),f&&y(a)){a.classList.add("ModalMenu--expandable");var v=(100-b.settling)/100*window.innerHeight;A=v,r.setStyle.animate(m,"transform",{duration:200,func:"ease"}),r.setStyle.transform(m,1,[0,v])}return M(),Object(r.onBodyResize)(M),s.swipeDown&&window.innerWidth<882&&(scrollTop(0),Object(r.addEvent)(i,"touchstart",k,{passive:!0}),Object(r.addEvent)(i,"touchmove",E,{capture:!0}),Object(r.addEvent)(i,"touchcancel touchend",P,{passive:!0}),Object(r.addEvent)(m,"click",O,{passive:!0}),Object(r.addEvent)(m,"click",O,{passive:!0})),(o=Object(d.setFocusTrap)(a))&&(o.exitIntent=function(){return!1}),a}function O(e){if(m&&e.target===m)return(o=Object(d.setFocusTrap)(a))&&(o.exitIntent=function(){return!1}),a}function y(e){var t=Object(c.$)(".ModalMenu__body",e)||Object(c.$)(".ModalMenuContent",e)||Object(c.$)(".Popup__content",e);return!(Object(r.getCw)()>=882)&&(t.scrollHeight||Object(r.getH)(t))>=window.innerHeight}function j(e,t){if(void 0===t&&(t={}),e||(e=document.activeElement),e){var n=e.closest(".ModalMenu.Popup_open")||e;n&&(innerWidth<882?(l.default.close(n,{smooth:!0,velocity:!(!v||!v.velocity)&&v.velocity,lastY:f}),t.onClose&&t.onClose()):setTimeout((function(){l.default.close(n),t.onClose&&t.onClose()})),Object(r.removeEvent)(i,"touchstart",k,{passive:!0}),Object(r.removeEvent)(i,"touchmove",E,{capture:!0}),Object(r.removeEvent)(i,"touchcancel touchend",P,{passive:!0}),Object(r.removeEvent)(m,"click",O,{passive:!0}),Object(r.removeEvent)(m,"click",O,{passive:!0}),_=null,h=0,S=!1,f=0,A=0,a=null,m=null,i=null,v=null,b={},Object(r.onBodyResize)("__clear",M),o&&(o(),o=null))}}function k(e){if(e.touches&&e.touches.length>1)p=!1;else{var t=e.target.closest(".ScrollView")||Object(c.$)(".ScrollView",e.target);if(!Object(c.$)(".ModalMenu").classList.contains("ModalMenu--blocked")){var n=b.expandable&&y(a);g=n,_=e.touches[0],h=e.touches[0].clientY,t&&t.scrollTop>1?p=!1:(v=new u({time:e.timeStamp,x:e.touches[0].clientX,y:e.touches[0].clientY}),p=!0)}}}var S=!1,A=0;function E(e){if(e.touches&&e.touches.length>1)p=!1;else if(_&&p){var t=e.touches[0];v.registerEvent(e);var n=-Math.min(0,h-t.clientY-A);0!==n&&(Object(r.cancelEvent)(e),f=n,S||(a.classList.add("ModalMenu--dragging"),browser.ios&&r.setStyle.animate(m,"transform",{duration:50,func:"linear"}),S=!0),C(n),r.setStyle.transform(m,1,[0,n]))}}function P(e){if(p){p=!1,a.classList.remove("ModalMenu--dragging"),S=!1,C(f);var t=b.expandable&&y(a);g=t;var n=a.classList.contains("ModalMenu--expanded"),o=!n,i=function(e){void 0===e&&(e=[]);return e.find((function(e){return 0!==e.scrollTop||e.scrollHeight>e.offsetHeight}))}(e.path),s=!1;i&&(s=0!==i.scrollTop);var l=!1,c=!1;v&&(l=!s&&v.velocity.y>=.6,c=!s&&v.velocity.y<=-.15);var u=f/innerHeight*100,d="";n?d="expand":o&&(d="collapse");var _=d;l&&u<8?u=8:c&&(u=0),!t&&u>=8||u>=100-b.settling+8?_="close":n?u>=8&&!s&&(_="collapse"):o&&y(a)&&u<=100-b.settling&&(_="expand"),function(e){if(!e)return;a.classList.toggle("ModalMenu--expanded","expand"===e),"close"!==e&&m.style.removeProperty("transition");switch(e){case"collapse":a.classList.add("ModalMenu--restore");var t=0;y(a)&&(t=(100-b.settling)/100*window.innerHeight),A=t,r.setStyle.transform(m,1,[0,t]),C(A=t,!0),setTimeout((function(){a&&a.classList.remove("ModalMenu--restore"),0===t&&Object(r.setStyle)(m,{transform:""})}),200);break;case"expand":a.classList.add("ModalMenu--restore"),a.classList.add("ModalMenu--expanded"),r.setStyle.transform(m,1,[0,0]),C(A=0,!0),setTimeout((function(){a&&(M(),a.classList.remove("ModalMenu--restore"))}),200);break;case"close":A=0,j(a,b)}}(_),v=null}}function C(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),g){var n=(100-b.settling)/100*window.innerHeight,a=Object(c.$)(".ModalMenuHeader__title",m),o=Object(c.$)(".ModalMenuHeader__close",m),i=1-Math.max(0,Math.min(1,(null===e?A:e)/n));t&&(r.setStyle.animate(a,"transform",{duration:250}),r.setStyle.animate(o,"transform, opacity",{duration:250})),r.setStyle.transform(a,1,[44*i,0]),r.setStyle.transform(o,i),Object(r.setStyle)(o,{opacity:i})}}function M(){var e=Object(c.$)(".ModalMenuContent",a),t=Object(c.$)(".ModalMenuHeader",a);if(e&&t){var n=Object(r.getH)(t),o=Object(r.getH)(e),i=Math.min(Object(r.getCh)(),o+n+"px");Object(r.getCw)()>=882&&(i=null),Object(r.setStyle)(e,"height",i)}}Object(r.addEvent)(window,"keydown",(function(e){var t=e.target&&e.target.closest(".ModalMenu")||document.activeElement&&document.activeElement.closest(".ModalMenu")||Object(c.$)(".ModalMenu.Popup_open");if(t)switch(e.keyCode){case 27:j(t,b)}})),Object(r.addEvent)(window,"click",(function(e){if(e.isTrusted){var t=e.target&&e.target.closest(".ModalMenu")||document.activeElement&&document.activeElement.closest(".ModalMenu")||Object(c.$)(".ModalMenu.Popup_open"),n=!!e.target.closest(".ModalMenu");if(t&&n&&!e.target.closest(".Popup__content")){var a=Object(c.$)(".Popup__overlay",t);window.clog("Simulate modal overlay click"),a.click()}}}),{passive:!0});t.default=s.default;window.ModalMenu=s.default,Object(r.extend)(s.default,{open:w,close:j})},z1UI:function(e,t,n){"use strict";n.r(t);var a=n("k+Df");t.default=a.default},z9sQ:function(e,t,n){"use strict";n.r(t);n("OcsD");var a={class:function(e,t,n){void 0===t&&(t={});void 0===n&&(n="_");var a=[e];return Object.keys(t).forEach((function(i){if(o(i)){var r=t[i];!0===r?a.push(""+e+n+i):o(r)&&a.push(""+e+n+i+n+r)}})),a.join(" ")},setMod:function(e,t,n){var a,i=new RegExp("\\s*"+t+"(_[-a-zA-Z]+)?");a=!0===n?" "+t:o(n)?" "+t+"_"+n:"";i.test(e.className)?e.className=e.className.replace(i,a):e.className+=a}};function o(e){return"number"==typeof e||"string"==typeof e&&e}t.default=a;window.Bem=a},zouF:function(e,t,n){"use strict";n.r(t),n.d(t,"Confirm",(function(){return s}));var a=n("OcsD"),o=n("TYsd"),i=n("Po+v"),r=n("29dZ");function s(e,t,n,s){void 0===s&&(s={});var l=Object(a.ceFromString)(o.default.html(Object(i.default)({id:s.id,class:"Confirm",scrollable:!0,header:{title:s.title||getLang("mobile_warning_header")},on_overlay_click_native:n,content:[e,{class:"Popup__buttons",inner:[Object(r.default)({onClick:t,use_native_onclick:!0,class:"Popup__button",theme:s.theme_accept_btn||"regular",url:s.yes_href,inner:o.default.wrap(s.yes_label||getLang("mobile_continue"))}),Object(r.default)({onClick:n||"Popup.close(this)",use_native_onclick:!0,class:"Popup__button",theme:s.theme_close_btn||"secondary",url:s.no_href,inner:o.default.wrap(s.no_label||getLang("mobile_cancel"))})]}]})));i.default.open(l,!0)}window.page&&page.onChange((function(){$$(".Confirm").forEach((function(e){return i.default.close(e)}))})),window.Confirm=s},zvhO:function(e,t,n){"use strict";function a(e){return"number"==typeof e&&!isNaN(e)}n.r(t),n.d(t,"isNumber",(function(){return a}))}},[[1,"runtime","vendors","b-a8f7cf0af671e2a555da7b25524b9a42","b-35216c87a51105ca4c1dd702437ad9c1","b-2367543f76e467ff06e88e6568dd4311"]]]);